(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2050],{9540:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},14606:(e,r,t)=>{"use strict";t.d(r,{Cs:()=>a,Qg:()=>s,Te:()=>n,UW:()=>d,cf:()=>o});var i=t(22663);let n=e=>{i.Ay.success(e,{duration:4e3,position:"top-right",style:{background:"#16a34a",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#16a34a"}})},s=e=>{i.Ay.error(e,{duration:5e3,position:"top-right",style:{background:"#dc2626",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#dc2626"}})},o=e=>{(0,i.Ay)(e,{duration:4e3,position:"top-right",icon:"ℹ️",style:{background:"#3b82f6",color:"#fff",fontWeight:600}})},a=e=>i.Ay.loading(e,{position:"top-right",style:{background:"#f59e0b",color:"#fff",fontWeight:600}}),d=e=>{i.Ay.dismiss(e)}},15870:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20508:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},26617:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},40294:(e,r,t)=>{"use strict";t.d(r,{kt:()=>h,lV:()=>p,p8:()=>g});var i=t(95155);t(12115);var n=t(50625);let s=(0,n.i7)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),o=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-0"})(["animation:"," 1s linear infinite;"," ",""],s,e=>{let{$size:r}=e;switch(r){case"sm":return"width: 1rem; height: 1rem;";case"lg":return"width: 2rem; height: 2rem;";default:return"width: 1.5rem; height: 1.5rem;"}},e=>{let{$color:r,theme:t}=e;switch(r){case"white":return"color: white;";case"gray":return"color: ".concat(t.colors.secondary[600],";");default:return"color: ".concat(t.colors.primary[600],";")}}),a=n.Ay.button.withConfig({componentId:"jt-app__sc-50765fb0-1"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;&:disabled{opacity:0.5;cursor:not-allowed;}"]),d=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-2"})(["position:relative;"]),l=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-3"})(["position:absolute;inset:0;background:rgba(255,255,255,0.75);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:",";"],e=>{let{theme:r}=e;return r.borderRadius.lg}),c=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-4"})(["text-align:center;p{margin-top:0.5rem;font-size:",";color:",";}"],e=>{let{theme:r}=e;return r.typography.fontSize.sm},e=>{let{theme:r}=e;return r.colors.text.secondary}),h=e=>{let{size:r="md",color:t="orange",className:n=""}=e;return(0,i.jsx)(o,{$size:r,$color:t,className:n,children:(0,i.jsxs)("svg",{width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{style:{opacity:.75},fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},p=e=>{let{isLoading:r,children:t,onClick:n,type:s="button",className:o="",disabled:d=!1}=e;return(0,i.jsxs)(a,{type:s,onClick:n,disabled:r||d,className:o,children:[r&&(0,i.jsx)(h,{size:"sm",color:"white"}),(0,i.jsx)("span",{children:t})]})},g=e=>{let{isLoading:r,message:t="Loading...",children:n}=e;return(0,i.jsxs)(d,{children:[n,r&&(0,i.jsx)(l,{children:(0,i.jsxs)(c,{children:[(0,i.jsx)(h,{size:"lg"}),(0,i.jsx)("p",{children:t})]})})]})}},45938:(e,r,t)=>{Promise.resolve().then(t.bind(t,97582))},47921:(e,r,t)=>{"use strict";t.d(r,{CP:()=>c,Tk:()=>d,Z2:()=>a,cV:()=>l});var i=t(95155),n=t(58347),s=t(12115);let o=(0,s.createContext)({hasNextAuth:!0}),a=()=>(0,s.useContext)(o);function d(){try{let{hasNextAuth:e}=a();if(!e)return{data:null,status:"unauthenticated"};return(0,n.wV)()}catch(e){return{data:null,status:"loading"}}}function l(){let{hasNextAuth:e}=a();return async r=>{if(e)return(0,n.signOut)(r);localStorage.removeItem("mobile-auth-session"),localStorage.removeItem("mobile-auth-user"),window.location.href="/mobile/login"}}function c(e){let{children:r}=e,[t,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async()=>{try{let e=new AbortController,r=setTimeout(()=>e.abort(),3e3),t=await fetch("/api/auth/session",{method:"GET",headers:{Accept:"application/json"},signal:e.signal});clearTimeout(r);let i=t.headers.get("content-type");if(t.ok&&(null==i?void 0:i.includes("application/json")))try{await t.json(),a(!0)}catch(e){a(!1)}else a(!1)}catch(e){a(!1)}})()},[]),(0,i.jsx)(o.Provider,{value:{hasNextAuth:t},children:t?(0,i.jsx)(n.CP,{children:r}):(0,i.jsx)(i.Fragment,{children:r})})}},54690:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},65229:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65993:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},80534:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},91169:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},97582:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>er});var i=t(95155),n=t(12115),s=t(52619),o=t.n(s),a=t(47921),d=t(20063),l=t(50625),c=t(39903),h=t(40294);t(14606);var p=t(22663),g=t(65993),m=t(26617),u=t(91169),x=t(80534),f=t(54690),j=t(15870),b=t(20508),y=t(65229),v=t(9540);let w=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-0"})(["min-height:100vh;background:#fafaf9;"]),k=l.Ay.header.withConfig({componentId:"jt-app__sc-1ce3357e-1"})(["background:white;border-bottom:2px solid #e7e5e4;position:sticky;top:0;z-index:50;box-shadow:0 2px 8px rgba(0,0,0,0.05);"]),A=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-2"})(["max-width:1600px;margin:0 auto;padding:0 1.5rem;display:flex;align-items:center;justify-content:space-between;height:70px;"]),_=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-3"})(["display:flex;align-items:center;gap:2rem;"]),C=(0,l.Ay)(o()).withConfig({componentId:"jt-app__sc-1ce3357e-4"})(["display:flex;align-items:center;gap:0.75rem;text-decoration:none;"]),I=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-5"})(["width:44px;height:44px;background:linear-gradient(135deg,#7c3aed 0%,#5b21b6 100%);border-radius:0.75rem;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:1.25rem;box-shadow:0 2px 8px rgba(124,58,237,0.3);"]),z=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-6"})(["h1{font-size:1.25rem;font-weight:700;color:#1c1917;margin:0;line-height:1.2;}p{font-size:0.75rem;color:#78716c;margin:0;line-height:1;}"]),S=l.Ay.nav.withConfig({componentId:"jt-app__sc-1ce3357e-7"})(["display:none;@media (min-width:1024px){display:flex;align-items:center;gap:0.5rem;}"]),M=l.Ay.ul.withConfig({componentId:"jt-app__sc-1ce3357e-8"})(["list-style:none;padding:0;margin:0;display:flex;align-items:center;gap:0.5rem;"]),D=l.Ay.li.withConfig({componentId:"jt-app__sc-1ce3357e-9"})(["display:inline-flex;"]),N=l.Ay.button.withConfig({componentId:"jt-app__sc-1ce3357e-10"})(["display:flex;align-items:center;gap:0.5rem;padding:0.625rem 1rem;border-radius:0.5rem;border:none;cursor:pointer;font-weight:500;font-size:0.9375rem;transition:all 0.2s ease;background:",";color:",";&:hover{background:",";color:",";}svg{width:18px;height:18px;}"],e=>e.$active?"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)":"transparent",e=>e.$active?"white":"#44403c",e=>e.$active?"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)":"#f5f5f4",e=>e.$active?"white":"#1c1917"),T=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-11"})(["display:flex;align-items:center;gap:0.75rem;"]),O=l.Ay.button.withConfig({componentId:"jt-app__sc-1ce3357e-12"})(["display:flex;align-items:center;gap:0.5rem;padding:0.5rem 0.875rem;border-radius:0.5rem;border:none;background:#f5f5f4;color:#1c1917;cursor:pointer;font-weight:500;transition:all 0.2s ease;&:hover{background:#e7e5e4;}"]),$=l.Ay.button.withConfig({componentId:"jt-app__sc-1ce3357e-13"})(["display:flex;align-items:center;justify-content:center;padding:0.5rem;background:none;border:none;color:#44403c;cursor:pointer;border-radius:0.5rem;&:hover{background:#f5f5f4;}@media (min-width:1024px){display:none;}"]),L=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-14"})(["position:fixed;top:70px;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:40;display:",";@media (min-width:1024px){display:none;}"],e=>e.$isOpen?"block":"none"),B=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-15"})(["background:white;width:280px;height:100%;overflow-y:auto;padding:1.5rem;"]),P=l.Ay.button.withConfig({componentId:"jt-app__sc-1ce3357e-16"})(["width:100%;display:flex;align-items:center;gap:0.75rem;padding:0.75rem 1rem;border:none;background:",";color:",";border-radius:0.75rem;cursor:pointer;font-weight:500;font-size:0.9375rem;margin-bottom:0.5rem;transition:all 0.2s ease;text-align:left;&:hover{background:",";color:",";}svg{width:20px;height:20px;flex-shrink:0;}"],e=>e.$active?"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)":"transparent",e=>e.$active?"white":"#44403c",e=>e.$active?"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)":"#f5f5f4",e=>e.$active?"white":"#1c1917"),R=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-17"})(["margin-bottom:2rem;h2{font-size:1.875rem;font-weight:700;color:#1c1917;margin:0 0 0.5rem 0;}p{font-size:1rem;color:#78716c;margin:0;}"]),V=l.Ay.main.withConfig({componentId:"jt-app__sc-1ce3357e-18"})(["max-width:1400px;margin:0 auto;padding:2rem 1.5rem;padding-bottom:4rem;"]),E=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-19"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem;"]),W=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-20"})(["background:white;border:1px solid #e5e7eb;border-radius:0.75rem;padding:1.5rem;box-shadow:0 1px 3px rgba(0,0,0,0.05);h3{margin:0 0 0.5rem 0;font-size:2rem;color:#7c3aed;font-weight:700;}p{margin:0;color:#6b7280;font-weight:500;}"]),q=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-21"})(["display:flex;gap:1rem;margin-bottom:1.5rem;align-items:center;@media (max-width:768px){flex-direction:column;}"]),U=l.Ay.input.withConfig({componentId:"jt-app__sc-1ce3357e-22"})(["flex:1;padding:0.75rem 1rem;border:1px solid #e5e7eb;border-radius:0.5rem;font-size:1rem;&:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 3px rgba(124,58,237,0.1);}"]),H=l.Ay.select.withConfig({componentId:"jt-app__sc-1ce3357e-23"})(["padding:0.75rem 1rem;border:1px solid #e5e7eb;border-radius:0.5rem;font-size:1rem;background:white;cursor:pointer;&:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 3px rgba(124,58,237,0.1);}"]),F=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-24"})(["display:grid;grid-template-columns:2fr 1fr;gap:2rem;@media (max-width:768px){grid-template-columns:1fr;}"]),J=l.Ay.section.withConfig({componentId:"jt-app__sc-1ce3357e-25"})(["background:white;border-radius:0.75rem;padding:1.5rem;border:1px solid #e7e5e4;box-shadow:0 1px 3px rgba(0,0,0,0.05);h2{font-size:1.25rem;font-weight:700;color:#1c1917;margin:0 0 1.5rem 0;padding-bottom:1rem;border-bottom:1px solid #e7e5e4;}"]),Q=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-26"})(["background:#f9fafb;border:1px solid #e5e7eb;border-radius:0.75rem;overflow:hidden;"]),Z=l.Ay.table.withConfig({componentId:"jt-app__sc-1ce3357e-27"})(["width:100%;border-collapse:collapse;th,td{text-align:left;padding:1rem;border-bottom:1px solid #e5e7eb;}th{background:#f3f4f6;font-weight:600;color:#374151;}tbody tr:hover{background:#f9fafb;}"]),G=l.Ay.span.withConfig({componentId:"jt-app__sc-1ce3357e-28"})(["padding:0.25rem 0.75rem;border-radius:9999px;font-size:0.8rem;font-weight:600;text-transform:uppercase;",""],e=>{switch(e.status){case"pending":return"\n          background: #fef3c7;\n          color: #d97706;\n        ";case"picked_up":return"\n          background: #dbeafe;\n          color: #2563eb;\n        ";case"delivered":case"available":return"\n          background: #d1fae5;\n          color: #059669;\n        ";case"busy":return"\n          background: #fed7aa;\n          color: #ea580c;\n        ";case"offline":return"\n          background: #fecaca;\n          color: #dc2626;\n        ";default:return"\n          background: #f3f4f6;\n          color: #6b7280;\n        "}}),K=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-29"})(["background:#f9fafb;border:1px solid #e5e7eb;border-radius:0.75rem;padding:1rem;margin-bottom:1rem;"]),X=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-30"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;"]),Y=l.Ay.h4.withConfig({componentId:"jt-app__sc-1ce3357e-31"})(["margin:0;color:#1f2937;"]),ee=l.Ay.div.withConfig({componentId:"jt-app__sc-1ce3357e-32"})(["color:#6b7280;font-size:0.9rem;"]);function er(){let{hasNextAuth:e}=(0,a.Z2)(),{data:r,status:t}=(0,a.Tk)(),s=(0,a.cV)(),o=(0,d.useRouter)(),[l,er]=(0,n.useState)([]),[et,ei]=(0,n.useState)([]),[en,es]=(0,n.useState)(!0),[eo,ea]=(0,n.useState)(""),[ed,el]=(0,n.useState)("all"),[ec,eh]=(0,n.useState)("dashboard"),[ep,eg]=(0,n.useState)(!1);(0,n.useEffect)(()=>{var e,i;return"unauthenticated"===t?void o.push("/auth/signin"):(null==r||null==(e=r.user)?void 0:e.role)!=="manager"&&(null==r||null==(i=r.user)?void 0:i.role)!=="admin"?void o.push("/"):void em()},[r,t,o]);let em=async()=>{try{es(!0);let e=await c.DynamoDBService.getAllOrders();er(e);let r=await c.DynamoDBService.getUsersByRole("driver"),t=await c.DynamoDBService.getUsersByRole("customer");ei([...r,...t])}catch(e){console.error("Error loading manager data:",e)}finally{es(!1)}},eu=async()=>{confirm("Are you sure you want to sign out?")&&await s({callbackUrl:"/"})};if("loading"===t||en)return(0,i.jsx)(w,{children:(0,i.jsx)(h.p8,{isLoading:!0,message:"Loading manager dashboard...",children:(0,i.jsx)("div",{})})});if(!(null==r?void 0:r.user))return(0,i.jsx)(w,{children:(0,i.jsx)(h.p8,{isLoading:!0,message:"Redirecting...",children:(0,i.jsx)("div",{})})});r.user;let ex=new Date().toDateString(),ef=l.filter(e=>new Date(e.createdAt).toDateString()===ex),ej=l.filter(e=>"pending"===e.status),eb=l.filter(e=>"picked_up"===e.status),ey=l.filter(e=>"delivered"===e.status&&new Date(e.deliveredAt||"").toDateString()===ex),ev=et.filter(e=>"driver"===e.role),ew=ev.filter(e=>{var r;return(null==(r=e.driverInfo)?void 0:r.availability)==="available"}),ek=l.filter(e=>{var r;let t=""===eo||e.customerName.toLowerCase().includes(eo.toLowerCase())||(null==(r=e.driverName)?void 0:r.toLowerCase().includes(eo.toLowerCase()))||e.id.toLowerCase().includes(eo.toLowerCase()),i="all"===ed||e.status===ed;return t&&i}),eA=ek.slice(0,10),e_=[{id:"dashboard",icon:(0,i.jsx)(g.A,{size:20}),label:"Dashboard"},{id:"orders",icon:(0,i.jsx)(m.A,{size:20}),label:"Orders"},{id:"staff",icon:(0,i.jsx)(u.A,{size:20}),label:"Staff"},{id:"analytics",icon:(0,i.jsx)(x.A,{size:20}),label:"Analytics",href:"/analytics"},{id:"qr",icon:(0,i.jsx)(f.A,{size:20}),label:"QR Codes",href:"/qr-tracking"},{id:"settings",icon:(0,i.jsx)(j.A,{size:20}),label:"Settings",href:"/settings"}];return(0,i.jsxs)(w,{children:[(0,i.jsx)(p.l$,{}),(0,i.jsx)(L,{$isOpen:ep,onClick:()=>eg(!1),children:(0,i.jsxs)(B,{onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e7e5e4"},children:(0,i.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:700,color:"#1c1917"},children:"Menu"})}),e_.map(e=>(0,i.jsxs)(P,{$active:ec===e.id,onClick:()=>{e.href?o.push(e.href):eh(e.id),eg(!1)},children:[e.icon,(0,i.jsx)("span",{children:e.label})]},e.id)),(0,i.jsx)("div",{style:{height:"1px",background:"#e7e5e4",margin:"1rem 0"}}),(0,i.jsxs)(P,{$active:!1,onClick:eu,style:{color:"#dc2626"},children:[(0,i.jsx)(b.A,{size:20}),(0,i.jsx)("span",{children:"Sign Out"})]})]})}),(0,i.jsx)(k,{children:(0,i.jsxs)(A,{children:[(0,i.jsxs)(_,{children:[(0,i.jsxs)(C,{href:"/",children:[(0,i.jsx)(I,{children:"JT"}),(0,i.jsxs)(z,{children:[(0,i.jsx)("h1",{children:"TheJERKTracker"}),(0,i.jsx)("p",{children:"Manager Panel"})]})]}),(0,i.jsx)(S,{children:(0,i.jsx)(M,{children:e_.map(e=>(0,i.jsx)(D,{children:(0,i.jsxs)(N,{$active:ec===e.id,onClick:()=>{e.href?o.push(e.href):eh(e.id)},children:[e.icon,(0,i.jsx)("span",{children:e.label})]})},e.id))})})]}),(0,i.jsxs)(T,{children:[(0,i.jsx)($,{onClick:()=>eg(!ep),children:ep?(0,i.jsx)(y.A,{size:24}):(0,i.jsx)(v.A,{size:24})}),(0,i.jsxs)(O,{onClick:eu,children:[(0,i.jsx)(b.A,{size:18}),(0,i.jsx)("span",{children:r.user.name})]})]})]})}),(0,i.jsxs)(V,{children:["dashboard"===ec&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(R,{children:[(0,i.jsx)("h2",{children:"Manager Dashboard"}),(0,i.jsxs)("p",{children:["Welcome back, ",r.user.name,"! Overview of operations."]})]}),(0,i.jsxs)(E,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:ef.length}),(0,i.jsx)("p",{children:"Orders Today"})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:ej.length}),(0,i.jsx)("p",{children:"Pending Orders"})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:eb.length}),(0,i.jsx)("p",{children:"In Transit"})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:ey.length}),(0,i.jsx)("p",{children:"Completed Today"})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:ew.length}),(0,i.jsx)("p",{children:"Available Drivers"})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)("h3",{children:ev.length}),(0,i.jsx)("p",{children:"Total Drivers"})]})]}),(0,i.jsxs)(q,{children:[(0,i.jsx)(U,{type:"text",placeholder:"Search by customer, driver, or order ID...",value:eo,onChange:e=>ea(e.target.value)}),(0,i.jsxs)(H,{value:ed,onChange:e=>el(e.target.value),children:[(0,i.jsx)("option",{value:"all",children:"All Status"}),(0,i.jsx)("option",{value:"pending",children:"Pending"}),(0,i.jsx)("option",{value:"picked_up",children:"In Transit"}),(0,i.jsx)("option",{value:"delivered",children:"Delivered"})]})]}),(0,i.jsxs)(F,{children:[(0,i.jsxs)(J,{children:[(0,i.jsxs)("h2",{children:["Recent Orders ",eo||"all"!==ed?"(".concat(eA.length," results)"):""]}),(0,i.jsx)(Q,{children:(0,i.jsxs)(Z,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Order #"}),(0,i.jsx)("th",{children:"Customer"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Driver"}),(0,i.jsx)("th",{children:"Time"})]})}),(0,i.jsx)("tbody",{children:0===eA.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:eo||"all"!==ed?"No orders match your filters":"No orders yet"})}):eA.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["#",e.orderNumber]}),(0,i.jsx)("td",{children:e.customerName}),(0,i.jsx)("td",{children:(0,i.jsx)(G,{status:e.status,children:e.status})}),(0,i.jsx)("td",{children:e.driverName||"Unassigned"}),(0,i.jsx)("td",{children:new Date(e.createdAt).toLocaleTimeString()})]},e.id))})]})})]}),(0,i.jsxs)(J,{children:[(0,i.jsx)("h2",{children:"Driver Status"}),0===ev.length?(0,i.jsx)(K,{children:(0,i.jsx)(ee,{children:"No drivers registered yet."})}):ev.map(e=>{var r,t,n;return(0,i.jsxs)(K,{children:[(0,i.jsxs)(X,{children:[(0,i.jsx)(Y,{children:e.name}),(0,i.jsx)(G,{status:(null==(r=e.driverInfo)?void 0:r.availability)||"offline",children:(null==(t=e.driverInfo)?void 0:t.availability)||"offline"})]}),(0,i.jsxs)(ee,{children:[(0,i.jsx)("div",{children:e.email}),(null==(n=e.driverInfo)?void 0:n.licenseNumber)&&(0,i.jsxs)("div",{children:["License: ",e.driverInfo.licenseNumber]})]})]},e.id)})]})]})]}),"orders"===ec&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(R,{children:[(0,i.jsx)("h2",{children:"All Orders"}),(0,i.jsx)("p",{children:"Manage and assign drivers to orders"})]}),(0,i.jsxs)(q,{children:[(0,i.jsx)(U,{type:"text",placeholder:"Search by customer, driver, or order ID...",value:eo,onChange:e=>ea(e.target.value)}),(0,i.jsxs)(H,{value:ed,onChange:e=>el(e.target.value),children:[(0,i.jsx)("option",{value:"all",children:"All Status"}),(0,i.jsx)("option",{value:"pending",children:"Pending"}),(0,i.jsx)("option",{value:"picked_up",children:"In Transit"}),(0,i.jsx)("option",{value:"delivered",children:"Delivered"})]})]}),(0,i.jsxs)(J,{children:[(0,i.jsxs)("h2",{children:["Orders ",eo||"all"!==ed?"(".concat(ek.length," results)"):""]}),(0,i.jsx)(Q,{children:(0,i.jsxs)(Z,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Order #"}),(0,i.jsx)("th",{children:"Customer"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Driver"}),(0,i.jsx)("th",{children:"Time"})]})}),(0,i.jsx)("tbody",{children:0===ek.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:eo||"all"!==ed?"No orders match your filters":"No orders yet"})}):ek.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["#",e.orderNumber]}),(0,i.jsx)("td",{children:e.customerName}),(0,i.jsx)("td",{children:(0,i.jsx)(G,{status:e.status,children:e.status})}),(0,i.jsx)("td",{children:e.driverName||"Unassigned"}),(0,i.jsx)("td",{children:new Date(e.createdAt).toLocaleTimeString()})]},e.id))})]})})]})]}),"staff"===ec&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(R,{children:[(0,i.jsx)("h2",{children:"Staff Management"}),(0,i.jsx)("p",{children:"Manage drivers and staff members"})]}),(0,i.jsxs)(J,{children:[(0,i.jsxs)("h2",{children:["All Staff (",et.length,")"]}),0===ev.length?(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:"No staff members found."}):et.map(e=>{var r,t,n;return(0,i.jsxs)(K,{children:[(0,i.jsxs)(X,{children:[(0,i.jsx)(Y,{children:e.name}),(0,i.jsx)(G,{status:(null==(r=e.driverInfo)?void 0:r.availability)||e.role,children:(null==(t=e.driverInfo)?void 0:t.availability)||e.role})]}),(0,i.jsxs)(ee,{children:[(0,i.jsx)("div",{children:e.email}),(0,i.jsxs)("div",{children:["Role: ",e.role]}),(null==(n=e.driverInfo)?void 0:n.licenseNumber)&&(0,i.jsxs)("div",{children:["License: ",e.driverInfo.licenseNumber]})]})]},e.id)})]})]})]})]})}}},e=>{e.O(0,[2207,7646,8347,2619,5572,9903,8441,1255,7358],()=>e(e.s=45938)),_N_E=e.O()}]);