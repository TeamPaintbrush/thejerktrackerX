(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5692],{14606:(e,t,i)=>{"use strict";i.d(t,{Cs:()=>s,Qg:()=>o,Te:()=>r,UW:()=>l,cf:()=>a});var n=i(22663);let r=e=>{n.Ay.success(e,{duration:4e3,position:"top-right",style:{background:"#16a34a",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#16a34a"}})},o=e=>{n.Ay.error(e,{duration:5e3,position:"top-right",style:{background:"#dc2626",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#dc2626"}})},a=e=>{(0,n.Ay)(e,{duration:4e3,position:"top-right",icon:"ℹ️",style:{background:"#3b82f6",color:"#fff",fontWeight:600}})},s=e=>n.Ay.loading(e,{position:"top-right",style:{background:"#f59e0b",color:"#fff",fontWeight:600}}),l=e=>{n.Ay.dismiss(e)}},35626:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(71847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40294:(e,t,i)=>{"use strict";i.d(t,{kt:()=>p,lV:()=>h,p8:()=>m});var n=i(95155);i(12115);var r=i(50625);let o=(0,r.i7)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),a=r.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-0"})(["animation:"," 1s linear infinite;"," ",""],o,e=>{let{$size:t}=e;switch(t){case"sm":return"width: 1rem; height: 1rem;";case"lg":return"width: 2rem; height: 2rem;";default:return"width: 1.5rem; height: 1.5rem;"}},e=>{let{$color:t,theme:i}=e;switch(t){case"white":return"color: white;";case"gray":return"color: ".concat(i.colors.secondary[600],";");default:return"color: ".concat(i.colors.primary[600],";")}}),s=r.Ay.button.withConfig({componentId:"jt-app__sc-50765fb0-1"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;&:disabled{opacity:0.5;cursor:not-allowed;}"]),l=r.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-2"})(["position:relative;"]),c=r.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-3"})(["position:absolute;inset:0;background:rgba(255,255,255,0.75);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:",";"],e=>{let{theme:t}=e;return t.borderRadius.lg}),d=r.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-4"})(["text-align:center;p{margin-top:0.5rem;font-size:",";color:",";}"],e=>{let{theme:t}=e;return t.typography.fontSize.sm},e=>{let{theme:t}=e;return t.colors.text.secondary}),p=e=>{let{size:t="md",color:i="orange",className:r=""}=e;return(0,n.jsx)(a,{$size:t,$color:i,className:r,children:(0,n.jsxs)("svg",{width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{style:{opacity:.75},fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},h=e=>{let{isLoading:t,children:i,onClick:r,type:o="button",className:a="",disabled:l=!1}=e;return(0,n.jsxs)(s,{type:o,onClick:r,disabled:t||l,className:a,children:[t&&(0,n.jsx)(p,{size:"sm",color:"white"}),(0,n.jsx)("span",{children:i})]})},m=e=>{let{isLoading:t,message:i="Loading...",children:r}=e;return(0,n.jsxs)(l,{children:[r,t&&(0,n.jsx)(c,{children:(0,n.jsxs)(d,{children:[(0,n.jsx)(p,{size:"lg"}),(0,n.jsx)("p",{children:i})]})})]})}},47921:(e,t,i)=>{"use strict";i.d(t,{CP:()=>d,Tk:()=>l,Z2:()=>s,cV:()=>c});var n=i(95155),r=i(58347),o=i(12115);let a=(0,o.createContext)({hasNextAuth:!0}),s=()=>(0,o.useContext)(a);function l(){try{let{hasNextAuth:e}=s();if(!e)return{data:null,status:"unauthenticated"};return(0,r.wV)()}catch(e){return{data:null,status:"loading"}}}function c(){let{hasNextAuth:e}=s();return async t=>{if(e)return(0,r.signOut)(t);localStorage.removeItem("mobile-auth-session"),localStorage.removeItem("mobile-auth-user"),window.location.href="/mobile/login"}}function d(e){let{children:t}=e,[i,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),i=await fetch("/api/auth/session",{method:"GET",headers:{Accept:"application/json"},signal:e.signal});clearTimeout(t);let n=i.headers.get("content-type");if(i.ok&&(null==n?void 0:n.includes("application/json")))try{await i.json(),s(!0)}catch(e){s(!1)}else s(!1)}catch(e){s(!1)}})()},[]),(0,n.jsx)(a.Provider,{value:{hasNextAuth:i},children:i?(0,n.jsx)(r.CP,{children:t}):(0,n.jsx)(n.Fragment,{children:t})})}},50483:(e,t,i)=>{Promise.resolve().then(i.bind(i,79044))},79044:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>I});var n=i(95155),r=i(12115),o=i(20063),a=i(47921),s=i(50625),l=i(35626),c=i(91761),d=i(40294),p=i(39903),h=i(14606),m=i(22663);let u=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-0"})(["min-height:100vh;background:#fafaf9;padding:2rem;"]),g=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-1"})(["max-width:1200px;margin:0 auto;background:white;border-radius:1rem;padding:2rem;box-shadow:0 1px 3px rgba(0,0,0,0.05);border:1px solid #e7e5e4;"]),f=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-2"})(["margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e7e5e4;"]),b=s.Ay.button.withConfig({componentId:"jt-app__sc-2093085b-3"})(["display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;background:#f5f5f4;border:none;border-radius:0.5rem;color:#44403c;font-weight:500;cursor:pointer;margin-bottom:1rem;transition:all 0.2s ease;&:hover{background:#e7e5e4;}svg{width:18px;height:18px;}"]),y=s.Ay.h1.withConfig({componentId:"jt-app__sc-2093085b-4"})(["font-size:2rem;color:#1c1917;margin:0 0 0.5rem 0;"]),x=s.Ay.p.withConfig({componentId:"jt-app__sc-2093085b-5"})(["color:#78716c;margin:0;"]),j=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-6"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;"]),w=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-7"})(["padding:1.5rem;background:#fafaf9;border:1px solid #e7e5e4;border-radius:0.75rem;transition:all 0.2s ease;"]),v=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-8"})(["display:flex;justify-content:space-between;align-items:start;margin-bottom:1rem;"]),_=s.Ay.h3.withConfig({componentId:"jt-app__sc-2093085b-9"})(["font-size:1.125rem;color:#1c1917;margin:0;"]),A=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-10"})(["display:flex;align-items:center;gap:0.25rem;font-size:1.125rem;font-weight:700;color:#ed7734;svg{width:16px;height:16px;}"]),C=s.Ay.p.withConfig({componentId:"jt-app__sc-2093085b-11"})(["color:#78716c;margin:0;font-size:0.9375rem;"]),k=s.Ay.div.withConfig({componentId:"jt-app__sc-2093085b-12"})(["margin-top:1rem;padding:0.25rem 0.75rem;border-radius:0.5rem;font-size:0.875rem;font-weight:600;display:inline-block;background:",";color:",";"],e=>e.$available?"#dcfce7":"#fee2e2",e=>e.$available?"#16a34a":"#dc2626");function I(){let e=(0,o.useRouter)(),{data:t,status:i}=(0,a.Tk)(),[s,I]=(0,r.useState)(!0),[z,S]=(0,r.useState)([]);(0,r.useEffect)(()=>{var n;return"unauthenticated"===i?void e.push("/auth/signin"):(null==t||null==(n=t.user)?void 0:n.role)!=="manager"?void e.push("/manager"):void T()},[i,t,e]);let T=async()=>{try{var e,i;I(!0);let n=(null==t||null==(e=t.user)?void 0:e.businessId)||(null==t||null==(i=t.user)?void 0:i.id)||"default-business",r=(await p.DynamoDBService.getMenuItems(n)).map(e=>({id:e.id,name:e.name,description:e.description||"",price:e.price,available:!1!==e.available}));S(r)}catch(e){console.error("Error loading menu:",e),(0,h.Qg)("Failed to load menu items")}finally{I(!1)}};return"loading"===i||s?(0,n.jsx)(u,{children:(0,n.jsx)(d.p8,{isLoading:!0,message:"Loading menu...",children:(0,n.jsx)("div",{})})}):(0,n.jsxs)(u,{children:[(0,n.jsx)(m.l$,{}),(0,n.jsxs)(g,{children:[(0,n.jsxs)(f,{children:[(0,n.jsxs)(b,{onClick:()=>e.push("/manager"),children:[(0,n.jsx)(l.A,{}),(0,n.jsx)("span",{children:"Back to Dashboard"})]}),(0,n.jsx)(y,{children:"Menu Reference"}),(0,n.jsx)(x,{children:"View current menu items and pricing"})]}),(0,n.jsx)(j,{children:z.map(e=>(0,n.jsxs)(w,{children:[(0,n.jsxs)(v,{children:[(0,n.jsx)(_,{children:e.name}),(0,n.jsxs)(A,{children:[(0,n.jsx)(c.A,{}),e.price.toFixed(2)]})]}),(0,n.jsx)(C,{children:e.description}),(0,n.jsx)(k,{$available:e.available,children:e.available?"Available":"Out of Stock"})]},e.id))})]})]})}},91761:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n=(0,i(71847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[2207,7646,8347,5572,9903,8441,1255,7358],()=>e(e.s=50483)),_N_E=e.O()}]);