(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2608],{11798:(e,t,r)=>{Promise.resolve().then(r.bind(r,72543))},14606:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>a,Qg:()=>o,Te:()=>n,UW:()=>d,cf:()=>s});var i=r(22663);let n=e=>{i.Ay.success(e,{duration:4e3,position:"top-right",style:{background:"#16a34a",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#16a34a"}})},o=e=>{i.Ay.error(e,{duration:5e3,position:"top-right",style:{background:"#dc2626",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#dc2626"}})},s=e=>{(0,i.Ay)(e,{duration:4e3,position:"top-right",icon:"ℹ️",style:{background:"#3b82f6",color:"#fff",fontWeight:600}})},a=e=>i.Ay.loading(e,{position:"top-right",style:{background:"#f59e0b",color:"#fff",fontWeight:600}}),d=e=>{i.Ay.dismiss(e)}},26617:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},26983:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},27937:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},35626:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40294:(e,t,r)=>{"use strict";r.d(t,{kt:()=>p,lV:()=>h,p8:()=>m});var i=r(95155);r(12115);var n=r(50625);let o=(0,n.i7)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),s=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-0"})(["animation:"," 1s linear infinite;"," ",""],o,e=>{let{$size:t}=e;switch(t){case"sm":return"width: 1rem; height: 1rem;";case"lg":return"width: 2rem; height: 2rem;";default:return"width: 1.5rem; height: 1.5rem;"}},e=>{let{$color:t,theme:r}=e;switch(t){case"white":return"color: white;";case"gray":return"color: ".concat(r.colors.secondary[600],";");default:return"color: ".concat(r.colors.primary[600],";")}}),a=n.Ay.button.withConfig({componentId:"jt-app__sc-50765fb0-1"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;&:disabled{opacity:0.5;cursor:not-allowed;}"]),d=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-2"})(["position:relative;"]),c=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-3"})(["position:absolute;inset:0;background:rgba(255,255,255,0.75);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:",";"],e=>{let{theme:t}=e;return t.borderRadius.lg}),l=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-4"})(["text-align:center;p{margin-top:0.5rem;font-size:",";color:",";}"],e=>{let{theme:t}=e;return t.typography.fontSize.sm},e=>{let{theme:t}=e;return t.colors.text.secondary}),p=e=>{let{size:t="md",color:r="orange",className:n=""}=e;return(0,i.jsx)(s,{$size:t,$color:r,className:n,children:(0,i.jsxs)("svg",{width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{style:{opacity:.75},fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},h=e=>{let{isLoading:t,children:r,onClick:n,type:o="button",className:s="",disabled:d=!1}=e;return(0,i.jsxs)(a,{type:o,onClick:n,disabled:t||d,className:s,children:[t&&(0,i.jsx)(p,{size:"sm",color:"white"}),(0,i.jsx)("span",{children:r})]})},m=e=>{let{isLoading:t,message:r="Loading...",children:n}=e;return(0,i.jsxs)(d,{children:[n,t&&(0,i.jsx)(c,{children:(0,i.jsxs)(l,{children:[(0,i.jsx)(p,{size:"lg"}),(0,i.jsx)("p",{children:r})]})})]})}},42529:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},47921:(e,t,r)=>{"use strict";r.d(t,{CP:()=>l,Tk:()=>d,Z2:()=>a,cV:()=>c});var i=r(95155),n=r(58347),o=r(12115);let s=(0,o.createContext)({hasNextAuth:!0}),a=()=>(0,o.useContext)(s);function d(){try{let{hasNextAuth:e}=a();if(!e)return{data:null,status:"unauthenticated"};return(0,n.wV)()}catch(e){return{data:null,status:"loading"}}}function c(){let{hasNextAuth:e}=a();return async t=>{if(e)return(0,n.signOut)(t);localStorage.removeItem("mobile-auth-session"),localStorage.removeItem("mobile-auth-user"),window.location.href="/mobile/login"}}function l(e){let{children:t}=e,[r,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),r=await fetch("/api/auth/session",{method:"GET",headers:{Accept:"application/json"},signal:e.signal});clearTimeout(t);let i=r.headers.get("content-type");if(r.ok&&(null==i?void 0:i.includes("application/json")))try{await r.json(),a(!0)}catch(e){a(!1)}else a(!1)}catch(e){a(!1)}})()},[]),(0,i.jsx)(s.Provider,{value:{hasNextAuth:r},children:r?(0,i.jsx)(n.CP,{children:t}):(0,i.jsx)(i.Fragment,{children:t})})}},57828:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},72543:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var i=r(95155),n=r(12115),o=r(20063),s=r(47921),a=r(50625),d=r(1733),c=r(39903),l=r(40294),p=r(14606),h=r(22663),m=r(26983),u=r(26617),g=r(42529),f=r(35626),x=r(86651),j=r(57828);let y=(0,r(71847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var b=r(27937);let w=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-0"})(["min-height:100vh;background:#fafaf9;padding:2rem;"]),v=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-1"})(["max-width:1400px;margin:0 auto;background:white;border-radius:1rem;padding:2rem;box-shadow:0 1px 3px rgba(0,0,0,0.05);border:1px solid #e7e5e4;"]),_=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-2"})(["margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e7e5e4;"]),A=a.Ay.button.withConfig({componentId:"jt-app__sc-a512045-3"})(["display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;background:#f5f5f4;border:none;border-radius:0.5rem;color:#44403c;font-weight:500;cursor:pointer;margin-bottom:1rem;transition:all 0.2s ease;&:hover{background:#e7e5e4;}svg{width:18px;height:18px;}"]),k=a.Ay.h1.withConfig({componentId:"jt-app__sc-a512045-4"})(["font-size:2rem;color:#1c1917;margin:0 0 0.5rem 0;"]),C=a.Ay.p.withConfig({componentId:"jt-app__sc-a512045-5"})(["color:#78716c;margin:0;"]),I=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-6"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem;"]),z=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-7"})(["background:#fafaf9;border:1px solid #e7e5e4;border-radius:0.75rem;padding:1.5rem;"]),$=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-8"})(["font-size:2rem;font-weight:700;color:#1c1917;margin-bottom:0.25rem;"]),N=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-9"})(["font-size:0.875rem;color:#78716c;font-weight:500;"]),S=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-10"})(["display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap;"]),M=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-11"})(["flex:1;min-width:250px;position:relative;svg{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#a8a29e;width:18px;height:18px;}input{width:100%;padding:0.75rem 1rem 0.75rem 3rem;border:1px solid #e7e5e4;border-radius:0.5rem;font-size:0.9375rem;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 2px #ed773420;}}"]),L=a.Ay.button.withConfig({componentId:"jt-app__sc-a512045-12"})(["padding:0.75rem 1.5rem;border:1px solid #e7e5e4;background:",";color:",";border-radius:0.5rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;&:hover{background:",";}"],e=>e.$active?"#1c1917":"white",e=>e.$active?"white":"#44403c",e=>e.$active?"#1c1917":"#f5f5f4"),T=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-13"})(["display:grid;gap:1rem;"]),D=(0,a.Ay)(d.P.div).withConfig({componentId:"jt-app__sc-a512045-14"})(["padding:1.5rem;background:#fafaf9;border:1px solid #e7e5e4;border-radius:0.75rem;transition:all 0.2s ease;cursor:pointer;&:hover{border-color:#ed7734;box-shadow:0 2px 8px rgba(237,119,52,0.1);}"]),E=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-15"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;"]),P=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-16"})(["font-weight:700;color:#1c1917;font-size:1rem;"]),O=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-17"})(["padding:0.25rem 0.75rem;border-radius:0.5rem;font-size:0.875rem;font-weight:600;display:flex;align-items:center;gap:0.5rem;background:",";color:",";svg{width:16px;height:16px;}"],e=>{switch(e.$status){case"pending":return"#fef3c7";case"picked_up":return"#dbeafe";case"delivered":return"#dcfce7";default:return"#f3f4f6"}},e=>{switch(e.$status){case"pending":return"#d97706";case"picked_up":return"#2563eb";case"delivered":return"#16a34a";default:return"#6b7280"}}),V=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-18"})(["font-size:0.875rem;color:#78716c;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:0.75rem;div{strong{color:#44403c;}}"]),W=a.Ay.button.withConfig({componentId:"jt-app__sc-a512045-19"})(["margin-top:1rem;padding:0.5rem 1rem;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);color:white;border:none;border-radius:0.5rem;font-weight:600;font-size:0.875rem;cursor:pointer;display:inline-flex;align-items:center;gap:0.5rem;transition:all 0.2s ease;&:hover{opacity:0.9;transform:translateY(-1px);}svg{width:16px;height:16px;}"]),B=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-20"})(["display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e7e5e4;"]),H=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-21"})(["font-size:0.875rem;color:#78716c;"]),q=a.Ay.div.withConfig({componentId:"jt-app__sc-a512045-22"})(["display:flex;gap:0.5rem;"]),F=a.Ay.button.withConfig({componentId:"jt-app__sc-a512045-23"})(["padding:0.5rem 0.75rem;border:1px solid #e7e5e4;background:",";color:",";border-radius:0.5rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;gap:0.25rem;&:disabled{opacity:0.5;cursor:not-allowed;}&:hover:not(:disabled){background:",";}svg{width:16px;height:16px;}"],e=>e.$active?"#1c1917":"white",e=>e.$active?"white":"#44403c",e=>e.$active?"#1c1917":"#f5f5f4");function Q(){let e=(0,o.useRouter)(),{data:t,status:r}=(0,s.Tk)(),[a,d]=(0,n.useState)([]),[Q,R]=(0,n.useState)(!0),[Y,G]=(0,n.useState)("all"),[U,Z]=(0,n.useState)(""),[J,K]=(0,n.useState)(1);(0,n.useEffect)(()=>{if("unauthenticated"===r)return void e.push("/auth/signin");X()},[r,e]);let X=async()=>{try{R(!0);let e=await c.DynamoDBService.getAllOrders();d(e)}catch(e){console.error("Error loading orders:",e),(0,p.Qg)("Failed to load orders")}finally{R(!1)}},ee=a.filter(e=>{var t,r;let i="all"===Y||e.status===Y,n=(null==(t=e.orderNumber)?void 0:t.toLowerCase().includes(U.toLowerCase()))||(null==(r=e.customerName)?void 0:r.toLowerCase().includes(U.toLowerCase()));return i&&n}),et=Math.ceil(ee.length/20),er=(J-1)*20,ei=er+20,en=ee.slice(er,ei);(0,n.useEffect)(()=>{K(1)},[Y,U]);let eo={total:a.length,pending:a.filter(e=>"pending"===e.status).length,active:a.filter(e=>"picked_up"===e.status).length,completed:a.filter(e=>"delivered"===e.status).length};return"loading"===r||Q?(0,i.jsx)(w,{children:(0,i.jsx)(l.p8,{isLoading:!0,message:"Loading orders...",children:(0,i.jsx)("div",{})})}):(0,i.jsxs)(w,{children:[(0,i.jsx)(h.l$,{}),(0,i.jsxs)(v,{children:[(0,i.jsxs)(_,{children:[(0,i.jsxs)(A,{onClick:()=>e.back(),children:[(0,i.jsx)(f.A,{}),(0,i.jsx)("span",{children:"Back"})]}),(0,i.jsx)(k,{children:"Orders Hub"}),(0,i.jsx)(C,{children:"Manage and track all orders in one central location"})]}),(0,i.jsxs)(I,{children:[(0,i.jsxs)(z,{children:[(0,i.jsx)($,{children:eo.total}),(0,i.jsx)(N,{children:"Total Orders"})]}),(0,i.jsxs)(z,{children:[(0,i.jsx)($,{children:eo.pending}),(0,i.jsx)(N,{children:"Pending"})]}),(0,i.jsxs)(z,{children:[(0,i.jsx)($,{children:eo.active}),(0,i.jsx)(N,{children:"Active"})]}),(0,i.jsxs)(z,{children:[(0,i.jsx)($,{children:eo.completed}),(0,i.jsx)(N,{children:"Completed"})]})]}),(0,i.jsxs)(S,{children:[(0,i.jsxs)(M,{children:[(0,i.jsx)(x.A,{}),(0,i.jsx)("input",{type:"text",placeholder:"Search by order number or customer name...",value:U,onChange:e=>Z(e.target.value)})]}),(0,i.jsx)(L,{$active:"all"===Y,onClick:()=>G("all"),children:"All"}),(0,i.jsx)(L,{$active:"pending"===Y,onClick:()=>G("pending"),children:"Pending"}),(0,i.jsx)(L,{$active:"picked_up"===Y,onClick:()=>G("picked_up"),children:"Active"}),(0,i.jsx)(L,{$active:"delivered"===Y,onClick:()=>G("delivered"),children:"Completed"})]}),(0,i.jsx)(T,{children:en.map((t,r)=>(0,i.jsxs)(D,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},children:[(0,i.jsxs)(E,{children:[(0,i.jsxs)(P,{children:["Order #",t.orderNumber]}),(0,i.jsxs)(O,{$status:t.status,children:[(e=>{switch(e){case"pending":return(0,i.jsx)(m.A,{});case"picked_up":default:return(0,i.jsx)(u.A,{});case"delivered":return(0,i.jsx)(g.A,{})}})(t.status),t.status]})]}),(0,i.jsxs)(V,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Customer:"})," ",t.customerName]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Items:"})," ",t.orderDetails]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Date:"})," ",new Date(t.createdAt).toLocaleDateString()]}),t.driverName&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Driver:"})," ",t.driverName]})]}),(0,i.jsxs)(W,{onClick:()=>e.push("/orders/".concat(t.id)),children:[(0,i.jsx)(j.A,{}),"View Details"]})]},t.id))}),et>1&&(0,i.jsxs)(B,{children:[(0,i.jsxs)(H,{children:["Showing ",er+1,"-",Math.min(ei,ee.length)," of ",ee.length," orders"]}),(0,i.jsxs)(q,{children:[(0,i.jsxs)(F,{onClick:()=>{K(e=>Math.max(1,e-1))},disabled:1===J,children:[(0,i.jsx)(y,{}),"Previous"]}),(()=>{let e=[];if(et<=5)for(let t=1;t<=et;t++)e.push(t);else if(J<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(et)}else if(J>=et-2){e.push(1),e.push("...");for(let t=et-3;t<=et;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=J-1;t<=J+1;t++)e.push(t);e.push("..."),e.push(et)}return e})().map((e,t)=>"..."===e?(0,i.jsx)(F,{disabled:!0,children:"..."},"ellipsis-".concat(t)):(0,i.jsx)(F,{$active:J===e,onClick:()=>{K(e)},children:e},e)),(0,i.jsxs)(F,{onClick:()=>{K(e=>Math.min(et,e+1))},disabled:J===et,children:["Next",(0,i.jsx)(b.A,{})]})]})]})]})]})}},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[2207,1733,7646,8347,5572,9903,8441,1255,7358],()=>e(e.s=11798)),_N_E=e.O()}]);