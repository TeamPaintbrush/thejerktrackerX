(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8448],{19408:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},20063:(e,r,t)=>{"use strict";var i=t(47260);t.o(i,"usePathname")&&t.d(r,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}}),t.o(i,"useServerInsertedHTML")&&t.d(r,{useServerInsertedHTML:function(){return i.useServerInsertedHTML}})},20508:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},26617:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},42529:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},54012:(e,r,t)=>{Promise.resolve().then(t.bind(t,73356))},73356:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>M});var i=t(95155),n=t(12115),o=t(20063),a=t(50625),d=t(1733),s=t(42529),c=t(26617),l=t(20508),p=t(19408);let h=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-0"})(["min-height:100vh;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);padding:2rem 1rem;display:flex;align-items:center;justify-content:center;"]),u=(0,a.Ay)(d.P.div).withConfig({componentId:"jt-app__sc-e7a241cf-1"})(["background:white;border-radius:16px;padding:2rem;max-width:500px;width:100%;box-shadow:0 10px 25px rgba(0,0,0,0.1);"]),m=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-2"})(["text-align:center;margin-bottom:2rem;"]),f=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-3"})(["width:64px;height:64px;background:rgba(237,119,52,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem auto;svg{width:32px;height:32px;color:#ed7734;}"]),g=a.Ay.h1.withConfig({componentId:"jt-app__sc-e7a241cf-4"})(["font-size:1.75rem;font-weight:700;color:#1f2937;margin:0 0 0.5rem 0;"]),x=a.Ay.p.withConfig({componentId:"jt-app__sc-e7a241cf-5"})(["font-size:1rem;color:#6b7280;margin:0;"]),b=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-6"})(["background:#f9fafb;border-radius:12px;padding:1.5rem;margin-bottom:2rem;border:1px solid #e5e7eb;"]),y=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-7"})(["font-size:0.875rem;color:#6b7280;margin-bottom:0.25rem;"]),j=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-8"})(["font-size:1.25rem;font-weight:700;color:#1f2937;"]),v=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-9"})(["margin-bottom:1.5rem;"]),w=a.Ay.label.withConfig({componentId:"jt-app__sc-e7a241cf-10"})(["display:block;font-size:0.875rem;font-weight:600;color:#374151;margin-bottom:0.5rem;"]),k=a.Ay.input.withConfig({componentId:"jt-app__sc-e7a241cf-11"})(["width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;color:#1f2937;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),_=a.Ay.select.withConfig({componentId:"jt-app__sc-e7a241cf-12"})(["width:100%;padding:0.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;color:#1f2937;background:white;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),A=a.Ay.button.withConfig({componentId:"jt-app__sc-e7a241cf-13"})(["width:100%;padding:1rem;background:#ed7734;color:white;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s;&:hover{background:#dc6627;}&:active{transform:scale(0.98);}&:disabled{background:#d1d5db;cursor:not-allowed;}"]),C=(0,a.Ay)(d.P.div).withConfig({componentId:"jt-app__sc-e7a241cf-14"})(["text-align:center;padding:2rem;"]),I=a.Ay.div.withConfig({componentId:"jt-app__sc-e7a241cf-15"})(["width:80px;height:80px;background:rgba(16,185,129,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem auto;svg{width:40px;height:40px;color:#10b981;}"]),S=a.Ay.h2.withConfig({componentId:"jt-app__sc-e7a241cf-16"})(["font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 0.5rem 0;"]),P=a.Ay.p.withConfig({componentId:"jt-app__sc-e7a241cf-17"})(["font-size:1rem;color:#6b7280;margin:0;"]);function z(){let e=(0,o.useSearchParams)().get("order"),[r,a]=(0,n.useState)(!0),[d,z]=(0,n.useState)(!1),[M,D]=(0,n.useState)(!1),[O,N]=(0,n.useState)(null),[E,H]=(0,n.useState)(""),[F,L]=(0,n.useState)(""),[q,R]=(0,n.useState)("");(0,n.useEffect)(()=>{e?T():(R("No order ID provided"),a(!1))},[e]);let T=async()=>{try{let{DynamoDBService:r}=await Promise.all([t.e(7646),t.e(9903)]).then(t.bind(t,39903)),i=await r.getOrderById(e);i?N(i):R("Order not found")}catch(e){console.error("Failed to load order:",e),R("Failed to load order")}finally{a(!1)}},U=async r=>{if(r.preventDefault(),!E.trim()||!F.trim())return void alert("Please fill in all fields");z(!0);try{let{DynamoDBService:r}=await Promise.all([t.e(7646),t.e(9903)]).then(t.bind(t,39903));await r.updateOrder(e,{status:"picked_up",driverName:E.trim(),driverCompany:F.trim(),pickedUpAt:new Date}),console.log("\uD83D\uDCF1 Order #".concat(O.orderNumber," picked up by ").concat(E," (").concat(F,")")),D(!0)}catch(e){console.error("Failed to update order:",e),alert("Failed to confirm pickup. Please try again or contact the restaurant.")}finally{z(!1)}};return r?(0,i.jsx)(h,{children:(0,i.jsx)(u,{children:(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:(0,i.jsx)("div",{style:{fontSize:"1rem",color:"#6b7280"},children:"Loading order..."})})})}):q?(0,i.jsx)(h,{children:(0,i.jsx)(u,{children:(0,i.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,i.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"#dc2626",marginBottom:"0.5rem"},children:"âŒ Error"}),(0,i.jsx)("div",{style:{fontSize:"1rem",color:"#6b7280"},children:q})]})})}):M?(0,i.jsx)(h,{children:(0,i.jsx)(u,{children:(0,i.jsxs)(C,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[(0,i.jsx)(I,{children:(0,i.jsx)(s.A,{})}),(0,i.jsx)(S,{children:"Pickup Confirmed!"}),(0,i.jsxs)(P,{children:["Order #",O.orderNumber," has been marked as picked up.",(0,i.jsx)("br",{}),"The restaurant has been notified."]})]})})}):(0,i.jsx)(h,{children:(0,i.jsxs)(u,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{children:(0,i.jsx)(c.A,{})}),(0,i.jsx)(g,{children:"Order Pickup"}),(0,i.jsx)(x,{children:"Confirm pickup details"})]}),(0,i.jsxs)(b,{children:[(0,i.jsx)(y,{children:"Order Number"}),(0,i.jsxs)(j,{children:["#",O.orderNumber]})]}),(0,i.jsxs)("form",{onSubmit:U,children:[(0,i.jsxs)(v,{children:[(0,i.jsxs)(w,{children:[(0,i.jsx)(l.A,{size:16,style:{display:"inline",marginRight:"0.5rem"}}),"Driver Name"]}),(0,i.jsx)(k,{type:"text",placeholder:"Enter your name",value:E,onChange:e=>H(e.target.value),required:!0,autoFocus:!0})]}),(0,i.jsxs)(v,{children:[(0,i.jsxs)(w,{children:[(0,i.jsx)(p.A,{size:16,style:{display:"inline",marginRight:"0.5rem"}}),"Delivery Company"]}),(0,i.jsxs)(_,{value:F,onChange:e=>L(e.target.value),required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select your company"}),(0,i.jsx)("option",{value:"DoorDash",children:"DoorDash"}),(0,i.jsx)("option",{value:"Uber Eats",children:"Uber Eats"}),(0,i.jsx)("option",{value:"GrubHub",children:"GrubHub"}),(0,i.jsx)("option",{value:"Postmates",children:"Postmates"}),(0,i.jsx)("option",{value:"Independent",children:"Independent Contractor"}),(0,i.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,i.jsx)(A,{type:"submit",disabled:d,children:d?"Confirming...":"Confirm Pickup"})]})]})})}function M(){return(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(z,{})})}}},e=>{e.O(0,[2207,1733,8441,1255,7358],()=>e(e.s=54012)),_N_E=e.O()}]);