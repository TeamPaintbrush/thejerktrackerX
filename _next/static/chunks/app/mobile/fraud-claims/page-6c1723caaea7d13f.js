(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6034],{41565:(e,r,t)=>{Promise.resolve().then(t.bind(t,60742))},50470:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var i=t(95155);t(12115);var o=t(20063),n=t(50625),a=t(35626);let s=n.Ay.button.withConfig({componentId:"jt-app__sc-95ba5970-0"})(["display:flex;align-items:center;gap:0.5rem;background:white;border:1px solid #e5e7eb;border-radius:0.75rem;padding:0.75rem 1rem;color:#374151;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;min-width:44px;min-height:44px;box-shadow:0 2px 4px rgba(0,0,0,0.05);&:hover{background:#f9fafb;border-color:#d1d5db;transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,0.1);}&:active{transform:translateY(0);background:#f3f4f6;}@media (min-width:769px){display:none;}"]),d=(0,n.Ay)(a.A).withConfig({componentId:"jt-app__sc-95ba5970-1"})(["width:18px;height:18px;"]);function c(e){let{label:r="Back",href:t,className:n,onClick:a}=e,c=(0,o.useRouter)();return(0,i.jsxs)(s,{onClick:()=>{a?a():t?c.push(t):c.back()},className:n,children:[(0,i.jsx)(d,{}),r]})}(0,n.Ay)(c).withConfig({componentId:"jt-app__sc-95ba5970-2"})(["position:fixed;top:calc(env(safe-area-inset-top) + 1rem);left:1rem;z-index:100;background:rgba(255,255,255,0.9);backdrop-filter:blur(10px);border:1px solid rgba(229,231,235,0.8);"]),(0,n.Ay)(c).withConfig({componentId:"jt-app__sc-95ba5970-3"})(["margin-bottom:1rem;"])},60742:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>K});var i=t(95155),o=t(12115),n=t(20063),a=t(50625),s=t(1733),d=t(26497),c=t(32587),l=t(24995),m=t(86651),p=t(52056),u=t(66955),f=t(17910),h=t(26617),g=t(20508),b=t(16485),x=t(89715),v=t(42529),j=t(78874),y=t(50470);let _=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-0"})(["padding:0.5rem;padding-bottom:120px;min-height:100vh;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);"]),w=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-1"})(["text-align:center;margin-top:0.5rem;margin-bottom:1.5rem;padding-top:0;"]),C=a.Ay.h1.withConfig({componentId:"jt-app__sc-fae6ab54-2"})(["font-size:1.75rem;font-weight:700;color:#1f2937;margin:0 0 0.5rem 0;display:flex;align-items:center;justify-content:center;gap:0.5rem;"]),A=a.Ay.p.withConfig({componentId:"jt-app__sc-fae6ab54-3"})(["font-size:0.875rem;color:#6b7280;margin:0;"]),I=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-4"})(["display:grid;grid-template-columns:repeat(2,1fr);gap:0.75rem;margin-bottom:1.5rem;"]),N=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-5"})(["background:white;border-radius:12px;padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.1);border-left:4px solid ",";"],e=>e.$color),D=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-6"})(["font-size:1.75rem;font-weight:700;color:#1f2937;margin-bottom:0.25rem;"]),S=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-7"})(["font-size:0.75rem;color:#6b7280;text-transform:uppercase;letter-spacing:0.5px;"]),R=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-8"})(["display:flex;gap:0.75rem;margin-bottom:1rem;"]),T=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-9"})(["flex:1;position:relative;"]),k=a.Ay.input.withConfig({componentId:"jt-app__sc-fae6ab54-10"})(["width:100%;padding:0.75rem 0.75rem 0.75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:0.875rem;background:white;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),$=(0,a.Ay)(m.A).withConfig({componentId:"jt-app__sc-fae6ab54-11"})(["position:absolute;left:0.75rem;top:50%;transform:translateY(-50%);color:#9ca3af;"]),P=(0,a.Ay)(s.P.button).withConfig({componentId:"jt-app__sc-fae6ab54-12"})(["padding:0.75rem;background:white;border:1px solid #d1d5db;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;&:active{background:#f3f4f6;}"]),z=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-13"})(["display:flex;flex-direction:column;gap:1rem;"]),E=(0,a.Ay)(s.P.div).withConfig({componentId:"jt-app__sc-fae6ab54-14"})(["background:white;border-radius:12px;padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.1);border-left:4px solid ",";cursor:pointer;&:active{transform:scale(0.98);}"],e=>"critical"===e.$priority?"#dc2626":"high"===e.$priority?"#f59e0b":"medium"===e.$priority?"#3b82f6":"#6b7280"),L=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-15"})(["display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;"]),O=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-16"})(["flex:1;"]),F=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-17"})(["font-size:0.875rem;font-weight:700;color:#1f2937;margin-bottom:0.25rem;"]),q=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-18"})(["font-size:0.75rem;color:",";font-weight:600;text-transform:uppercase;letter-spacing:0.5px;"],e=>"customer_never_received"===e.$type?"#dc2626":"driver_dispute"===e.$type?"#f59e0b":"#6b7280"),Q=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-19"})(["padding:0.25rem 0.75rem;border-radius:12px;font-size:0.75rem;font-weight:600;text-transform:uppercase;white-space:nowrap;background:",";color:",";"],e=>"pending"===e.$status?"#fef3c7":"under_review"===e.$status?"#dbeafe":"resolved_fraud"===e.$status?"#fee2e2":"#d1fae5",e=>"pending"===e.$status?"#92400e":"under_review"===e.$status?"#1e40af":"resolved_fraud"===e.$status?"#991b1b":"#065f46"),U=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-20"})(["display:flex;flex-direction:column;gap:0.5rem;margin-bottom:0.75rem;"]),Y=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-21"})(["display:flex;align-items:center;gap:0.5rem;font-size:0.75rem;color:#6b7280;svg{width:14px;height:14px;color:#9ca3af;}"]),B=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-22"})(["display:flex;gap:0.5rem;flex-wrap:wrap;margin-top:0.75rem;padding-top:0.75rem;border-top:1px solid #e5e7eb;"]),M=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-23"})(["display:flex;align-items:center;gap:0.25rem;padding:0.25rem 0.5rem;border-radius:6px;font-size:0.7rem;font-weight:600;background:",";color:",";svg{width:12px;height:12px;}"],e=>e.$present?"#d1fae5":"#fee2e2",e=>e.$present?"#065f46":"#991b1b"),J=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-24"})(["text-align:center;padding:3rem 1rem;color:#6b7280;"]),H=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-25"})(["font-size:3rem;margin-bottom:1rem;opacity:0.5;"]),W=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-26"})(["font-size:1rem;font-weight:600;margin-bottom:0.5rem;"]),V=a.Ay.div.withConfig({componentId:"jt-app__sc-fae6ab54-27"})(["font-size:0.875rem;opacity:0.7;"]),G=()=>[{id:"1",businessId:"default-business",customerId:"customer-john-smith",orderId:"ORDER-1730001234567",claimNumber:"FC-2025-001",orderNumber:"ORDER-1730001234567",customerName:"John Smith",customerPhone:"+1 (555) 123-4567",driverName:"Mike Johnson",claimType:"customer_never_received",claimDate:"2025-10-26T14:30:00",orderDate:"2025-10-26T12:00:00",orderTotal:"$45.99",status:"under_review",description:"Customer claims order never arrived. Driver states delivery was made.",evidence:{qrScanned:!0,scanTimestamp:"2025-10-26T12:45:00",scanLocation:"123 Main St, Brooklyn NY",photoProof:!0,customerSignature:!1},priority:"high"},{id:"2",businessId:"default-business",customerId:"customer-sarah-williams",orderId:"ORDER-1730002345678",claimNumber:"FC-2025-002",orderNumber:"ORDER-1730002345678",customerName:"Sarah Williams",customerPhone:"+1 (555) 234-5678",driverName:"Chris Brown",claimType:"customer_never_received",claimDate:"2025-10-25T18:15:00",orderDate:"2025-10-25T17:30:00",orderTotal:"$32.50",status:"resolved_fraud",description:"Customer claimed non-delivery. QR scan and photo evidence confirmed delivery.",evidence:{qrScanned:!0,scanTimestamp:"2025-10-25T17:55:00",scanLocation:"456 Oak Ave, Brooklyn NY",photoProof:!0,customerSignature:!0},resolutionNotes:"Evidence clearly shows delivery. Customer admitted receipt after review.",priority:"critical"},{id:"3",businessId:"default-business",customerId:"customer-david-lee",orderId:"ORDER-1730003456789",claimNumber:"FC-2025-003",orderNumber:"ORDER-1730003456789",customerName:"David Lee",customerPhone:"+1 (555) 345-6789",driverName:"Alex Martinez",claimType:"driver_dispute",claimDate:"2025-10-24T20:00:00",orderDate:"2025-10-24T19:00:00",orderTotal:"$28.75",status:"pending",description:"Driver claims customer refused order. Customer denies.",evidence:{qrScanned:!1,photoProof:!1,customerSignature:!1},priority:"medium"},{id:"4",businessId:"default-business",customerId:"customer-emily-chen",orderId:"ORDER-1730004567890",claimNumber:"FC-2025-004",orderNumber:"ORDER-1730004567890",customerName:"Emily Chen",customerPhone:"+1 (555) 456-7890",driverName:"Jordan Taylor",claimType:"customer_never_received",claimDate:"2025-10-27T10:00:00",orderDate:"2025-10-27T09:15:00",orderTotal:"$52.00",status:"resolved_legitimate",description:"Legitimate claim - driver never scanned QR code. Refund issued.",evidence:{qrScanned:!1,photoProof:!1,customerSignature:!1},resolutionNotes:"Driver admitted forgetting to scan QR. Customer refunded.",priority:"low"}];function K(){(0,n.useRouter)();let[e,r]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[s,m]=(0,o.useState)(""),[K,X]=(0,o.useState)("all");(0,o.useEffect)(()=>{(async()=>{try{a(!0);let e=new URLSearchParams;"all"!==K&&e.append("status",K);let t=await fetch("/api/fraud-claims?".concat(e.toString()));if(!t.ok){console.error("Failed to fetch fraud claims"),r(G());return}let i=await t.json();r(i)}catch(e){console.error("Error fetching fraud claims:",e),r(G())}finally{a(!1)}})()},[K]);let Z=e.filter(e=>{if(!s)return!0;let r=s.toLowerCase();return e.claimNumber.toLowerCase().includes(r)||e.orderNumber.toLowerCase().includes(r)||e.customerName.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)}),ee={total:e.length,pending:e.filter(e=>"pending"===e.status).length,underReview:e.filter(e=>"under_review"===e.status).length,resolvedFraud:e.filter(e=>"resolved_fraud"===e.status).length,resolvedLegitimate:e.filter(e=>"resolved_legitimate"===e.status).length},er=e=>{switch(e){case"pending":return"Pending";case"under_review":return"Under Review";case"resolved_fraud":return"Fraud Confirmed";case"resolved_legitimate":return"Legitimate";case"dismissed":return"Dismissed";default:return e}},et=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),ei=async e=>{c.Ii.isNativePlatform()&&await l.dn.impact({style:l.kn.Light});let r=[e.evidence.qrScanned?"✓ QR Scanned at ".concat(e.evidence.scanTimestamp?et(e.evidence.scanTimestamp):"N/A"):"✗ No QR Scan",e.evidence.photoProof?"✓ Photo Evidence":"✗ No Photo",e.evidence.customerSignature?"✓ Customer Signature":"✗ No Signature"].join("\n");alert("\uD83D\uDEA8 FRAUD CLAIM DETAILS\n\n"+"Claim: ".concat(e.claimNumber,"\n")+"Order: ".concat(e.orderNumber,"\n")+"Status: ".concat(er(e.status),"\n\n")+"Customer: ".concat(e.customerName,"\n")+"Phone: ".concat(e.customerPhone,"\n")+"Driver: ".concat(e.driverName||"N/A","\n\n")+"Description:\n".concat(e.description,"\n\n")+"EVIDENCE:\n".concat(r,"\n\n")+(e.resolutionNotes?"Resolution:\n".concat(e.resolutionNotes):"Investigation in progress..."))};return t?(0,i.jsxs)(_,{children:[(0,i.jsx)(y.default,{href:"/mobile/orders-hub",label:"Orders Hub"}),(0,i.jsxs)(w,{children:[(0,i.jsxs)(C,{children:[(0,i.jsx)(p.A,{size:28})," Fraud Claims"]}),(0,i.jsx)(A,{children:"Loading claims..."})]})]}):(0,i.jsxs)(_,{children:[(0,i.jsx)(y.default,{href:"/mobile/orders-hub",label:"Orders Hub"}),(0,i.jsxs)(w,{children:[(0,i.jsxs)(C,{children:[(0,i.jsx)(p.A,{size:28,color:"#dc2626"}),"Fraud Claims"]}),(0,i.jsx)(A,{children:"Track delivery disputes & fraud prevention"})]}),(0,i.jsxs)(I,{children:[(0,i.jsxs)(N,{$color:"#6b7280",children:[(0,i.jsx)(D,{children:ee.total}),(0,i.jsx)(S,{children:"Total Claims"})]}),(0,i.jsxs)(N,{$color:"#f59e0b",children:[(0,i.jsx)(D,{children:ee.pending}),(0,i.jsx)(S,{children:"Pending"})]}),(0,i.jsxs)(N,{$color:"#3b82f6",children:[(0,i.jsx)(D,{children:ee.underReview}),(0,i.jsx)(S,{children:"Under Review"})]}),(0,i.jsxs)(N,{$color:"#dc2626",children:[(0,i.jsx)(D,{children:ee.resolvedFraud}),(0,i.jsx)(S,{children:"Fraud Confirmed"})]})]}),(0,i.jsxs)(R,{children:[(0,i.jsxs)(T,{children:[(0,i.jsx)($,{size:18}),(0,i.jsx)(k,{type:"text",placeholder:"Search claims, orders, customers...",value:s,onChange:e=>m(e.target.value)})]}),(0,i.jsx)(P,{whileTap:{scale:.95},children:(0,i.jsx)(u.A,{size:20,color:"#6b7280"})})]}),0===Z.length?(0,i.jsxs)(J,{children:[(0,i.jsx)(H,{children:(0,i.jsx)(f.A,{size:64})}),(0,i.jsx)(W,{children:s?"No claims found":"No Fraud Claims"}),(0,i.jsx)(V,{children:s?"Try adjusting your search":"All deliveries verified with QR tracking"})]}):(0,i.jsx)(z,{children:(0,i.jsx)(d.N,{children:Z.map(e=>(0,i.jsxs)(E,{$priority:e.priority,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:()=>ei(e),children:[(0,i.jsxs)(L,{children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(F,{children:e.claimNumber}),(0,i.jsx)(q,{$type:e.claimType,children:(e=>{switch(e){case"customer_never_received":return"Never Received";case"driver_dispute":return"Driver Dispute";case"suspicious_activity":return"Suspicious Activity";case"wrong_delivery":return"Wrong Delivery";case"quality_issue":return"Quality Issue";default:return e}})(e.claimType)})]}),(0,i.jsx)(Q,{$status:e.status,children:er(e.status)})]}),(0,i.jsxs)(U,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(h.A,{}),(0,i.jsxs)("span",{children:["Order: ",e.orderNumber]})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(g.A,{}),(0,i.jsx)("span",{children:e.customerName})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(b.A,{}),(0,i.jsxs)("span",{children:["Claim Date: ",new Date(e.claimDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",et(e.claimDate)]})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(x.A,{}),(0,i.jsx)("span",{children:e.description})]})]}),(0,i.jsxs)(B,{children:[(0,i.jsxs)(M,{$present:e.evidence.qrScanned,children:[e.evidence.qrScanned?(0,i.jsx)(v.A,{}):(0,i.jsx)(j.A,{}),"QR Scan"]}),(0,i.jsxs)(M,{$present:!!e.evidence.photoProof,children:[e.evidence.photoProof?(0,i.jsx)(v.A,{}):(0,i.jsx)(j.A,{}),"Photo"]}),(0,i.jsxs)(M,{$present:!!e.evidence.customerSignature,children:[e.evidence.customerSignature?(0,i.jsx)(v.A,{}):(0,i.jsx)(j.A,{}),"Signature"]})]})]},e.id))})})]})}}},e=>{e.O(0,[2207,1733,4968,7343,8441,1255,7358],()=>e(e.s=41565)),_N_E=e.O()}]);