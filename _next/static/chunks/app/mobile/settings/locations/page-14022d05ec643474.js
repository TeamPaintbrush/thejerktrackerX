(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1907:(e,t,a)=>{"use strict";a.d(t,{dj:()=>j,tE:()=>v});var i=a(95155),o=a(12115),r=a(42529),n=a(6132),s=a(52056),c=a(23327),l=a(65229),d=a(50625);let p=(0,d.i7)(["from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}"]);(0,d.i7)(["from{transform:translateX(0);opacity:1;}to{transform:translateX(100%);opacity:0;}"]);let g=d.Ay.div.withConfig({componentId:"jt-app__sc-9f0cd444-0"})(["position:fixed;top:1rem;right:1rem;z-index:50;display:flex;flex-direction:column;gap:0.5rem;max-width:28rem;width:100%;@media (max-width:640px){left:1rem;right:1rem;max-width:none;}"]),u=d.Ay.div.withConfig({componentId:"jt-app__sc-9f0cd444-1"})(["background:white;border-radius:",";padding:1rem;box-shadow:",";border:1px solid;animation:"," 0.3s ease-out;transition:all 0.3s ease;"," &:hover{transform:translateY(-2px);box-shadow:",";}"],e=>{let{theme:t}=e;return t.borderRadius.lg},e=>{let{theme:t}=e;return t.shadows.large},p,e=>{let{$type:t,theme:a}=e;switch(t){case"success":return"\n          border-color: ".concat(a.colors.accent[200],";\n          background: ").concat(a.colors.accent[50],";\n        ");case"error":return"\n          border-color: #fecaca;\n          background: #fef2f2;\n        ";case"warning":return"\n          border-color: #fed7aa;\n          background: #fffbeb;\n        ";case"info":return"\n          border-color: #bfdbfe;\n          background: #eff6ff;\n        ";default:return"\n          border-color: ".concat(a.colors.secondary[200],";\n          background: ").concat(a.colors.secondary[50],";\n        ")}},e=>{let{theme:t}=e;return t.shadows.large}),m=d.Ay.div.withConfig({componentId:"jt-app__sc-9f0cd444-2"})(["display:flex;align-items:flex-start;gap:0.75rem;"]),h=d.Ay.div.withConfig({componentId:"jt-app__sc-9f0cd444-3"})(["flex-shrink:0;",""],e=>{let{$type:t}=e;switch(t){case"success":return"color: #22c55e;";case"error":return"color: #ef4444;";case"warning":return"color: #f59e0b;";case"info":return"color: #3b82f6;";default:return"color: #6b7280;"}}),f=d.Ay.div.withConfig({componentId:"jt-app__sc-9f0cd444-4"})(["flex:1;",""],e=>{let{$type:t}=e;switch(t){case"success":return"color: #166534;";case"error":return"color: #991b1b;";case"warning":return"color: #92400e;";case"info":return"color: #1e40af;";default:return"color: #374151;"}}),y=d.Ay.h4.withConfig({componentId:"jt-app__sc-9f0cd444-5"})(["font-size:",";font-weight:500;margin:0;line-height:1.4;"],e=>{let{theme:t}=e;return t.typography.fontSize.sm}),x=d.Ay.p.withConfig({componentId:"jt-app__sc-9f0cd444-6"})(["font-size:",";margin:0.25rem 0 0 0;opacity:0.9;line-height:1.4;"],e=>{let{theme:t}=e;return t.typography.fontSize.sm}),b=d.Ay.button.withConfig({componentId:"jt-app__sc-9f0cd444-7"})(["flex-shrink:0;background:none;border:none;color:#9ca3af;cursor:pointer;padding:0.25rem;border-radius:",";transition:all 0.2s ease;&:hover{color:#6b7280;background:rgba(0,0,0,0.05);}&:focus{outline:none;box-shadow:0 0 0 2px rgba(107,114,128,0.3);}"],e=>{let{theme:t}=e;return t.borderRadius.sm}),w=(0,o.createContext)(void 0),j=()=>{let e=(0,o.useContext)(w);if(!e)throw Error("useToast must be used within a ToastProvider");return e},v=e=>{let{children:t}=e,[a,d]=(0,o.useState)([]),p=(0,o.useCallback)(e=>{d(t=>t.filter(t=>t.id!==e))},[]),j=(0,o.useCallback)(e=>{let t=Math.random().toString(36).substr(2,9),a={...e,id:t};d(e=>[...e,a]),setTimeout(()=>{p(t)},e.duration||5e3)},[p]);return(0,i.jsxs)(w.Provider,{value:{addToast:j,removeToast:p},children:[t,(0,i.jsx)(g,{children:a.map(e=>(0,i.jsx)(u,{$type:e.type,role:"alert","aria-live":"polite",children:(0,i.jsxs)(m,{children:[(0,i.jsx)(h,{$type:e.type,children:(e=>{switch(e){case"success":return(0,i.jsx)(r.A,{size:20});case"error":return(0,i.jsx)(n.A,{size:20});case"warning":return(0,i.jsx)(s.A,{size:20});default:return(0,i.jsx)(c.A,{size:20})}})(e.type)}),(0,i.jsxs)(f,{$type:e.type,children:[(0,i.jsx)(y,{children:e.title}),e.message&&(0,i.jsx)(x,{children:e.message})]}),(0,i.jsx)(b,{onClick:()=>p(e.id),"aria-label":"Close notification",children:(0,i.jsx)(l.A,{size:16})})]})},e.id))})]})}},15824:(e,t,a)=>{"use strict";a.d(t,{I:()=>h});var i=a(39903);let o="https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod".trim().replace(/\/$/,""),r="w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS",n="pSq4vhYdRnB7OUCkfQlo9M3z6rJEaD2F",s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={"Content-Type":"application/json"};return r&&(a["x-api-key"]=r),t&&n&&(a["X-Location-Admin-Key"]=n),{...a,...(e=>{if(!e)return{};if(e instanceof Headers){let t={};return e.forEach((e,a)=>{t[a]=e}),t}return Array.isArray(e)?e.reduce((e,t)=>{let[a,i]=t;return e[a]=i,e},{}):{...e}})(e)}};async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=await fetch(e.startsWith("http")?e:o?"".concat(o).concat(e):e,{...t,headers:s(t.headers,a)});if(!i.ok)throw Error(await i.text().catch(()=>i.statusText)||"Request failed with status ".concat(i.status));if(204!==i.status)return i.json()}let l=e=>{if(e)return e instanceof Date?e:new Date(e)},d=e=>{var t;return{...e,createdAt:null!=(t=l(e.createdAt))?t:new Date,pickedUpAt:l(e.pickedUpAt),deliveredAt:l(e.deliveredAt)}},p=e=>{var t,a,i,o;return{...e,createdAt:null!=(i=l(e.createdAt))?i:new Date,updatedAt:l(e.updatedAt),billing:{...e.billing,activatedAt:l(null==(t=e.billing)?void 0:t.activatedAt),deactivatedAt:l(null==(a=e.billing)?void 0:a.deactivatedAt)},qrCodes:e.qrCodes?{...e.qrCodes,generated:null!=(o=l(e.qrCodes.generated))?o:new Date,lastUsed:l(e.qrCodes.lastUsed)}:e.qrCodes,verification:e.verification?{...e.verification,verifiedAt:l(e.verification.verifiedAt)}:e.verification}},g=e=>{var t;return{...e,createdAt:null!=(t=l(e.createdAt))?t:new Date,updatedAt:l(e.updatedAt)}};async function u(e,t){return d(await c("/api/orders/".concat(e),{method:"PATCH",body:JSON.stringify(t)}))}async function m(e,t){let a={status:t};return"picked_up"===t&&(a.pickedUpAt=new Date),"delivered"===t&&(a.deliveredAt=new Date),u(e,a)}let h={getAllOrders:async function(){return(await c("/api/orders/")).map(d)},getOrderById:async function(e){let t=await c("/api/orders/".concat(e));return t?d(t):null},createOrder:async function(e){if(o)try{let t=await c("/api/orders",{method:"POST",body:JSON.stringify(e)});return d(t)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}return console.log("\uD83D\uDCE1 Using direct DynamoDB for order creation"),await i.DynamoDBService.createOrder(e)},updateOrder:u,updateOrderStatus:m,getLocationsByBusinessId:async function(e){if(o)try{return((await c("/api/locations?businessId=".concat(encodeURIComponent(e)))).locations||[]).map(p)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}return console.log("\uD83D\uDCE1 Using direct DynamoDB for location fetching"),await i.DynamoDBService.getLocationsByBusinessId(e)},createLocation:async function(e){let t=await c("/api/locations",{method:"POST",body:JSON.stringify(e)},!0);return t.location?p(t.location):null},updateLocation:async function(e,t){return await c("/api/locations/".concat(e),{method:"PUT",body:JSON.stringify(t)},!0),!0},deleteLocation:async function(e){return await c("/api/locations/".concat(e),{method:"DELETE"},!0),!0},getMenuItems:async function(e,t,a){if(o)try{let i=new URLSearchParams({businessId:e});return t&&i.set("locationId",t),a&&i.set("search",a),((await c("/api/mobile/menu?".concat(i.toString()))).menuItems||[]).map(g)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}console.log("\uD83D\uDCE1 Using direct DynamoDB for menu fetching");let r=await i.DynamoDBService.getMenuItems(e);if(t&&(r=r.filter(e=>e.locationId===t)),a){let e=a.toLowerCase();r=r.filter(t=>{var a;return t.name.toLowerCase().includes(e)||(null==(a=t.description)?void 0:a.toLowerCase().includes(e))})}return r.map(g)}}},49320:(e,t,a)=>{Promise.resolve().then(a.bind(a,64809))},50470:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var i=a(95155);a(12115);var o=a(20063),r=a(50625),n=a(35626);let s=r.Ay.button.withConfig({componentId:"jt-app__sc-95ba5970-0"})(["display:flex;align-items:center;gap:0.5rem;background:white;border:1px solid #e5e7eb;border-radius:0.75rem;padding:0.75rem 1rem;color:#374151;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;min-width:44px;min-height:44px;box-shadow:0 2px 4px rgba(0,0,0,0.05);&:hover{background:#f9fafb;border-color:#d1d5db;transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,0.1);}&:active{transform:translateY(0);background:#f3f4f6;}@media (min-width:769px){display:none;}"]),c=(0,r.Ay)(n.A).withConfig({componentId:"jt-app__sc-95ba5970-1"})(["width:18px;height:18px;"]);function l(e){let{label:t="Back",href:a,className:r,onClick:n}=e,l=(0,o.useRouter)();return(0,i.jsxs)(s,{onClick:()=>{n?n():a?l.push(a):l.back()},className:r,children:[(0,i.jsx)(c,{}),t]})}(0,r.Ay)(l).withConfig({componentId:"jt-app__sc-95ba5970-2"})(["position:fixed;top:calc(env(safe-area-inset-top) + 1rem);left:1rem;z-index:100;background:rgba(255,255,255,0.9);backdrop-filter:blur(10px);border:1px solid rgba(229,231,235,0.8);"]),(0,r.Ay)(l).withConfig({componentId:"jt-app__sc-95ba5970-3"})(["margin-bottom:1rem;"])},51247:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});let i={colors:{primary:{50:"#fef7ee",100:"#fdeddc",200:"#fad8b8",300:"#f6bc89",400:"#f19558",500:"#ed7734",600:"#de5d20",700:"#b8471c",800:"#94371a",900:"#77301c",950:"#40160a"},secondary:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},accent:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",background:"#fafaf9",surface:"#ffffff",text:{primary:"#1c1917",secondary:"#57534e",muted:"#a8a29e",inverse:"#ffffff"},border:{light:"#e7e5e4",medium:"#d6d3d1",dark:"#a8a29e"}},typography:{fontFamily:{primary:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",display:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem","4xl":"6rem","5xl":"8rem"},borderRadius:{none:"0",sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem","2xl":"1.5rem","3xl":"2rem",full:"9999px"},shadows:{soft:"0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)",medium:"0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",large:"0 10px 50px -12px rgba(0, 0, 0, 0.25)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",glow:"0 0 20px rgba(237, 119, 52, 0.3), 0 0 40px rgba(237, 119, 52, 0.1)",glowSoft:"0 0 15px rgba(237, 119, 52, 0.2)",elevation1:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)",elevation2:"0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)",elevation3:"0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.10)",elevation4:"0 15px 25px rgba(0, 0, 0, 0.15), 0 5px 10px rgba(0, 0, 0, 0.05)",coloredShadow:"0 20px 40px -12px rgba(237, 119, 52, 0.25)"},transitions:{fast:"150ms ease-in-out",normal:"250ms ease-in-out",slow:"350ms ease-in-out",smooth:"300ms cubic-bezier(0.4, 0, 0.2, 1)",spring:"400ms cubic-bezier(0.34, 1.56, 0.64, 1)"},effects:{glassDark:"rgba(30, 41, 59, 0.7)",glassLight:"rgba(255, 255, 255, 0.1)",glassBorder:"rgba(255, 255, 255, 0.1)",blur:"blur(20px)",blurHeavy:"blur(40px)",gradientPrimary:"linear-gradient(135deg, #ed7734 0%, #f19558 100%)",gradientAccent:"linear-gradient(135deg, #f6bc89 0%, #ed7734 100%)",gradientBackground:"linear-gradient(135deg, #fef7ee 0%, #fafaf9 100%)",gradientDark:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",gradientOrange:"linear-gradient(to right, #ed7734, #f59e0b)",overlayLight:"rgba(255, 255, 255, 0.05)",overlayDark:"rgba(0, 0, 0, 0.3)"},animations:{hoverLift:"translateY(-4px)",hoverScale:"scale(1.02)",hoverScaleLarge:"scale(1.05)",easeSmooth:"cubic-bezier(0.4, 0, 0.2, 1)",easeSpring:"cubic-bezier(0.34, 1.56, 0.64, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)"},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},zIndex:{dropdown:1e3,sticky:1020,fixed:1030,modal:1040,popover:1050,tooltip:1060}}},64809:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ei});var i=a(95155),o=a(12115),r=a(50625),n=a(1733),s=a(26497),c=a(1907),l=a(15824),d=a(51247),p=a(76561),g=a(21873),u=a(6132),m=a(19408),h=a(42529),f=a(38707),y=a(21190),x=a(71360),b=a(6191),w=a(65229),j=a(46046);let v=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-0"})(["padding:0.5rem 1rem;padding-bottom:100px;background:",";min-height:calc(100vh - 60px);"],d.w.effects.gradientBackground),A=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-1"})(["margin-bottom:1.5rem;text-align:center;"]),C=r.Ay.h1.withConfig({componentId:"jt-app__sc-ba687313-2"})(["font-size:",";font-weight:",";color:",";margin:0 0 0.5rem 0;background:",";-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;"],d.w.typography.fontSize["2xl"],d.w.typography.fontWeight.bold,d.w.colors.text.primary,d.w.effects.gradientPrimary),_=r.Ay.p.withConfig({componentId:"jt-app__sc-ba687313-3"})(["font-size:",";color:",";margin:0;"],d.w.typography.fontSize.base,d.w.colors.text.secondary),k=(0,r.Ay)(n.P.div).withConfig({componentId:"jt-app__sc-ba687313-4"})(["background:",";border-radius:",";padding:1.5rem;margin-bottom:1.5rem;box-shadow:",";border:1px solid ",";"],d.w.colors.surface,d.w.borderRadius.xl,d.w.shadows.elevation2,d.w.colors.border.light),z=r.Ay.h2.withConfig({componentId:"jt-app__sc-ba687313-5"})(["font-size:",";font-weight:",";color:",";margin:0 0 1rem 0;display:flex;align-items:center;gap:0.5rem;svg{color:",";}"],d.w.typography.fontSize.lg,d.w.typography.fontWeight.semibold,d.w.colors.text.primary,d.w.colors.primary[500]),I=(0,r.Ay)(n.P.div).withConfig({componentId:"jt-app__sc-ba687313-6"})(["background:",";color:",";border-radius:",";padding:1.25rem;margin-bottom:1rem;border:2px solid ",";position:relative;box-shadow:",";transition:",";&:hover{transform:translateY(-2px);box-shadow:",";}"],e=>e.$primary?d.w.effects.gradientPrimary:d.w.colors.surface,e=>e.$primary?"white":d.w.colors.text.primary,d.w.borderRadius.lg,e=>e.$primary?d.w.colors.primary[500]:d.w.colors.border.light,e=>e.$primary?d.w.shadows.coloredShadow:d.w.shadows.elevation1,d.w.transitions.smooth,d.w.shadows.elevation3),S=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-7"})(["font-size:",";font-weight:",";margin-bottom:0.5rem;display:flex;align-items:center;gap:0.5rem;"],d.w.typography.fontSize.lg,d.w.typography.fontWeight.bold),D=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-8"})(["font-size:",";opacity:0.9;margin-bottom:0.25rem;display:flex;align-items:flex-start;gap:0.5rem;line-height:1.4;"],d.w.typography.fontSize.sm),L=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-9"})(["font-size:",";opacity:0.8;margin-top:0.5rem;display:flex;align-items:center;gap:0.5rem;"],d.w.typography.fontSize.xs),P=r.Ay.span.withConfig({componentId:"jt-app__sc-ba687313-10"})(["display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0.5rem;background:rgba(255,255,255,0.25);border-radius:",";font-size:",";font-weight:",";backdrop-filter:",";"],d.w.borderRadius.md,d.w.typography.fontSize.xs,d.w.typography.fontWeight.semibold,d.w.effects.blur),E=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-11"})(["display:flex;gap:0.5rem;margin-top:1rem;"]),T=(0,r.Ay)(n.P.button).withConfig({componentId:"jt-app__sc-ba687313-12"})(["flex:1;padding:0.75rem;background:",";color:white;border:none;border-radius:",";font-size:",";font-weight:",";cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.5rem;transition:",";box-shadow:",";&:hover{transform:translateY(-1px);box-shadow:",";}&:active{transform:translateY(0);}&:disabled{opacity:0.5;cursor:not-allowed;}"],e=>"danger"===e.$variant?d.w.colors.error:"secondary"===e.$variant?d.w.colors.secondary[600]:d.w.effects.gradientPrimary,d.w.borderRadius.lg,d.w.typography.fontSize.sm,d.w.typography.fontWeight.semibold,d.w.transitions.smooth,d.w.shadows.elevation1,d.w.shadows.elevation2),N=(0,r.Ay)(n.P.button).withConfig({componentId:"jt-app__sc-ba687313-13"})(["width:100%;padding:1rem;background:",";color:white;border:none;border-radius:",";font-size:",";font-weight:",";cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.5rem;box-shadow:",";transition:",";&:hover{transform:translateY(-2px);box-shadow:",";}"],d.w.effects.gradientAccent,d.w.borderRadius.xl,d.w.typography.fontSize.base,d.w.typography.fontWeight.semibold,d.w.shadows.elevation2,d.w.transitions.smooth,d.w.shadows.elevation3),$=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-14"})(["padding:1rem;border-radius:",";background:",";border:1px solid ",";color:",";margin-bottom:1rem;font-size:",";display:flex;align-items:flex-start;gap:0.5rem;"],d.w.borderRadius.lg,e=>"success"===e.$type?d.w.colors.accent[50]:"warning"===e.$type?"#fef3c7":"#eff6ff",e=>"success"===e.$type?d.w.colors.accent[200]:"warning"===e.$type?d.w.colors.warning:d.w.colors.info,e=>"success"===e.$type?"#065f46":"warning"===e.$type?"#92400e":"#1e40af",d.w.typography.fontSize.sm),B=(0,r.Ay)(n.P.div).withConfig({componentId:"jt-app__sc-ba687313-15"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:",";backdrop-filter:",";display:flex;align-items:center;justify-content:center;z-index:",";padding:1rem;"],d.w.effects.overlayDark,d.w.effects.blur,d.w.zIndex.modal),R=(0,r.Ay)(n.P.div).withConfig({componentId:"jt-app__sc-ba687313-16"})(["background:",";border-radius:",";padding:1.5rem;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:",";"],d.w.colors.surface,d.w.borderRadius["2xl"],d.w.shadows.large),O=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-17"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;"]),U=r.Ay.h3.withConfig({componentId:"jt-app__sc-ba687313-18"})(["font-size:",";font-weight:",";color:",";margin:0;display:flex;align-items:center;gap:0.5rem;"],d.w.typography.fontSize.xl,d.w.typography.fontWeight.bold,d.w.colors.text.primary),F=r.Ay.button.withConfig({componentId:"jt-app__sc-ba687313-19"})(["background:transparent;border:none;cursor:pointer;padding:0.25rem;color:",";transition:",";&:hover{color:",";}"],d.w.colors.text.secondary,d.w.transitions.fast,d.w.colors.text.primary),J=r.Ay.p.withConfig({componentId:"jt-app__sc-ba687313-20"})(["font-size:",";color:",";margin:0 0 1.5rem 0;line-height:1.5;"],d.w.typography.fontSize.sm,d.w.colors.text.secondary),q=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-21"})(["display:flex;gap:0.75rem;"]),Y=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-22"})(["margin-bottom:1rem;"]),W=r.Ay.label.withConfig({componentId:"jt-app__sc-ba687313-23"})(["display:block;font-size:",";font-weight:",";color:",";margin-bottom:0.5rem;"],d.w.typography.fontSize.sm,d.w.typography.fontWeight.medium,d.w.colors.text.primary),H=r.Ay.input.withConfig({componentId:"jt-app__sc-ba687313-24"})(["width:100%;padding:0.75rem;border:1px solid ",";border-radius:",";font-size:",";color:",";background:",";transition:",";&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ",";}&::placeholder{color:",";}"],d.w.colors.border.medium,d.w.borderRadius.lg,d.w.typography.fontSize.sm,d.w.colors.text.primary,d.w.colors.surface,d.w.transitions.fast,d.w.colors.primary[500],d.w.colors.primary[100],d.w.colors.text.muted),M=r.Ay.select.withConfig({componentId:"jt-app__sc-ba687313-25"})(["width:100%;padding:0.75rem;border:1px solid ",";border-radius:",";font-size:",";color:",";background:",";transition:",";&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ",";}"],d.w.colors.border.medium,d.w.borderRadius.lg,d.w.typography.fontSize.sm,d.w.colors.text.primary,d.w.colors.surface,d.w.transitions.fast,d.w.colors.primary[500],d.w.colors.primary[100]),X=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-26"})(["display:grid;grid-template-columns:1fr 1fr;gap:1rem;"]),K=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-27"})(["display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-bottom:1px solid ",";&:last-child{border-bottom:none;}"],d.w.colors.border.light),Q=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-28"})(["font-size:",";color:",";font-weight:",";display:flex;align-items:center;gap:0.5rem;svg{color:",";}"],d.w.typography.fontSize.sm,d.w.colors.text.primary,d.w.typography.fontWeight.medium,d.w.colors.primary[500]),Z=r.Ay.button.withConfig({componentId:"jt-app__sc-ba687313-29"})(["width:48px;height:28px;border-radius:",";border:none;background:",";position:relative;cursor:pointer;transition:",";box-shadow:",";&::after{content:'';position:absolute;width:22px;height:22px;border-radius:",";background:white;top:3px;left:",";transition:",";box-shadow:",";}&:hover{box-shadow:",";}"],d.w.borderRadius.full,e=>e.$active?d.w.colors.accent[500]:d.w.colors.secondary[400],d.w.transitions.smooth,d.w.shadows.inner,d.w.borderRadius.full,e=>e.$active?"23px":"3px",d.w.transitions.smooth,d.w.shadows.elevation1,d.w.shadows.elevation2),V=r.Ay.div.withConfig({componentId:"jt-app__sc-ba687313-30"})(["text-align:center;padding:3rem 1rem;color:",";svg{color:",";margin-bottom:1rem;}p{margin:0.5rem 0;font-size:",";}"],d.w.colors.text.secondary,d.w.colors.text.muted,d.w.typography.fontSize.sm);function G(e){let{className:t}=e,{addToast:a}=(0,c.dj)(),[r,n]=(0,o.useState)(!0),[G,ee]=(0,o.useState)(!1),[et,ea]=(0,o.useState)(null),[ei,eo]=(0,o.useState)(!1),[er,en]=(0,o.useState)(null),[es,ec]=(0,o.useState)(!0),[el,ed]=(0,o.useState)(!1),[ep,eg]=(0,o.useState)([]),[eu,em]=(0,o.useState)(""),[eh,ef]=(0,o.useState)({name:"",street:"",city:"",state:"",zipCode:"",country:"Jamaica",latitude:"",longitude:"",businessName:"",businessType:"restaurant",businessPhone:"",businessEmail:"",operatingHours:""}),ey=(0,o.useCallback)(async()=>{n(!0);try{{let a=localStorage.getItem("mobile_auth_user");if(a){let i=JSON.parse(a),o=i.id||i.email;em(o);let r=localStorage.getItem("tracking_settings_".concat(o));if(r){var e,t;let a=JSON.parse(r);ec(null==(e=a.enabled)||e),ed(null!=(t=a.autoDetect)&&t)}let n=await l.I.getLocationsByBusinessId(o);n&&n.length>0&&eg(n)}}}catch(e){console.error("Error loading location data:",e),a({type:"error",title:"Error",message:"Failed to load locations",duration:3e3})}finally{n(!1)}},[a]);(0,o.useEffect)(()=>{ey()},[ey]);let ex=async e=>{ec(e),eu&&localStorage.setItem("tracking_settings_".concat(eu),JSON.stringify({enabled:e,autoDetect:el})),a({type:"success",title:e?"Tracking Enabled":"Tracking Disabled",message:e?"Location tracking is now active":"Location tracking is now off",duration:2e3})},eb=async e=>{ed(e),eu&&localStorage.setItem("tracking_settings_".concat(eu),JSON.stringify({enabled:es,autoDetect:e})),a({type:"success",title:e?"Auto-detect Enabled":"Auto-detect Disabled",message:e?"Location will be detected automatically":"Auto-detection is now off",duration:2e3})},ew=async()=>{if(!eh.name||!eh.street||!eh.city||!eh.businessName)return void a({type:"error",title:"Validation Error",message:"Please fill in all required fields",duration:3e3});try{er?await l.I.updateLocation(er.id,{name:eh.name,address:{street:eh.street,city:eh.city,state:eh.state,zipCode:eh.zipCode,country:eh.country},coordinates:{latitude:parseFloat(eh.latitude)||0,longitude:parseFloat(eh.longitude)||0},businessInfo:{businessName:eh.businessName,businessType:eh.businessType,businessPhone:eh.businessPhone,businessEmail:eh.businessEmail},updatedAt:new Date})&&(await ey(),a({type:"success",title:"Location Updated",message:"Location has been updated successfully",duration:3e3})):await l.I.createLocation({businessId:eu,name:eh.name,address:{street:eh.street,city:eh.city,state:eh.state,zipCode:eh.zipCode,country:eh.country},coordinates:{latitude:parseFloat(eh.latitude)||0,longitude:parseFloat(eh.longitude)||0},businessInfo:{businessName:eh.businessName,businessType:eh.businessType,businessPhone:eh.businessPhone,businessEmail:eh.businessEmail},verification:{status:"pending",method:"gps"},qrCodes:{primary:"qr_".concat(Date.now()),generated:new Date},billing:{isActive:!0,activatedAt:new Date,monthlyUsage:0},settings:{isActive:!0,timezone:"America/Jamaica"}})&&(await ey(),a({type:"success",title:"Location Added",message:"New location has been added successfully",duration:3e3})),eo(!1),en(null)}catch(e){console.error("Error saving location:",e),a({type:"error",title:"Error",message:"Failed to save location",duration:3e3})}},ej=async()=>{if(et){try{var e;await l.I.updateLocation(et,{settings:{...null==(e=ep.find(e=>e.id===et))?void 0:e.settings,isActive:!1}}),await ey(),a({type:"success",title:"Location Deleted",message:"Location has been removed successfully",duration:3e3})}catch(e){console.error("Error deleting location:",e),a({type:"error",title:"Error",message:"Failed to delete location",duration:3e3})}ee(!1),ea(null)}};return r?(0,i.jsx)(v,{className:t,children:(0,i.jsx)(k,{initial:{opacity:0},animate:{opacity:1},children:(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:(0,i.jsx)("p",{style:{color:d.w.colors.text.secondary},children:"Loading location settings..."})})})}):(0,i.jsxs)(v,{className:t,children:[(0,i.jsxs)(A,{children:[(0,i.jsx)(C,{children:"Locations"}),(0,i.jsx)(_,{children:"Manage your business locations"})]}),(0,i.jsxs)(k,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,i.jsxs)(z,{children:[(0,i.jsx)(p.A,{size:20}),"Tracking Settings"]}),(0,i.jsxs)(K,{children:[(0,i.jsxs)(Q,{children:[(0,i.jsx)(g.A,{size:16}),"Enable Location Tracking"]}),(0,i.jsx)(Z,{$active:es,onClick:()=>ex(!es)})]}),(0,i.jsxs)(K,{children:[(0,i.jsxs)(Q,{children:[(0,i.jsx)(p.A,{size:16}),"Auto-detect Location"]}),(0,i.jsx)(Z,{$active:el,onClick:()=>eb(!el)})]}),(0,i.jsxs)($,{$type:"info",children:[(0,i.jsx)(u.A,{size:16}),(0,i.jsx)("div",{children:"Location tracking helps customers see driver's real-time location and estimated arrival time."})]})]}),(0,i.jsxs)(k,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[(0,i.jsxs)(z,{children:[(0,i.jsx)(m.A,{size:20}),"Saved Locations (",ep.filter(e=>e.settings.isActive).length,")"]}),0===ep.filter(e=>e.settings.isActive).length?(0,i.jsxs)(V,{children:[(0,i.jsx)(g.A,{size:48}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"No locations yet"})}),(0,i.jsx)("p",{children:"Add your first business location to get started"})]}):ep.filter(e=>e.settings.isActive).map((e,t)=>(0,i.jsxs)(I,{$primary:0===t,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[(0,i.jsxs)(S,{children:[(0,i.jsx)(g.A,{size:20}),e.name,0===t&&(0,i.jsxs)(P,{children:[(0,i.jsx)(h.A,{size:12}),"Primary"]})]}),(0,i.jsxs)(D,{children:[(0,i.jsx)(m.A,{size:14,style:{marginTop:"2px",flexShrink:0}}),(0,i.jsxs)("span",{children:[e.address.street,", ",e.address.city,e.address.state&&", ".concat(e.address.state)]})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(f.A,{size:12}),e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(m.A,{size:12}),e.businessInfo.businessName]}),(0,i.jsxs)(E,{children:[(0,i.jsxs)(T,{$variant:"secondary",whileTap:{scale:.98},onClick:()=>{en(e),ef({name:e.name,street:e.address.street,city:e.address.city,state:e.address.state,zipCode:e.address.zipCode,country:e.address.country,latitude:e.coordinates.latitude.toString(),longitude:e.coordinates.longitude.toString(),businessName:e.businessInfo.businessName,businessType:e.businessInfo.businessType,businessPhone:e.businessInfo.businessPhone,businessEmail:e.businessInfo.businessEmail,operatingHours:""}),eo(!0)},children:[(0,i.jsx)(y.A,{size:14}),"Edit"]}),0!==t&&(0,i.jsxs)(T,{$variant:"danger",whileTap:{scale:.98},onClick:()=>{ea(e.id),ee(!0)},children:[(0,i.jsx)(x.A,{size:14}),"Delete"]})]})]},e.id)),(0,i.jsxs)(N,{whileTap:{scale:.98},onClick:()=>{en(null),ef({name:"",street:"",city:"",state:"",zipCode:"",country:"Jamaica",latitude:"",longitude:"",businessName:"",businessType:"restaurant",businessPhone:"",businessEmail:"",operatingHours:""}),eo(!0)},children:[(0,i.jsx)(b.A,{size:20}),"Add New Location"]})]}),ep.filter(e=>e.settings.isActive).length>0&&(0,i.jsxs)($,{$type:"success",children:[(0,i.jsx)(h.A,{size:16}),(0,i.jsxs)("div",{children:[ep.filter(e=>e.settings.isActive).length," location",1!==ep.filter(e=>e.settings.isActive).length?"s":""," configured. All locations are active and ready for orders."]})]}),(0,i.jsx)(s.N,{children:G&&(0,i.jsx)(B,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ee(!1),children:(0,i.jsxs)(R,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(U,{children:[(0,i.jsx)(u.A,{size:20,style:{color:d.w.colors.error}}),"Delete Location?"]}),(0,i.jsx)(J,{children:"Are you sure you want to delete this location? This action cannot be undone."}),(0,i.jsxs)(q,{children:[(0,i.jsx)(T,{$variant:"secondary",onClick:()=>ee(!1),whileTap:{scale:.98},style:{flex:1},children:"Cancel"}),(0,i.jsxs)(T,{$variant:"danger",onClick:ej,whileTap:{scale:.98},style:{flex:1},children:[(0,i.jsx)(x.A,{size:16}),"Delete"]})]})]})})}),(0,i.jsx)(s.N,{children:ei&&(0,i.jsx)(B,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>eo(!1),children:(0,i.jsxs)(R,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(O,{children:[(0,i.jsxs)(U,{children:[(0,i.jsx)(g.A,{size:20,style:{color:d.w.colors.primary[500]}}),er?"Edit Location":"Add New Location"]}),(0,i.jsx)(F,{onClick:()=>eo(!1),children:(0,i.jsx)(w.A,{size:24})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Location Name *"}),(0,i.jsx)(H,{type:"text",placeholder:"e.g., Main Restaurant",value:eh.name,onChange:e=>ef({...eh,name:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Business Name *"}),(0,i.jsx)(H,{type:"text",placeholder:"e.g., The Jerk Tracker",value:eh.businessName,onChange:e=>ef({...eh,businessName:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Business Type"}),(0,i.jsxs)(M,{value:eh.businessType,onChange:e=>ef({...eh,businessType:e.target.value}),children:[(0,i.jsx)("option",{value:"restaurant",children:"Restaurant"}),(0,i.jsx)("option",{value:"retail",children:"Retail"}),(0,i.jsx)("option",{value:"service",children:"Service"}),(0,i.jsx)("option",{value:"other",children:"Other"})]})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Street Address *"}),(0,i.jsx)(H,{type:"text",placeholder:"123 Main Street",value:eh.street,onChange:e=>ef({...eh,street:e.target.value})})]}),(0,i.jsxs)(X,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"City *"}),(0,i.jsx)(H,{type:"text",placeholder:"Kingston",value:eh.city,onChange:e=>ef({...eh,city:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"State/Parish"}),(0,i.jsx)(H,{type:"text",placeholder:"St. Andrew",value:eh.state,onChange:e=>ef({...eh,state:e.target.value})})]})]}),(0,i.jsxs)(X,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Zip Code"}),(0,i.jsx)(H,{type:"text",placeholder:"12345",value:eh.zipCode,onChange:e=>ef({...eh,zipCode:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Country"}),(0,i.jsx)(H,{type:"text",placeholder:"Jamaica",value:eh.country,onChange:e=>ef({...eh,country:e.target.value})})]})]}),(0,i.jsxs)(X,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Latitude"}),(0,i.jsx)(H,{type:"text",placeholder:"18.0179",value:eh.latitude,onChange:e=>ef({...eh,latitude:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Longitude"}),(0,i.jsx)(H,{type:"text",placeholder:"-76.8099",value:eh.longitude,onChange:e=>ef({...eh,longitude:e.target.value})})]})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Business Phone"}),(0,i.jsx)(H,{type:"tel",placeholder:"+1 876 123 4567",value:eh.businessPhone,onChange:e=>ef({...eh,businessPhone:e.target.value})})]}),(0,i.jsxs)(Y,{children:[(0,i.jsx)(W,{children:"Business Email"}),(0,i.jsx)(H,{type:"email",placeholder:"contact@business.com",value:eh.businessEmail,onChange:e=>ef({...eh,businessEmail:e.target.value})})]}),(0,i.jsxs)(q,{children:[(0,i.jsxs)(T,{$variant:"secondary",onClick:()=>eo(!1),whileTap:{scale:.98},style:{flex:1},children:[(0,i.jsx)(w.A,{size:16}),"Cancel"]}),(0,i.jsxs)(T,{$variant:"primary",onClick:ew,whileTap:{scale:.98},style:{flex:1},children:[(0,i.jsx)(j.A,{size:16}),er?"Update":"Add"," Location"]})]})]})})})]})}var ee=a(50470);let et=r.Ay.div.withConfig({componentId:"jt-app__sc-dc9e2499-0"})(["position:relative;z-index:10;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);min-height:100vh;"]),ea=r.Ay.div.withConfig({componentId:"jt-app__sc-dc9e2499-1"})(["padding:0.5rem 1rem;padding-top:0.75rem;"]);function ei(){return(0,i.jsxs)(et,{children:[(0,i.jsx)(ea,{children:(0,i.jsx)(ee.default,{href:"/mobile/settings",label:"Settings"})}),(0,i.jsx)(G,{})]})}}},e=>{e.O(0,[2207,1733,7646,8883,9903,8441,1255,7358],()=>e(e.s=49320)),_N_E=e.O()}]);