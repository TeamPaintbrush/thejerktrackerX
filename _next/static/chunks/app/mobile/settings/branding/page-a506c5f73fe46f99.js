(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5857,6707],{19825:()=>{},26989:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},35416:(e,t,o)=>{"use strict";o.d(t,{IV:()=>i,Ji:()=>d,T6:()=>n,gE:()=>a,m:()=>l,m0:()=>c});let r={free:{maxOrders:100,maxLocations:1,qrCodeGeneration:!0,analytics:"basic",support:"email",branding:{customLogo:!1,customColors:!1,customQRStyle:!1,logoOnQRCode:!1,brandedReports:!1},apiAccess:!1,webhooks:!1,customDomain:!1,whiteLabel:!1,multiLocation:!1,advancedReporting:!1,customIntegrations:!1,dedicatedSupport:!1},starter:{maxOrders:250,maxLocations:1,qrCodeGeneration:!0,analytics:"basic",support:"email",branding:{customLogo:!1,customColors:!1,customQRStyle:!1,logoOnQRCode:!1,brandedReports:!1},apiAccess:!1,webhooks:!1,customDomain:!1,whiteLabel:!1,multiLocation:!1,advancedReporting:!1,customIntegrations:!1,dedicatedSupport:!1},professional:{maxOrders:"unlimited",maxLocations:"unlimited",qrCodeGeneration:!0,analytics:"advanced",support:"priority-email",branding:{customLogo:!0,customColors:!0,customQRStyle:!0,logoOnQRCode:!0,brandedReports:!0},apiAccess:!0,webhooks:!1,customDomain:!1,whiteLabel:!1,multiLocation:!0,advancedReporting:!0,customIntegrations:!1,dedicatedSupport:!1},enterprise:{maxOrders:"unlimited",maxLocations:"unlimited",qrCodeGeneration:!0,analytics:"comprehensive",support:"24-7-phone",branding:{customLogo:!0,customColors:!0,customQRStyle:!0,logoOnQRCode:!0,brandedReports:!0},apiAccess:!0,webhooks:!0,customDomain:!0,whiteLabel:!0,multiLocation:!0,advancedReporting:!0,customIntegrations:!0,dedicatedSupport:!0}};function a(e){return"professional"===e||"enterprise"===e}function s(e,t){return!0===r[e].branding[t]}function i(e){return"Upgrade to Professional or Enterprise to unlock ".concat(e)}function n(e){return s(e,"customLogo")}function l(e){return s(e,"customColors")}function c(e){return s(e,"customQRStyle")}function d(e){return s(e,"logoOnQRCode")}},44543:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>D});var r=o(95155),a=o(12115),s=o(15239),i=o(20063),n=o(50625),l=o(35626),c=o(68854),d=o(21786),u=o(39926),h=o(46046),m=o(65523),p=o(97971),g=o(35416);let f=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-0"})(["padding:0.5rem 1rem 5rem;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);min-height:calc(100vh - 60px);"]),y=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-1"})(["display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;padding:1rem 0;"]),b=n.Ay.button.withConfig({componentId:"jt-app__sc-aeaebf51-2"})(["display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:white;border:2px solid #e7e5e4;border-radius:0.5rem;cursor:pointer;color:#44403c;transition:all 0.2s ease;&:active{transform:scale(0.95);}"]),x=n.Ay.h1.withConfig({componentId:"jt-app__sc-aeaebf51-3"})(["font-size:1.5rem;font-weight:700;color:#1c1917;flex:1;"]),j=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-4"})(["background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);color:white;padding:0.375rem 0.75rem;border-radius:9999px;font-size:0.75rem;font-weight:600;display:inline-flex;align-items:center;gap:0.25rem;"]),w=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-5"})(["background:white;border-radius:1rem;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 4px rgba(0,0,0,0.1);"]),v=n.Ay.h2.withConfig({componentId:"jt-app__sc-aeaebf51-6"})(["font-size:1.125rem;font-weight:600;color:#1c1917;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;"]),A=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-7"})(["background:linear-gradient(135deg,#ed773420 0%,#de5d2020 100%);border:2px solid #ed7734;border-radius:0.75rem;padding:1.5rem;text-align:center;margin:2rem 0;"]),_=n.Ay.h3.withConfig({componentId:"jt-app__sc-aeaebf51-8"})(["font-size:1.25rem;font-weight:700;color:#1c1917;margin-bottom:0.5rem;"]),C=n.Ay.p.withConfig({componentId:"jt-app__sc-aeaebf51-9"})(["color:#57534e;margin-bottom:1.5rem;line-height:1.6;"]),S=n.Ay.button.withConfig({componentId:"jt-app__sc-aeaebf51-10"})(["width:100%;padding:1rem;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);color:white;border:none;border-radius:0.75rem;font-weight:600;font-size:1rem;display:flex;align-items:center;justify-content:center;gap:0.5rem;cursor:pointer;&:active{transform:scale(0.98);}"]),k=n.Ay.button.withConfig({componentId:"jt-app__sc-aeaebf51-11"})(["width:100%;padding:2rem;border:2px dashed #d6d3d1;border-radius:0.75rem;background:#fafaf9;display:flex;flex-direction:column;align-items:center;gap:0.5rem;cursor:pointer;transition:all 0.2s ease;&:active{transform:scale(0.98);border-color:#ed7734;background:#fef7ee;}"]),I=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-12"})(["width:100px;height:100px;border-radius:0.75rem;overflow:hidden;display:flex;align-items:center;justify-content:center;background:white;border:2px solid #e7e5e4;margin-bottom:1rem;position:relative;"]),R=(0,n.Ay)(s.default).withConfig({componentId:"jt-app__sc-aeaebf51-13"})(["object-fit:contain;"]),L=n.Ay.input.withConfig({componentId:"jt-app__sc-aeaebf51-14"})(["display:none;"]),z=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-15"})(["margin-bottom:1rem;"]),E=n.Ay.label.withConfig({componentId:"jt-app__sc-aeaebf51-16"})(["display:block;font-size:0.875rem;font-weight:500;color:#44403c;margin-bottom:0.5rem;"]),U=n.Ay.div.withConfig({componentId:"jt-app__sc-aeaebf51-17"})(["display:flex;align-items:center;gap:0.75rem;"]),M=n.Ay.input.withConfig({componentId:"jt-app__sc-aeaebf51-18"})(["width:60px;height:50px;border:2px solid #e7e5e4;border-radius:0.5rem;cursor:pointer;padding:0;"]),B=n.Ay.input.withConfig({componentId:"jt-app__sc-aeaebf51-19"})(["flex:1;padding:0.75rem 1rem;border:2px solid #e7e5e4;border-radius:0.5rem;font-size:0.875rem;font-family:monospace;color:#44403c;&:focus{outline:none;border-color:#ed7734;}"]),P=n.Ay.button.withConfig({componentId:"jt-app__sc-aeaebf51-20"})(["position:fixed;bottom:80px;left:1rem;right:1rem;padding:1rem;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);color:white;border:none;border-radius:0.75rem;font-weight:600;font-size:1rem;display:flex;align-items:center;justify-content:center;gap:0.5rem;cursor:pointer;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1);z-index:50;&:active{transform:scale(0.98);}&:disabled{opacity:0.5;cursor:not-allowed;}"]),Q=n.Ay.ul.withConfig({componentId:"jt-app__sc-aeaebf51-21"})(["text-align:left;margin:1.5rem 0;padding-left:1.5rem;color:#57534e;line-height:1.8;li{margin-bottom:0.5rem;}"]);function D(){var e,t,o,s,n;let D=(0,i.useRouter)(),[O,q]=(0,a.useState)(null),[F,N]=(0,a.useState)({primaryColor:"#ed7734",secondaryColor:"#de5d20",customQRStyle:{foregroundColor:"#000000",backgroundColor:"#ffffff"}}),[Y,T]=(0,a.useState)(null),[J,H]=(0,a.useState)(!1),K=a.useRef(null);(0,a.useEffect)(()=>{let e=p.F.getCurrentUser();if(!e)return void D.push("/mobile/auth/signin");q(e)},[D]);let G=(null==O||null==(e=O.subscription)?void 0:e.tier)||"free",V=(0,g.gE)(G),$=async()=>{H(!0);try{localStorage.setItem("userBranding",JSON.stringify(F)),alert("Branding settings saved successfully!")}catch(e){console.error("Failed to save branding:",e),alert("Failed to save branding settings")}finally{H(!1)}};return V?(0,r.jsx)(m.default,{children:(0,r.jsxs)(f,{children:[(0,r.jsxs)(y,{children:[(0,r.jsx)(b,{onClick:()=>D.push("/mobile/settings"),children:(0,r.jsx)(l.A,{size:20})}),(0,r.jsx)(x,{children:"Branding"}),(0,r.jsxs)(j,{children:[(0,r.jsx)(c.A,{size:12}),"Pro"]})]}),(0,r.jsxs)(w,{children:[(0,r.jsxs)(v,{children:[(0,r.jsx)(d.A,{size:20}),"Brand Logo"]}),Y&&(0,r.jsx)(I,{children:(0,r.jsx)(R,{src:Y,alt:"Brand logo",fill:!0,sizes:"100px",unoptimized:!0})}),(0,r.jsxs)(k,{onClick:()=>{var e;return null==(e=K.current)?void 0:e.click()},children:[(0,r.jsx)(d.A,{size:32,color:"#78716c"}),(0,r.jsx)("span",{style:{color:"#78716c",fontSize:"0.875rem"},children:Y?"Change Logo":"Upload Logo"}),(0,r.jsx)("span",{style:{color:"#a8a29e",fontSize:"0.75rem"},children:"PNG, JPG up to 2MB"})]}),(0,r.jsx)(L,{ref:K,type:"file",accept:"image/*",onChange:e=>{var t;let o=null==(t=e.target.files)?void 0:t[0];if(!o)return;if(!o.type.startsWith("image/"))return void alert("Please upload an image file");if(o.size>2097152)return void alert("Logo must be less than 2MB");let r=new FileReader;r.onload=e=>{var t;let o=null==(t=e.target)?void 0:t.result;T(o),N({...F,logo:o})},r.readAsDataURL(o)}})]}),(0,r.jsxs)(w,{children:[(0,r.jsxs)(v,{children:[(0,r.jsx)(u.A,{size:20}),"Brand Colors"]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(E,{children:"Primary Color"}),(0,r.jsxs)(U,{children:[(0,r.jsx)(M,{type:"color",value:F.primaryColor,onChange:e=>N({...F,primaryColor:e.target.value})}),(0,r.jsx)(B,{type:"text",value:F.primaryColor,onChange:e=>N({...F,primaryColor:e.target.value}),placeholder:"#ed7734"})]})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(E,{children:"Secondary Color"}),(0,r.jsxs)(U,{children:[(0,r.jsx)(M,{type:"color",value:F.secondaryColor,onChange:e=>N({...F,secondaryColor:e.target.value})}),(0,r.jsx)(B,{type:"text",value:F.secondaryColor,onChange:e=>N({...F,secondaryColor:e.target.value}),placeholder:"#de5d20"})]})]})]}),(0,r.jsxs)(w,{children:[(0,r.jsx)(v,{children:"QR Code Style"}),(0,r.jsxs)(z,{children:[(0,r.jsx)(E,{children:"QR Foreground"}),(0,r.jsxs)(U,{children:[(0,r.jsx)(M,{type:"color",value:(null==(t=F.customQRStyle)?void 0:t.foregroundColor)||"#000000",onChange:e=>N({...F,customQRStyle:{...F.customQRStyle,foregroundColor:e.target.value}})}),(0,r.jsx)(B,{type:"text",value:(null==(o=F.customQRStyle)?void 0:o.foregroundColor)||"#000000",placeholder:"#000000"})]})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(E,{children:"QR Background"}),(0,r.jsxs)(U,{children:[(0,r.jsx)(M,{type:"color",value:(null==(s=F.customQRStyle)?void 0:s.backgroundColor)||"#ffffff",onChange:e=>N({...F,customQRStyle:{...F.customQRStyle,backgroundColor:e.target.value}})}),(0,r.jsx)(B,{type:"text",value:(null==(n=F.customQRStyle)?void 0:n.backgroundColor)||"#ffffff",placeholder:"#ffffff"})]})]})]}),(0,r.jsxs)(P,{onClick:$,disabled:J,children:[(0,r.jsx)(h.A,{size:20}),J?"Saving...":"Save Branding"]})]})}):(0,r.jsx)(m.default,{children:(0,r.jsxs)(f,{children:[(0,r.jsxs)(y,{children:[(0,r.jsx)(b,{onClick:()=>D.push("/mobile/settings"),children:(0,r.jsx)(l.A,{size:20})}),(0,r.jsx)(x,{children:"Branding"})]}),(0,r.jsxs)(A,{children:[(0,r.jsx)(c.A,{size:48,color:"#ed7734",style:{margin:"0 auto 1rem"}}),(0,r.jsx)(_,{children:"Professional Feature"}),(0,r.jsx)(C,{children:"Business Branding is exclusive to Professional and Enterprise tier customers."}),(0,r.jsxs)(Q,{children:[(0,r.jsx)("li",{children:"✅ Upload custom brand logo"}),(0,r.jsx)("li",{children:"✅ Customize brand colors"}),(0,r.jsx)("li",{children:"✅ Styled QR codes"}),(0,r.jsx)("li",{children:"✅ Logo on QR codes"}),(0,r.jsx)("li",{children:"✅ Branded reports"}),(0,r.jsx)("li",{children:"✅ Unlimited locations"})]}),(0,r.jsxs)(S,{onClick:()=>D.push("/pricing"),children:[(0,r.jsx)(c.A,{size:20}),"Upgrade to Professional"]})]})]})})}},52583:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]])},65993:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},73141:(e,t,o)=>{Promise.resolve().then(o.bind(o,44543))},80111:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("scan-barcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]])},81494:(e,t,o)=>{"use strict";o.d(t,{h:()=>r});let r=(0,o(32587).F3)("PushNotifications",{})},87066:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},97971:(e,t,o)=>{"use strict";o.d(t,{F:()=>i});var r=o(39903),a=o(47620);class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}async signIn(e,t){console.log("\uD83D\uDD10 MobileAuth.signIn called with:",e);let o={API_BASE_URL:"https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod",API_KEY:"w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS",LOCATION_ADMIN_KEY:"pSq4vhYdRnB7OUCkfQlo9M3z6rJEaD2F"};if(!o.API_BASE_URL){console.log("\uD83D\uDCC4 Loading config from public file...");try{let e=await fetch("/config.json");e.ok&&(o=await e.json(),console.log("✅ Config loaded from file:",o))}catch(e){console.log("❌ Failed to load config file:",e)}}console.log("\uD83D\uDD0D Environment check:",o),this.setLoading(!0),this.setError(null);try{let s=(o.API_BASE_URL||"").trim().replace(/\/$/,"");if(console.log("\uD83D\uDCE1 API_BASE_URL resolved to:",s),s){let r="".concat(s,"/auth/login");console.log("\uD83D\uDE80 Login URL:",r);let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":o.API_KEY||""},body:JSON.stringify({email:e,password:t})});console.log("\uD83D\uDCE1 Response status:",a.status,a.statusText);let i=await a.json();if(console.log("\uD83D\uDCC4 Response data:",i),a.ok&&i.success)return await this.setAuthenticated(i.user),{success:!0};return this.setError(i.error||"Invalid email or password"),{success:!1,error:i.error||"Invalid email or password"}}{console.log("\uD83D\uDCE1 Using direct DynamoDB authentication (Lambda API not configured)");let o=await r.DynamoDBService.getUserByEmail(e);if(!o||!o.password)return this.setError("User not found"),{success:!1,error:"User not found"};if(!await a.Ay.compare(t,o.password))return this.setError("Invalid email or password"),{success:!1,error:"Invalid email or password"};{let e={id:o.id,email:o.email,name:o.name,role:o.role,businessId:o.businessId};return await this.setAuthenticated(e),{success:!0}}}}catch(t){let e=t instanceof Error?t.message:"Authentication failed";return console.log("❌ MobileAuth.signIn error:",e),this.setError(e),{success:!1,error:e}}finally{this.setLoading(!1)}}getTestAccount(e,t){let o=[{id:"test_admin",email:"admin@jerktrackerx.com",password:"admin123",name:"Admin User",role:"admin"},{id:"test_manager",email:"manager@jerktrackerx.com",password:"manager123",name:"Manager User",role:"manager"},{id:"test_driver",email:"driver@jerktrackerx.com",password:"driver123",name:"Driver User",role:"driver"},{id:"test_customer",email:"customer@jerktrackerx.com",password:"customer123",name:"Customer User",role:"customer"}].find(o=>o.email===e&&o.password===t);return o?{id:o.id,email:o.email,name:o.name,role:o.role,businessId:"test_business",phone:"+1234567890",createdAt:new Date,updatedAt:new Date}:null}async signUp(e,t,o){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"customer";console.log("\uD83D\uDCDD MobileAuth.signUp called with:",e,o,s);let i={API_BASE_URL:"https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod",API_KEY:"w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS"};if(!i.API_BASE_URL){console.log("\uD83D\uDCC4 Loading config from public file...");try{let e=await fetch("/config.json");e.ok&&(i=await e.json(),console.log("✅ Config loaded from file:",i))}catch(e){console.log("❌ Failed to load config file:",e)}}this.setLoading(!0),this.setError(null);try{let n=(i.API_BASE_URL||"").trim().replace(/\/$/,"");if(n){let r="".concat(n,"/auth/signup");console.log("\uD83D\uDE80 Signup URL:",r);let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i.API_KEY||""},body:JSON.stringify({email:e,password:t,name:o,role:s})});console.log("\uD83D\uDCE1 Response status:",a.status,a.statusText);let l=await a.json();if(console.log("\uD83D\uDCC4 Response data:",l),a.ok&&l.success)return await this.setAuthenticated(l.user),{success:!0};return this.setError(l.error||"Sign up failed"),{success:!1,error:l.error||"Sign up failed"}}{console.log("\uD83D\uDCE1 Using direct DynamoDB signup (Lambda API not configured)");let i=await a.Ay.hash(t,12),n=await r.DynamoDBService.createUser({email:e,password:i,name:o,role:s}),l={id:n.id,email:n.email,name:n.name,role:n.role,businessId:n.businessId};return await this.setAuthenticated(l),{success:!0}}}catch(t){console.error("❌ Signup error:",t);let e=t instanceof Error?t.message:"Sign up failed";return this.setError(e),{success:!1,error:e}}finally{this.setLoading(!1)}}async signOut(){this.authState={isAuthenticated:!1,user:null,loading:!1,error:null},localStorage.removeItem("mobile_auth_user"),localStorage.removeItem("mobile_auth_token"),this.notifyListeners()}getAuthState(){return{...this.authState}}isAuthenticated(){return this.authState.isAuthenticated}getCurrentUser(){return this.authState.user}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}loadAuthState(){try{let e=localStorage.getItem("mobile_auth_user"),t=localStorage.getItem("mobile_auth_token");if(e&&t){let t=JSON.parse(e);this.authState={isAuthenticated:!0,user:t,loading:!1,error:null},this.syncUserData(t.email)}}catch(e){console.error("Failed to load auth state:",e)}}async syncUserData(e){try{let t="https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod".trim().replace(/\/$/,"");if(!t)return void console.warn("Lambda API not configured, skipping sync");let o=await fetch("".concat(t,"/auth/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(o.ok){let e=await o.json();if(e.success&&e.user){let t=e.user;localStorage.setItem("mobile_auth_user",JSON.stringify(t)),this.authState={...this.authState,user:t},this.notifyListeners(),console.log("✅ User data synced from DynamoDB")}}}catch(e){console.warn("Failed to sync user data:",e)}}async setAuthenticated(e){let t="mock_token_"+Date.now();this.authState={isAuthenticated:!0,user:e,loading:!1,error:null},localStorage.setItem("mobile_auth_user",JSON.stringify(e)),localStorage.setItem("mobile_auth_token",t),this.notifyListeners()}async refreshUserData(){let e=this.getCurrentUser();(null==e?void 0:e.email)&&await this.syncUserData(e.email)}setLoading(e){this.authState={...this.authState,loading:e},this.notifyListeners()}setError(e){this.authState={...this.authState,error:e},this.notifyListeners()}notifyListeners(){this.listeners.forEach(e=>e({...this.authState}))}getDefaultRoute(e){switch(e){case"admin":case"customer":return"/mobile/dashboard";case"manager":case"driver":return"/mobile/orders";default:return"/mobile"}}constructor(){this.authState={isAuthenticated:!1,user:null,loading:!1,error:null},this.listeners=[],this.loadAuthState()}}let i=s.getInstance()}},e=>{e.O(0,[2207,7646,2619,4968,2987,5472,9903,5523,8441,1255,7358],()=>e(e.s=73141)),_N_E=e.O()}]);