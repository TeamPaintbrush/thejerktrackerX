(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9711],{1524:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9540:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},14606:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>d,Qg:()=>o,Te:()=>n,UW:()=>a,cf:()=>s});var i=r(22663);let n=e=>{i.Ay.success(e,{duration:4e3,position:"top-right",style:{background:"#16a34a",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#16a34a"}})},o=e=>{i.Ay.error(e,{duration:5e3,position:"top-right",style:{background:"#dc2626",color:"#fff",fontWeight:600},iconTheme:{primary:"#fff",secondary:"#dc2626"}})},s=e=>{(0,i.Ay)(e,{duration:4e3,position:"top-right",icon:"ℹ️",style:{background:"#3b82f6",color:"#fff",fontWeight:600}})},d=e=>i.Ay.loading(e,{position:"top-right",style:{background:"#f59e0b",color:"#fff",fontWeight:600}}),a=e=>{i.Ay.dismiss(e)}},15063:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>el});var i=r(95155),n=r(12115),o=r(52619),s=r.n(o),d=r(20063),a=r(47921),c=r(50625),l=r(1733),h=r(39903),p=r(40294),g=r(84300),m=r(65993),x=r(26617),u=r(46826),f=r(54485),j=r(54690),b=r(15870),y=r(20508),v=r(65229),w=r(9540),k=r(1524),A=r(26983),_=r(26921),C=r(42529),I=r(39847);let z=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-0"})(["min-height:100vh;background:#fafaf9;"]),D=c.Ay.header.withConfig({componentId:"jt-app__sc-937551b4-1"})(["background:white;border-bottom:2px solid #e7e5e4;position:sticky;top:0;z-index:50;box-shadow:0 2px 8px rgba(0,0,0,0.05);"]),$=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-2"})(["max-width:1600px;margin:0 auto;padding:0 1.5rem;display:flex;align-items:center;justify-content:space-between;height:70px;"]),M=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-3"})(["display:flex;align-items:center;gap:2rem;"]),S=(0,c.Ay)(s()).withConfig({componentId:"jt-app__sc-937551b4-4"})(["display:flex;align-items:center;gap:0.75rem;text-decoration:none;"]),T=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-5"})(["width:44px;height:44px;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);border-radius:0.75rem;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:1.25rem;box-shadow:0 2px 8px rgba(102,126,234,0.3);"]),O=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-6"})(["h1{font-size:1.25rem;font-weight:700;color:#1c1917;margin:0;line-height:1.2;}p{font-size:0.75rem;color:#78716c;margin:0;line-height:1;}"]),N=c.Ay.nav.withConfig({componentId:"jt-app__sc-937551b4-7"})(["display:none;@media (min-width:1024px){display:flex;align-items:center;gap:0.5rem;}"]),L=c.Ay.ul.withConfig({componentId:"jt-app__sc-937551b4-8"})(["list-style:none;padding:0;margin:0;display:flex;align-items:center;gap:0.5rem;"]),P=c.Ay.li.withConfig({componentId:"jt-app__sc-937551b4-9"})(["display:inline-flex;"]),W=c.Ay.button.withConfig({componentId:"jt-app__sc-937551b4-10"})(["display:flex;align-items:center;gap:0.5rem;padding:0.625rem 1rem;border-radius:0.5rem;border:none;cursor:pointer;font-weight:500;font-size:0.9375rem;transition:all 0.2s ease;background:",";color:",";text-decoration:none;&:hover{background:",";color:",";}svg{width:18px;height:18px;}"],e=>e.$active?"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)":"transparent",e=>e.$active?"white":"#44403c",e=>e.$active?"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)":"#f5f5f4",e=>e.$active?"white":"#1c1917"),R=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-11"})(["display:flex;align-items:center;gap:0.75rem;"]),B=c.Ay.button.withConfig({componentId:"jt-app__sc-937551b4-12"})(["display:flex;align-items:center;gap:0.5rem;padding:0.5rem 0.875rem;border-radius:0.5rem;border:none;background:#f5f5f4;color:#1c1917;cursor:pointer;font-weight:500;transition:all 0.2s ease;&:hover{background:#e7e5e4;}"]),q=c.Ay.button.withConfig({componentId:"jt-app__sc-937551b4-13"})(["display:flex;align-items:center;justify-content:center;padding:0.5rem;background:none;border:none;color:#44403c;cursor:pointer;border-radius:0.5rem;&:hover{background:#f5f5f4;}@media (min-width:1024px){display:none;}"]),F=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-14"})(["position:fixed;top:70px;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:40;display:",";@media (min-width:1024px){display:none;}"],e=>e.$isOpen?"block":"none"),E=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-15"})(["background:white;width:280px;height:100%;overflow-y:auto;padding:1.5rem;"]),V=c.Ay.button.withConfig({componentId:"jt-app__sc-937551b4-16"})(["width:100%;display:flex;align-items:center;gap:0.75rem;padding:0.75rem 1rem;border:none;background:",";color:",";border-radius:0.75rem;cursor:pointer;font-weight:500;font-size:0.9375rem;margin-bottom:0.5rem;transition:all 0.2s ease;text-align:left;&:hover{background:",";color:",";}svg{width:20px;height:20px;flex-shrink:0;}"],e=>e.$active?"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)":"transparent",e=>e.$active?"white":"#44403c",e=>e.$active?"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)":"#f5f5f4",e=>e.$active?"white":"#1c1917"),H=c.Ay.main.withConfig({componentId:"jt-app__sc-937551b4-17"})(["margin-left:0;padding:2rem 1.5rem;padding-bottom:4rem;max-width:1400px;margin:0 auto;"]),Y=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-18"})(["margin-bottom:2rem;h2{font-size:1.875rem;font-weight:700;color:#1c1917;margin:0 0 0.5rem 0;}p{font-size:1rem;color:#78716c;margin:0;}"]),Q=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-19"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.5rem;margin-bottom:2rem;"]),U=(0,c.Ay)(l.P.div).withConfig({componentId:"jt-app__sc-937551b4-20"})(["background:white;border-radius:1rem;padding:1.5rem;border:1px solid #e7e5e4;box-shadow:0 1px 3px rgba(0,0,0,0.05);"]),J=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-21"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;"]),Z=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-22"})(["width:48px;height:48px;border-radius:12px;background:","15;display:flex;align-items:center;justify-content:center;color:",";svg{width:24px;height:24px;}"],e=>e.$color,e=>e.$color),G=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-23"})(["display:flex;align-items:center;gap:0.25rem;padding:0.25rem 0.5rem;border-radius:0.5rem;background:",";color:",";font-size:0.875rem;font-weight:600;svg{width:14px;height:14px;}"],e=>e.$isPositive?"#dcfce7":"#fee2e2",e=>e.$isPositive?"#16a34a":"#dc2626"),K=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-24"})(["font-size:2rem;font-weight:700;color:#1c1917;margin-bottom:0.25rem;"]),X=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-25"})(["font-size:0.875rem;color:#78716c;font-weight:500;"]),ee=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-26"})(["background:white;border-radius:1rem;padding:1.5rem;border:1px solid #e7e5e4;box-shadow:0 1px 3px rgba(0,0,0,0.05);margin-bottom:1.5rem;h3{font-size:1.25rem;font-weight:700;color:#1c1917;margin:0 0 1.5rem 0;padding-bottom:1rem;border-bottom:1px solid #e7e5e4;}"]),et=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-27"})(["display:grid;gap:1rem;"]),er=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-28"})(["padding:1rem;background:#fafaf9;border:1px solid #e7e5e4;border-radius:0.75rem;transition:all 0.2s ease;cursor:pointer;&:hover{border-color:#ed7734;background:white;box-shadow:0 2px 8px rgba(102,126,234,0.1);}"]),ei=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-29"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.75rem;"]),en=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-30"})(["font-weight:700;color:#1c1917;font-size:1rem;"]),eo=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-31"})(["padding:0.25rem 0.75rem;border-radius:0.5rem;font-size:0.875rem;font-weight:600;background:",";color:",";"],e=>{switch(e.$status){case"pending":return"#fef3c7";case"picked_up":return"#dbeafe";case"delivered":return"#dcfce7";default:return"#f3f4f6"}},e=>{switch(e.$status){case"pending":return"#d97706";case"picked_up":return"#2563eb";case"delivered":return"#16a34a";default:return"#6b7280"}}),es=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-32"})(["font-size:0.875rem;color:#78716c;div{margin-bottom:0.25rem;&:last-child{margin-bottom:0;}}strong{color:#44403c;}"]),ed=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-33"})(["display:flex;gap:0.5rem;margin-top:0.75rem;padding-top:0.75rem;border-top:1px solid #e7e5e4;"]),ea=c.Ay.button.withConfig({componentId:"jt-app__sc-937551b4-34"})(["display:flex;align-items:center;gap:0.5rem;padding:0.5rem 0.75rem;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);color:white;border:none;border-radius:0.5rem;font-size:0.75rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;&:hover{transform:translateY(-1px);box-shadow:0 4px 8px rgba(237,119,52,0.3);}svg{width:14px;height:14px;}"]),ec=c.Ay.div.withConfig({componentId:"jt-app__sc-937551b4-35"})(["text-align:center;padding:3rem 1.5rem;color:#78716c;svg{width:48px;height:48px;margin-bottom:1rem;color:#d6d3d1;}h4{font-size:1.125rem;font-weight:600;color:#44403c;margin:0 0 0.5rem 0;}p{margin:0 0 1.5rem 0;}"]);function el(){var e,t;let{data:r,status:o}=(0,a.Tk)(),{hasNextAuth:s}=(0,a.Z2)(),c=(0,a.cV)(),l=(0,d.useRouter)(),[el,eh]=(0,n.useState)([]),[ep,eg]=(0,n.useState)([]),[em,ex]=(0,n.useState)([]),[eu,ef]=(0,n.useState)("all"),[ej,eb]=(0,n.useState)(!0),[ey,ev]=(0,n.useState)(!1),[ew,ek]=(0,n.useState)("dashboard"),[eA,e_]=(0,n.useState)(!1),[eC,eI]=(0,n.useState)(null);(0,n.useEffect)(()=>{var e;return"unauthenticated"===o?void l.push("/auth/signin"):(null==r||null==(e=r.user)?void 0:e.role)!=="customer"?void l.push("/"):void ez()},[r,o,l]);let ez=async()=>{var e;if(null==r||null==(e=r.user)?void 0:e.email)try{eb(!0);let e=await h.DynamoDBService.getAllOrders(),t=r.user.id||"BUS-001",i=e.filter(e=>{var i;return(null==(i=e.location)?void 0:i.businessId)===t||e.customerEmail===r.user.email});eg(i);let n=await h.DynamoDBService.getLocationsByBusinessId(t);ex(n),eD(i,eu)}catch(e){console.error("Error loading customer orders:",e)}finally{eb(!1)}},eD=(e,t)=>{"all"===t?eh(e):eh(e.filter(e=>{var r;return(null==(r=e.location)?void 0:r.locationId)===t}))},e$=(e,t)=>{e.stopPropagation(),eI(t),e_(!0)},eM=async()=>{confirm("Are you sure you want to sign out?")&&await c({callbackUrl:"/"})};if("loading"===o||ej)return(0,i.jsx)(z,{children:(0,i.jsx)(p.p8,{isLoading:!0,message:"Loading dashboard...",children:(0,i.jsx)("div",{})})});let eS=el.length,eT=el.filter(e=>{let t=new Date;return new Date(e.createdAt).toDateString()===t.toDateString()}).length,eO=el.filter(e=>"pending"===e.status).length,eN=el.filter(e=>"delivered"===e.status||"picked_up"===e.status).length;el.filter(e=>"delivered"!==e.status&&"picked_up"!==e.status);let eL=[...el].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,5),eP=[{id:"dashboard",icon:(0,i.jsx)(m.A,{size:20}),label:"Dashboard"},{id:"orders",icon:(0,i.jsx)(x.A,{size:20}),label:"Orders"},{id:"create",icon:(0,i.jsx)(u.A,{size:20}),label:"Create Order",href:"/orders/create"},{id:"history",icon:(0,i.jsx)(f.A,{size:20}),label:"Order History"},{id:"qr",icon:(0,i.jsx)(j.A,{size:20}),label:"QR Codes",href:"/qr-tracking"},{id:"settings",icon:(0,i.jsx)(b.A,{size:20}),label:"Settings",href:"/settings"}];return(0,i.jsxs)(z,{children:[(0,i.jsx)(F,{$isOpen:ey,onClick:()=>ev(!1),children:(0,i.jsxs)(E,{onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e7e5e4"},children:(0,i.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:700,color:"#1c1917"},children:"Menu"})}),eP.map(e=>(0,i.jsxs)(V,{$active:ew===e.id,onClick:()=>{e.href?l.push(e.href):ek(e.id),ev(!1)},children:[e.icon,(0,i.jsx)("span",{children:e.label})]},e.id)),(0,i.jsx)("div",{style:{height:"1px",background:"#e7e5e4",margin:"1rem 0"}}),(0,i.jsxs)(V,{$active:!1,onClick:eM,style:{color:"#dc2626"},children:[(0,i.jsx)(y.A,{size:20}),(0,i.jsx)("span",{children:"Sign Out"})]})]})}),(0,i.jsx)(D,{children:(0,i.jsxs)($,{children:[(0,i.jsxs)(M,{children:[(0,i.jsxs)(S,{href:"/",children:[(0,i.jsx)(T,{children:"JT"}),(0,i.jsxs)(O,{children:[(0,i.jsx)("h1",{children:"TheJERKTracker"}),(0,i.jsx)("p",{children:"Customer Panel"})]})]}),(0,i.jsx)(N,{children:(0,i.jsx)(L,{children:eP.map(e=>(0,i.jsx)(P,{children:(0,i.jsxs)(W,{$active:ew===e.id,onClick:()=>{e.href?l.push(e.href):ek(e.id)},children:[e.icon,(0,i.jsx)("span",{children:e.label})]})},e.id))})})]}),(0,i.jsxs)(R,{children:[(0,i.jsx)(q,{onClick:()=>ev(!ey),children:ey?(0,i.jsx)(v.A,{size:24}):(0,i.jsx)(w.A,{size:24})}),(0,i.jsxs)(B,{onClick:eM,children:[(0,i.jsx)(y.A,{size:18}),(0,i.jsx)("span",{children:(null==r||null==(e=r.user)?void 0:e.name)||"User"})]})]})]})}),(0,i.jsxs)(H,{children:["dashboard"===ew&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y,{children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Business Dashboard"}),(0,i.jsxs)("p",{children:["Welcome back, ",(null==r||null==(t=r.user)?void 0:t.name)||"Customer","! Track orders across all your restaurant locations."]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[em.length>0&&(0,i.jsxs)("select",{value:eu,onChange:e=>{var t;ef(t=e.target.value),eD(ep,t)},style:{padding:"0.5rem 1rem",background:"white",border:"2px solid #ed7734",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500",fontSize:"0.875rem",color:"#1c1917",minWidth:"200px"},children:[(0,i.jsxs)("option",{value:"all",children:["\uD83D\uDCCA All Locations (",em.length,")"]}),em.map(e=>(0,i.jsxs)("option",{value:e.id,children:["\uD83D\uDCCD ",e.name]},e.id))]}),(0,i.jsx)("button",{onClick:ez,style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500",fontSize:"0.875rem"},children:"\uD83D\uDD04 Refresh"})]})]})}),(0,i.jsxs)(Q,{children:[(0,i.jsxs)(U,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,i.jsxs)(J,{children:[(0,i.jsx)(Z,{$color:"#f97316",children:(0,i.jsx)(x.A,{})}),(0,i.jsxs)(G,{$isPositive:!0,children:[(0,i.jsx)(k.A,{}),"+12%"]})]}),(0,i.jsx)(K,{children:eS}),(0,i.jsx)(X,{children:"Total Orders"})]}),(0,i.jsxs)(U,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,i.jsxs)(J,{children:[(0,i.jsx)(Z,{$color:"#6b7280",children:(0,i.jsx)(A.A,{})}),(0,i.jsxs)(G,{$isPositive:!0,children:[(0,i.jsx)(k.A,{}),"+8%"]})]}),(0,i.jsx)(K,{children:eT}),(0,i.jsx)(X,{children:"Today's Orders"})]}),(0,i.jsxs)(U,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,i.jsxs)(J,{children:[(0,i.jsx)(Z,{$color:"#f59e0b",children:(0,i.jsx)(A.A,{})}),(0,i.jsxs)(G,{$isPositive:!1,children:[(0,i.jsx)(_.A,{}),"-5%"]})]}),(0,i.jsx)(K,{children:eO}),(0,i.jsx)(X,{children:"Pending"})]}),(0,i.jsxs)(U,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,i.jsx)(J,{children:(0,i.jsx)(Z,{$color:"#10b981",children:(0,i.jsx)(C.A,{})})}),(0,i.jsx)(K,{children:eN}),(0,i.jsx)(X,{children:"Completed"})]})]}),(0,i.jsxs)(ee,{children:[(0,i.jsx)("h3",{children:"Recent Orders"}),eL.length>0?(0,i.jsx)(et,{children:eL.map(e=>{var t;return(0,i.jsxs)(er,{children:[(0,i.jsxs)("div",{onClick:()=>l.push("/orders/".concat(e.id)),children:[(0,i.jsxs)(ei,{children:[(0,i.jsxs)(en,{children:["Order #",e.orderNumber]}),(0,i.jsx)(eo,{$status:e.status,children:e.status})]}),(0,i.jsxs)(es,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Items:"})," ",e.orderDetails]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Date:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(null==(t=e.location)?void 0:t.locationName)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Location:"})," ",e.location.locationName]})]})]}),em.length>1&&(0,i.jsx)(ed,{children:(0,i.jsxs)(ea,{onClick:t=>e$(t,e),children:[(0,i.jsx)(I.A,{}),"Transfer Location"]})})]},e.id)})}):(0,i.jsxs)(ec,{children:[(0,i.jsx)(x.A,{}),(0,i.jsx)("h4",{children:"No orders yet"}),(0,i.jsx)("p",{children:"Place your first order!"}),(0,i.jsx)("button",{onClick:()=>l.push("/orders/create"),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)",color:"white",border:"none",borderRadius:"0.5rem",fontWeight:600,cursor:"pointer"},children:"Create Order"})]})]})]}),"orders"===ew&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)("h2",{children:"My Orders"}),(0,i.jsx)("p",{children:"View and manage all your orders"})]}),(0,i.jsx)(ee,{children:el.length>0?(0,i.jsx)(et,{children:el.map(e=>{var t;return(0,i.jsxs)(er,{children:[(0,i.jsxs)("div",{onClick:()=>l.push("/orders/".concat(e.id)),children:[(0,i.jsxs)(ei,{children:[(0,i.jsxs)(en,{children:["Order #",e.orderNumber]}),(0,i.jsx)(eo,{$status:e.status,children:e.status})]}),(0,i.jsxs)(es,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Items:"})," ",e.orderDetails]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Date:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Total:"})," $",e.totalAmount||"0.00"]}),(null==(t=e.location)?void 0:t.locationName)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Location:"})," ",e.location.locationName]})]})]}),em.length>1&&(0,i.jsx)(ed,{children:(0,i.jsxs)(ea,{onClick:t=>e$(t,e),children:[(0,i.jsx)(I.A,{}),"Transfer Location"]})})]},e.id)})}):(0,i.jsxs)(ec,{children:[(0,i.jsx)(x.A,{}),(0,i.jsx)("h4",{children:"No orders found"}),(0,i.jsx)("p",{children:"You haven't placed any orders yet."}),(0,i.jsx)("button",{onClick:()=>l.push("/orders/create"),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #ed7734 0%, #de5d20 100%)",color:"white",border:"none",borderRadius:"0.5rem",fontWeight:600,cursor:"pointer"},children:"Create Your First Order"})]})})]}),"history"===ew&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)("h2",{children:"Order History"}),(0,i.jsx)("p",{children:"View your completed orders"})]}),(0,i.jsx)(ee,{children:eN>0?(0,i.jsx)(et,{children:el.filter(e=>"delivered"===e.status||"picked_up"===e.status).map(e=>{var t;return(0,i.jsxs)(er,{children:[(0,i.jsxs)("div",{onClick:()=>l.push("/orders/".concat(e.id)),children:[(0,i.jsxs)(ei,{children:[(0,i.jsxs)(en,{children:["Order #",e.orderNumber]}),(0,i.jsx)(eo,{$status:e.status,children:e.status})]}),(0,i.jsxs)(es,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Items:"})," ",e.orderDetails]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Date:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Total:"})," $",e.totalAmount||"0.00"]}),(null==(t=e.location)?void 0:t.locationName)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Location:"})," ",e.location.locationName]})]})]}),em.length>1&&(0,i.jsx)(ed,{children:(0,i.jsxs)(ea,{onClick:t=>e$(t,e),children:[(0,i.jsx)(I.A,{}),"Transfer Location"]})})]},e.id)})}):(0,i.jsxs)(ec,{children:[(0,i.jsx)(f.A,{}),(0,i.jsx)("h4",{children:"No order history"}),(0,i.jsx)("p",{children:"Your completed orders will appear here."})]})})]})]}),eA&&eC&&(0,i.jsx)(g.A,{order:eC,locations:em,onClose:()=>{e_(!1),eI(null)},onSuccess:()=>{ez()}})]})}},15870:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20508:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},21873:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},26617:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},26921:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},26983:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},39847:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]])},40294:(e,t,r)=>{"use strict";r.d(t,{kt:()=>h,lV:()=>p,p8:()=>g});var i=r(95155);r(12115);var n=r(50625);let o=(0,n.i7)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),s=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-0"})(["animation:"," 1s linear infinite;"," ",""],o,e=>{let{$size:t}=e;switch(t){case"sm":return"width: 1rem; height: 1rem;";case"lg":return"width: 2rem; height: 2rem;";default:return"width: 1.5rem; height: 1.5rem;"}},e=>{let{$color:t,theme:r}=e;switch(t){case"white":return"color: white;";case"gray":return"color: ".concat(r.colors.secondary[600],";");default:return"color: ".concat(r.colors.primary[600],";")}}),d=n.Ay.button.withConfig({componentId:"jt-app__sc-50765fb0-1"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;&:disabled{opacity:0.5;cursor:not-allowed;}"]),a=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-2"})(["position:relative;"]),c=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-3"})(["position:absolute;inset:0;background:rgba(255,255,255,0.75);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:",";"],e=>{let{theme:t}=e;return t.borderRadius.lg}),l=n.Ay.div.withConfig({componentId:"jt-app__sc-50765fb0-4"})(["text-align:center;p{margin-top:0.5rem;font-size:",";color:",";}"],e=>{let{theme:t}=e;return t.typography.fontSize.sm},e=>{let{theme:t}=e;return t.colors.text.secondary}),h=e=>{let{size:t="md",color:r="orange",className:n=""}=e;return(0,i.jsx)(s,{$size:t,$color:r,className:n,children:(0,i.jsxs)("svg",{width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{style:{opacity:.75},fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},p=e=>{let{isLoading:t,children:r,onClick:n,type:o="button",className:s="",disabled:a=!1}=e;return(0,i.jsxs)(d,{type:o,onClick:n,disabled:t||a,className:s,children:[t&&(0,i.jsx)(h,{size:"sm",color:"white"}),(0,i.jsx)("span",{children:r})]})},g=e=>{let{isLoading:t,message:r="Loading...",children:n}=e;return(0,i.jsxs)(a,{children:[n,t&&(0,i.jsx)(c,{children:(0,i.jsxs)(l,{children:[(0,i.jsx)(h,{size:"lg"}),(0,i.jsx)("p",{children:r})]})})]})}},42529:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},46826:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},47921:(e,t,r)=>{"use strict";r.d(t,{CP:()=>l,Tk:()=>a,Z2:()=>d,cV:()=>c});var i=r(95155),n=r(58347),o=r(12115);let s=(0,o.createContext)({hasNextAuth:!0}),d=()=>(0,o.useContext)(s);function a(){try{let{hasNextAuth:e}=d();if(!e)return{data:null,status:"unauthenticated"};return(0,n.wV)()}catch(e){return{data:null,status:"loading"}}}function c(){let{hasNextAuth:e}=d();return async t=>{if(e)return(0,n.signOut)(t);localStorage.removeItem("mobile-auth-session"),localStorage.removeItem("mobile-auth-user"),window.location.href="/mobile/login"}}function l(e){let{children:t}=e,[r,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),r=await fetch("/api/auth/session",{method:"GET",headers:{Accept:"application/json"},signal:e.signal});clearTimeout(t);let i=r.headers.get("content-type");if(r.ok&&(null==i?void 0:i.includes("application/json")))try{await r.json(),d(!0)}catch(e){d(!1)}else d(!1)}catch(e){d(!1)}})()},[]),(0,i.jsx)(s.Provider,{value:{hasNextAuth:r},children:r?(0,i.jsx)(n.CP,{children:t}):(0,i.jsx)(i.Fragment,{children:t})})}},52987:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},54485:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},54690:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},56937:(e,t,r)=>{Promise.resolve().then(r.bind(r,15063))},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65993:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(71847).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},84300:(e,t,r)=>{"use strict";r.d(t,{A:()=>I});var i=r(95155),n=r(12115),o=r(50625),s=r(65229),d=r(21873),a=r(52987),c=r(39903),l=r(14606);let h=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;"]),p=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-1"})(["background:white;border-radius:1rem;padding:2rem;max-width:500px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,0.3);position:relative;"]),g=o.Ay.button.withConfig({componentId:"jt-app__sc-b140df0b-2"})(["position:absolute;top:1rem;right:1rem;background:#f5f5f4;border:none;border-radius:0.5rem;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s ease;&:hover{background:#e7e5e4;}"]),m=o.Ay.h2.withConfig({componentId:"jt-app__sc-b140df0b-3"})(["font-size:1.5rem;font-weight:700;color:#1c1917;margin:0 0 0.5rem 0;"]),x=o.Ay.p.withConfig({componentId:"jt-app__sc-b140df0b-4"})(["color:#78716c;margin:0 0 1.5rem 0;font-size:0.875rem;"]),u=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-5"})(["display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;padding:1rem;background:#fafaf9;border-radius:0.5rem;"]),f=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-6"})(["flex:1;text-align:center;"]),j=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-7"})(["font-size:0.75rem;color:#78716c;margin-bottom:0.25rem;"]),b=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-8"})(["font-weight:600;color:#1c1917;font-size:0.875rem;"]),y=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-9"})(["color:#ed7734;"]),v=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-10"})(["margin-bottom:1.5rem;"]),w=o.Ay.label.withConfig({componentId:"jt-app__sc-b140df0b-11"})(["display:block;font-size:0.875rem;font-weight:500;color:#44403c;margin-bottom:0.5rem;"]),k=o.Ay.select.withConfig({componentId:"jt-app__sc-b140df0b-12"})(["width:100%;padding:0.75rem;border:1px solid #d6d3d1;border-radius:0.5rem;font-size:0.875rem;background:white;color:#1c1917;cursor:pointer;transition:all 0.2s ease;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 2px #ed773420;}"]),A=o.Ay.textarea.withConfig({componentId:"jt-app__sc-b140df0b-13"})(["width:100%;padding:0.75rem;border:1px solid #d6d3d1;border-radius:0.5rem;font-size:0.875rem;resize:vertical;min-height:80px;font-family:inherit;transition:all 0.2s ease;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 2px #ed773420;}"]),_=o.Ay.div.withConfig({componentId:"jt-app__sc-b140df0b-14"})(["display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;"]),C=o.Ay.button.withConfig({componentId:"jt-app__sc-b140df0b-15"})(["padding:0.75rem 1rem;border:none;border-radius:0.5rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;font-size:0.875rem;"," &:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"],e=>"primary"===e.$variant?"\n    background: linear-gradient(135deg, #ed7734 0%, #de5d20 100%);\n    color: white;\n\n    &:hover:not(:disabled) {\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(237, 119, 52, 0.3);\n    }\n  ":"\n    background: #f5f5f4;\n    color: #44403c;\n\n    &:hover:not(:disabled) {\n      background: #e7e5e4;\n    }\n  ");function I(e){let{order:t,locations:r,onClose:o,onSuccess:I}=e,[z,D]=(0,n.useState)(""),[$,M]=(0,n.useState)(""),[S,T]=(0,n.useState)(!1),O=r.filter(e=>e.id!==t.location.locationId),N=r.find(e=>e.id===z),L=async()=>{if(!z)return void(0,l.Qg)("Please select a target location");T(!0);try{await c.DynamoDBService.transferOrder(t.id,z,$||void 0),(0,l.Te)("Order #".concat(t.orderNumber," transferred to ").concat(null==N?void 0:N.name)),I(),o()}catch(e){console.error("Transfer failed:",e),(0,l.Qg)("Failed to transfer order. Please try again.")}finally{T(!1)}};return(0,i.jsx)(h,{onClick:e=>e.target===e.currentTarget&&o(),children:(0,i.jsxs)(p,{children:[(0,i.jsx)(g,{onClick:o,children:(0,i.jsx)(s.A,{size:18})}),(0,i.jsx)(m,{children:"Transfer Order"}),(0,i.jsx)(x,{children:"Move this order to a different restaurant location"}),(0,i.jsxs)(u,{children:[(0,i.jsxs)(f,{children:[(0,i.jsx)(j,{children:"From"}),(0,i.jsxs)(b,{children:[(0,i.jsx)(d.A,{size:14,style:{display:"inline",marginRight:"4px"}}),t.location.locationName||t.location.locationId]})]}),(0,i.jsx)(y,{children:(0,i.jsx)(a.A,{size:20})}),(0,i.jsxs)(f,{children:[(0,i.jsx)(j,{children:"To"}),(0,i.jsx)(b,{children:N?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{size:14,style:{display:"inline",marginRight:"4px"}}),N.name]}):(0,i.jsx)("span",{style:{color:"#a8a29e"},children:"Select location"})})]})]}),(0,i.jsxs)(v,{children:[(0,i.jsx)(w,{htmlFor:"target-location",children:"Target Location *"}),(0,i.jsxs)(k,{id:"target-location",value:z,onChange:e=>D(e.target.value),disabled:S,children:[(0,i.jsx)("option",{value:"",children:"Select a location"}),O.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," - ",e.address.city,", ",e.address.state]},e.id))]})]}),(0,i.jsxs)(v,{children:[(0,i.jsx)(w,{htmlFor:"reason",children:"Reason for Transfer (Optional)"}),(0,i.jsx)(A,{id:"reason",placeholder:"e.g., Customer requested closer location, staffing issues, etc.",value:$,onChange:e=>M(e.target.value),disabled:S})]}),(0,i.jsxs)(_,{children:[(0,i.jsx)(C,{$variant:"secondary",onClick:o,disabled:S,children:"Cancel"}),(0,i.jsx)(C,{$variant:"primary",onClick:L,disabled:!z||S,children:S?"Transferring...":"Transfer Order"})]})]})})}}},e=>{e.O(0,[2207,1733,7646,8347,2619,5572,9903,8441,1255,7358],()=>e(e.s=56937)),_N_E=e.O()}]);