"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2854],{42854:(e,i,r)=>{r.d(i,{A:()=>ev});var a=r(95155),n=r(12115),t=r(50625),o=r(89559),s=r(6191),l=r(86651),d=r(6132),c=r(26983),p=r(21190),m=r(71360),g=r(65229),h=r(21786),u=r(95664),f=r(42196),x=r(42348),b=r(46046),y=r(83361);let v=null;try{v=r(71223).Camera}catch(e){console.log("Capacitor Camera not available")}let j=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-0"})(["position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:9999;padding:1rem;overflow-y:auto;"]),w=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-1"})(["background:white;border-radius:16px;padding:2rem;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px rgba(0,0,0,0.1);@media (max-width:768px){padding:1.5rem;max-height:95vh;}"]),C=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-2"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;h2{font-size:1.5rem;font-weight:700;color:#1c1917;margin:0;}"]),k=t.Ay.button.withConfig({componentId:"jt-app__sc-5b9026de-3"})(["background:none;border:none;padding:0.5rem;cursor:pointer;color:#78716c;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all 0.2s;&:hover{background:#f5f5f4;color:#1c1917;}"]),_=t.Ay.form.withConfig({componentId:"jt-app__sc-5b9026de-4"})(["display:flex;flex-direction:column;gap:1.25rem;"]),A=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-5"})(["display:flex;flex-direction:column;gap:0.5rem;"]),I=t.Ay.label.withConfig({componentId:"jt-app__sc-5b9026de-6"})(["font-size:0.875rem;font-weight:600;color:#44403c;"]),z=t.Ay.input.withConfig({componentId:"jt-app__sc-5b9026de-7"})(["padding:0.75rem 1rem;border:1px solid #e7e5e4;border-radius:8px;font-size:1rem;transition:all 0.2s;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}&:disabled{background:#f5f5f4;cursor:not-allowed;}"]),T=t.Ay.textarea.withConfig({componentId:"jt-app__sc-5b9026de-8"})(["padding:0.75rem 1rem;border:1px solid #e7e5e4;border-radius:8px;font-size:1rem;resize:vertical;min-height:100px;font-family:inherit;transition:all 0.2s;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),D=t.Ay.select.withConfig({componentId:"jt-app__sc-5b9026de-9"})(["padding:0.75rem 1rem;border:1px solid #e7e5e4;border-radius:8px;font-size:1rem;background:white;cursor:pointer;transition:all 0.2s;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),F=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-10"})(['display:flex;align-items:center;gap:0.5rem;input[type="checkbox"]{width:1.25rem;height:1.25rem;cursor:pointer;accent-color:#ed7734;}label{margin:0;cursor:pointer;font-weight:400;}']),S=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-11"})(["display:flex;flex-wrap:wrap;gap:0.5rem;padding:0.75rem 1rem;border:1px solid #e7e5e4;border-radius:8px;min-height:46px;&:focus-within{border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),P=t.Ay.span.withConfig({componentId:"jt-app__sc-5b9026de-12"})(["display:flex;align-items:center;gap:0.25rem;padding:0.25rem 0.75rem;background:#fef7ee;border:1px solid #fed7aa;border-radius:6px;font-size:0.875rem;color:#9a3412;button{background:none;border:none;padding:0;cursor:pointer;color:#9a3412;display:flex;align-items:center;&:hover{color:#7c2d12;}}"]),$=t.Ay.input.withConfig({componentId:"jt-app__sc-5b9026de-13"})(["flex:1;border:none;outline:none;font-size:1rem;min-width:120px;"]),L=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-14"})(["display:flex;gap:1rem;margin-top:1rem;@media (max-width:480px){flex-direction:column;}"]),E=t.Ay.button.withConfig({componentId:"jt-app__sc-5b9026de-15"})(["flex:1;display:flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.875rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s;border:none;"," &:disabled{opacity:0.5;cursor:not-allowed;}"],e=>"primary"===e.$variant?"\n    background: #ed7734;\n    color: white;\n    \n    &:hover:not(:disabled) {\n      background: #dc6627;\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(237, 119, 52, 0.3);\n    }\n  ":"\n    background: white;\n    color: #78716c;\n    border: 1px solid #e7e5e4;\n    \n    &:hover:not(:disabled) {\n      background: #f5f5f4;\n    }\n  "),M=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-16"})(["padding:0.75rem 1rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#991b1b;font-size:0.875rem;"]),N=t.Ay.p.withConfig({componentId:"jt-app__sc-5b9026de-17"})(["font-size:0.75rem;color:#a8a29e;margin:0;"]),U=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-18"})(["border:2px dashed #d6d3d1;border-radius:12px;padding:1.5rem;text-align:center;cursor:pointer;transition:all 0.2s;background:#fafaf9;&:hover{border-color:#ed7734;background:#fef7ee;}&:active{transform:scale(0.98);}"]),J=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-19"})(["position:relative;margin-top:1rem;border-radius:12px;overflow:hidden;border:2px solid #e7e5e4;"]),B=t.Ay.img.withConfig({componentId:"jt-app__sc-5b9026de-20"})(["width:100%;max-height:200px;object-fit:cover;display:block;"]),G=t.Ay.button.withConfig({componentId:"jt-app__sc-5b9026de-21"})(["position:absolute;top:0.5rem;right:0.5rem;background:rgba(0,0,0,0.7);color:white;border:none;border-radius:8px;padding:0.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s;&:hover{background:rgba(0,0,0,0.9);}&:active{transform:scale(0.95);}"]),O=t.Ay.input.withConfig({componentId:"jt-app__sc-5b9026de-22"})(["display:none;"]),R=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-23"})(["width:48px;height:48px;margin:0 auto 0.75rem;background:linear-gradient(135deg,#fef7ee 0%,#fed7aa 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#ed7734;"]),q=t.Ay.p.withConfig({componentId:"jt-app__sc-5b9026de-24"})(["margin:0 0 0.5rem;color:#44403c;font-weight:500;"]),W=t.Ay.p.withConfig({componentId:"jt-app__sc-5b9026de-25"})(["margin:0;font-size:0.75rem;color:#a8a29e;"]),Y=t.Ay.div.withConfig({componentId:"jt-app__sc-5b9026de-26"})(["display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;margin-top:0.75rem;@media (max-width:480px){grid-template-columns:1fr;}"]),H=t.Ay.button.withConfig({componentId:"jt-app__sc-5b9026de-27"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.75rem 1rem;border:2px solid #e7e5e4;border-radius:8px;background:white;color:#44403c;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s;&:hover{border-color:#ed7734;color:#ed7734;background:#fef7ee;}&:active{transform:scale(0.98);}"]),V=e=>{var i,t;let{menuItem:o,businessId:s,onSave:l,onCancel:d}=e,[c,p]=(0,n.useState)({businessId:s,name:"",description:"",price:0,category:"mains",customCategory:"",image:"",popular:!1,spiceLevel:"none",allergens:[],preparationTime:void 0,dietary:[],availability:{isAvailable:!0,availableDays:[],availableTimeSlots:[]},...o}),[m,V]=(0,n.useState)(""),[K,Q]=(0,n.useState)(!1),[X,Z]=(0,n.useState)(""),[ee,ei]=(0,n.useState)((null==o?void 0:o.image)||null),er=(0,n.useRef)(null),ea=e=>{let{name:i,value:r,type:a}=e.target;if("checkbox"===a){let r=e.target.checked;p(e=>({...e,[i]:r}))}else"number"===a?p(e=>({...e,[i]:parseFloat(r)||0})):p(e=>({...e,[i]:r}))},en=()=>{var e;null==(e=er.current)||e.click()},et=async()=>{if(!v)return void en();try{let{Camera:e}=await Promise.resolve().then(r.bind(r,71223)),{CameraResultType:i,CameraSource:a}=await Promise.resolve().then(r.bind(r,71223)),n=await e.getPhoto({quality:90,allowEditing:!0,resultType:i.DataUrl,source:a.Camera});n.dataUrl&&(ei(n.dataUrl),p(e=>({...e,image:n.dataUrl||""})),Z(""))}catch(e){console.error("Camera error:",e),"User cancelled photos app"!==e.message&&Z("Failed to capture photo. Please try uploading from gallery.")}},eo=async()=>{if(!v)return void en();try{let{Camera:e}=await Promise.resolve().then(r.bind(r,71223)),{CameraResultType:i,CameraSource:a}=await Promise.resolve().then(r.bind(r,71223)),n=await e.getPhoto({quality:90,allowEditing:!0,resultType:i.DataUrl,source:a.Photos});n.dataUrl&&(ei(n.dataUrl),p(e=>({...e,image:n.dataUrl||""})),Z(""))}catch(e){console.error("Gallery error:",e),"User cancelled photos app"!==e.message&&Z("Failed to select photo from gallery.")}},es=async e=>{var i,r;if(e.preventDefault(),!(null==(i=c.name)?void 0:i.trim()))return void Z("Please enter an item name");if(!c.price||c.price<=0)return void Z("Please enter a valid price");if(!(null==(r=c.description)?void 0:r.trim()))return void Z("Please enter a description");Q(!0),Z("");try{await l(c)}catch(e){Z(e instanceof Error?e.message:"Failed to save menu item"),Q(!1)}};return(0,a.jsx)(j,{onClick:d,children:(0,a.jsxs)(w,{onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)(C,{children:[(0,a.jsx)("h2",{children:(null==o?void 0:o.id)?"Edit Menu Item":"Create Menu Item"}),(0,a.jsx)(k,{onClick:d,type:"button",children:(0,a.jsx)(g.A,{size:20})})]}),(0,a.jsxs)(_,{onSubmit:es,children:[X&&(0,a.jsx)(M,{children:X}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"name",children:"Item Name *"}),(0,a.jsx)(z,{id:"name",name:"name",type:"text",value:c.name,onChange:ea,placeholder:"e.g., Jerk Chicken Combo",required:!0})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"description",children:"Description *"}),(0,a.jsx)(T,{id:"description",name:"description",value:c.description,onChange:ea,placeholder:"Describe your menu item...",required:!0})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"price",children:"Price * ($)"}),(0,a.jsx)(z,{id:"price",name:"price",type:"number",step:"0.01",min:"0",value:c.price,onChange:ea,placeholder:"0.00",required:!0})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"category",children:"Category *"}),(0,a.jsxs)(D,{id:"category",name:"category",value:c.category,onChange:ea,required:!0,children:[y.Oz.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)),(0,a.jsx)("option",{value:"custom",children:"Custom Category"})]})]}),"custom"===c.category&&(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"customCategory",children:"Custom Category Name"}),(0,a.jsx)(z,{id:"customCategory",name:"customCategory",type:"text",value:c.customCategory,onChange:ea,placeholder:"e.g., Specials, Combos"})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"spiceLevel",children:"Spice Level"}),(0,a.jsxs)(D,{id:"spiceLevel",name:"spiceLevel",value:c.spiceLevel,onChange:ea,children:[(0,a.jsx)("option",{value:"none",children:"None"}),(0,a.jsx)("option",{value:"mild",children:"\uD83C\uDF36️ Mild"}),(0,a.jsx)("option",{value:"medium",children:"\uD83C\uDF36️\uD83C\uDF36️ Medium"}),(0,a.jsx)("option",{value:"hot",children:"\uD83C\uDF36️\uD83C\uDF36️\uD83C\uDF36️ Hot"}),(0,a.jsx)("option",{value:"extra-hot",children:"\uD83C\uDF36️\uD83C\uDF36️\uD83C\uDF36️\uD83C\uDF36️ Extra Hot"})]})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{htmlFor:"preparationTime",children:"Preparation Time (minutes)"}),(0,a.jsx)(z,{id:"preparationTime",name:"preparationTime",type:"number",min:"0",value:c.preparationTime||"",onChange:ea,placeholder:"e.g., 15"})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{children:"Item Photo"}),(0,a.jsx)(O,{ref:er,type:"file",accept:"image/*",capture:"environment",onChange:e=>{var i;let r=null==(i=e.target.files)?void 0:i[0];if(!r)return;if(!r.type.startsWith("image/"))return void Z("Please upload an image file (PNG, JPG, JPEG, etc.)");if(r.size>5242880)return void Z("Image must be less than 5MB");let a=new FileReader;a.onload=e=>{var i;let r=null==(i=e.target)?void 0:i.result;ei(r),p(e=>({...e,image:r})),Z("")},a.onerror=()=>{Z("Failed to read image file")},a.readAsDataURL(r)}}),ee?(0,a.jsxs)(J,{children:[(0,a.jsx)(B,{src:ee,alt:"Menu item preview"}),(0,a.jsx)(G,{onClick:()=>{ei(null),p(e=>({...e,image:""})),er.current&&(er.current.value="")},type:"button",children:(0,a.jsx)(g.A,{size:20})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(U,{onClick:en,children:[(0,a.jsx)(R,{children:(0,a.jsx)(h.A,{size:24})}),(0,a.jsx)(q,{children:"Tap to Upload Photo"}),(0,a.jsx)(W,{children:"PNG, JPG, JPEG up to 5MB"})]}),v&&(0,a.jsxs)(Y,{children:[(0,a.jsxs)(H,{type:"button",onClick:et,children:[(0,a.jsx)(u.A,{size:18}),"Take Photo"]}),(0,a.jsxs)(H,{type:"button",onClick:eo,children:[(0,a.jsx)(f.A,{size:18}),"Choose from Gallery"]})]})]}),(0,a.jsx)(N,{children:"Upload a photo of your menu item"})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{children:"Allergens"}),(0,a.jsxs)(S,{children:[null==(i=c.allergens)?void 0:i.map(e=>(0,a.jsxs)(P,{children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>{p(i=>{var r;return{...i,allergens:null==(r=i.allergens)?void 0:r.filter(i=>i!==e)}})},children:(0,a.jsx)(g.A,{size:14})})]},e)),(0,a.jsx)($,{type:"text",value:m,onChange:e=>V(e.target.value),onKeyDown:e=>{if("Enter"===e.key||","===e.key){var i;e.preventDefault();let r=m.trim();!r||(null==(i=c.allergens)?void 0:i.includes(r))||(p(e=>({...e,allergens:[...e.allergens||[],r]})),V(""))}},placeholder:"Type and press Enter"})]}),(0,a.jsx)(N,{children:"Press Enter or comma after each allergen"})]}),(0,a.jsxs)(A,{children:[(0,a.jsx)(I,{children:"Dietary Options"}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:["vegetarian","vegan","gluten-free","dairy-free","halal","kosher"].map(e=>{var i;return(0,a.jsxs)(F,{children:[(0,a.jsx)("input",{type:"checkbox",id:e,checked:null==(i=c.dietary)?void 0:i.includes(e),onChange:()=>(e=>{p(i=>{let r=i.dietary||[],a=r.includes(e)?r.filter(i=>i!==e):[...r,e];return{...i,dietary:a}})})(e)}),(0,a.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")})]},e)})})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)("input",{type:"checkbox",id:"popular",name:"popular",checked:c.popular,onChange:ea}),(0,a.jsx)("label",{htmlFor:"popular",children:"Mark as Popular Item"})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)("input",{type:"checkbox",id:"isAvailable",checked:null==(t=c.availability)?void 0:t.isAvailable,onChange:e=>p(i=>({...i,availability:{...i.availability,isAvailable:e.target.checked}}))}),(0,a.jsx)("label",{htmlFor:"isAvailable",children:"Item is Currently Available"})]}),(0,a.jsxs)(L,{children:[(0,a.jsx)(E,{type:"button",$variant:"secondary",onClick:d,disabled:K,children:"Cancel"}),(0,a.jsx)(E,{type:"submit",$variant:"primary",disabled:K,children:K?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{size:20,className:"animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{size:20}),(null==o?void 0:o.id)?"Update Item":"Create Item"]})})]})]})]})})};var K=r(39903);let Q=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),X=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-1"})(["display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;flex-wrap:wrap;@media (max-width:768px){flex-direction:column;}"]),Z=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-2"})(["h2{font-size:1.75rem;font-weight:700;color:#1c1917;margin:0 0 0.5rem 0;}p{color:#78716c;margin:0;}"]),ee=t.Ay.button.withConfig({componentId:"jt-app__sc-aed9559c-3"})(["display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1.25rem;border-radius:8px;font-size:0.875rem;font-weight:600;cursor:pointer;transition:all 0.2s;border:none;white-space:nowrap;"," &:disabled{opacity:0.5;cursor:not-allowed;}"],e=>"danger"===e.$variant?"\n        background: #dc2626;\n        color: white;\n        \n        &:hover:not(:disabled) {\n          background: #b91c1c;\n        }\n      ":"secondary"===e.$variant?"\n        background: white;\n        color: #78716c;\n        border: 1px solid #e7e5e4;\n        \n        &:hover:not(:disabled) {\n          background: #f5f5f4;\n        }\n      ":"\n        background: #ed7734;\n        color: white;\n        \n        &:hover:not(:disabled) {\n          background: #dc6627;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(237, 119, 52, 0.3);\n        }\n      "),ei=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-4"})(["display:flex;gap:1rem;flex-wrap:wrap;align-items:center;@media (max-width:768px){flex-direction:column;align-items:stretch;}"]),er=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-5"})(["position:relative;flex:1;min-width:250px;svg{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#a8a29e;}input{width:100%;padding:0.75rem 1rem 0.75rem 2.75rem;border:1px solid #e7e5e4;border-radius:8px;font-size:0.875rem;transition:all 0.2s;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}}"]),ea=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-6"})(["display:flex;gap:0.5rem;flex-wrap:wrap;"]),en=t.Ay.button.withConfig({componentId:"jt-app__sc-aed9559c-7"})(["padding:0.5rem 1rem;border-radius:20px;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s;border:1px solid ",";background:",";color:",";&:hover{border-color:#ed7734;background:#fef7ee;color:#9a3412;}"],e=>e.$active?"#ed7734":"#e7e5e4",e=>e.$active?"#fef7ee":"white",e=>e.$active?"#9a3412":"#78716c"),et=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-8"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;"]),eo=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-9"})(["background:white;padding:1.25rem;border-radius:12px;border:1px solid #e7e5e4;.label{font-size:0.875rem;color:#78716c;margin-bottom:0.5rem;}.value{font-size:2rem;font-weight:700;color:#1c1917;}"]),es=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-10"})(["background:white;border-radius:12px;padding:1.5rem;border:1px solid #e7e5e4;h3{font-size:1.25rem;font-weight:700;color:#1c1917;margin:0 0 1rem 0;display:flex;align-items:center;gap:0.5rem;}"]),el=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-11"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;@media (max-width:768px){grid-template-columns:1fr;}"]),ed=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-12"})(["background:",";border:1px solid #e7e5e4;border-radius:12px;padding:1.25rem;transition:all 0.2s;opacity:",";&:hover{box-shadow:0 4px 12px rgba(0,0,0,0.08);border-color:#d6d3d1;}"],e=>e.$unavailable?"#fafaf9":"white",e=>e.$unavailable?.6:1),ec=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-13"})(["display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;gap:0.5rem;"]),ep=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-14"})(["flex:1;h4{font-size:1rem;font-weight:600;color:#1c1917;margin:0 0 0.25rem 0;}"]),em=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-15"})(["font-size:1.125rem;font-weight:700;color:#ed7734;white-space:nowrap;"]),eg=t.Ay.p.withConfig({componentId:"jt-app__sc-aed9559c-16"})(["font-size:0.875rem;color:#78716c;line-height:1.5;margin:0 0 0.75rem 0;"]),eh=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-17"})(["display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.75rem;"]),eu=t.Ay.span.withConfig({componentId:"jt-app__sc-aed9559c-18"})(["display:inline-flex;align-items:center;gap:0.25rem;padding:0.25rem 0.625rem;border-radius:6px;font-size:0.75rem;font-weight:500;background:",";border:1px solid ",";color:",";"],e=>"orange"===e.$color?"#fef7ee":"#f5f5f4",e=>"orange"===e.$color?"#fed7aa":"#e7e5e4",e=>"orange"===e.$color?"#9a3412":"#57534e"),ef=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-19"})(["display:flex;gap:0.5rem;padding-top:0.75rem;border-top:1px solid #f5f5f4;"]),ex=t.Ay.button.withConfig({componentId:"jt-app__sc-aed9559c-20"})(["flex:1;display:flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.625rem;border-radius:6px;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s;border:1px solid #e7e5e4;background:white;color:",";&:hover{background:",";border-color:",";}"],e=>"delete"===e.$variant?"#dc2626":"#44403c",e=>"delete"===e.$variant?"#fef2f2":"#f5f5f4",e=>"delete"===e.$variant?"#fecaca":"#d6d3d1"),eb=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-21"})(["text-align:center;padding:3rem 1rem;color:#78716c;svg{margin:0 auto 1rem;color:#d6d3d1;}h3{font-size:1.125rem;font-weight:600;color:#44403c;margin:0 0 0.5rem 0;}p{margin:0;}"]),ey=t.Ay.div.withConfig({componentId:"jt-app__sc-aed9559c-22"})(["display:flex;align-items:center;justify-content:center;padding:3rem;color:#78716c;gap:0.75rem;svg{animation:spin 1s linear infinite;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),ev=e=>{let{businessId:i,showPresetItems:r=!0}=e,[t,g]=(0,n.useState)([]),[h,u]=(0,n.useState)([]),[f,x]=(0,n.useState)(!0),[b,v]=(0,n.useState)(""),[j,w]=(0,n.useState)("all"),[C,k]=(0,n.useState)(!1),[_,A]=(0,n.useState)(),I=(0,n.useCallback)(async()=>{x(!0);try{let e=await K.DynamoDBService.getMenuItems(i),a=(0,y.J4)(e,r);g(a),u(a)}catch(e){console.error("Error loading menu items:",e)}finally{x(!1)}},[i,r]);(0,n.useEffect)(()=>{I()},[I]),(0,n.useEffect)(()=>{let e=t;"all"!==j&&(e=(0,y.$Y)(e,j)),b.trim()&&(e=(0,y.s5)(e,b)),u(e)},[b,j,t]);let z=async e=>{try{(null==_?void 0:_.id)?await K.DynamoDBService.updateMenuItem(_.id,e):await K.DynamoDBService.createMenuItem(e),k(!1),A(void 0),await I()}catch(e){throw console.error("Error saving menu item:",e),e}},T=async e=>{if(confirm("Are you sure you want to delete this menu item? This action cannot be undone."))try{await K.DynamoDBService.deleteMenuItem(e),await I()}catch(e){console.error("Error deleting menu item:",e),alert("Failed to delete menu item. Please try again.")}},D=()=>{A(void 0),k(!0)},F=t.length,S=t.filter(e=>{var i;return(null==(i=e.availability)?void 0:i.isAvailable)!==!1}).length,P=t.filter(e=>e.popular).length,$={},L=[...y.Oz,{id:"custom",name:"Custom Categories",icon:"\uD83D\uDCCB"}];return h.forEach(e=>{let i="custom"===e.category?e.customCategory||"custom":e.category;$[i]||($[i]=[]),$[i].push(e)}),(0,a.jsxs)(Q,{children:[(0,a.jsxs)(X,{children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)("h2",{children:"Menu Management"}),(0,a.jsx)("p",{children:"Create and manage your menu items for all locations"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,a.jsxs)(ee,{$variant:"secondary",onClick:I,disabled:f,children:[(0,a.jsx)(o.A,{size:18}),"Refresh"]}),(0,a.jsxs)(ee,{$variant:"primary",onClick:D,children:[(0,a.jsx)(s.A,{size:18}),"Add Menu Item"]})]})]}),(0,a.jsxs)(et,{children:[(0,a.jsxs)(eo,{children:[(0,a.jsx)("div",{className:"label",children:"Total Items"}),(0,a.jsx)("div",{className:"value",children:F})]}),(0,a.jsxs)(eo,{children:[(0,a.jsx)("div",{className:"label",children:"Available"}),(0,a.jsx)("div",{className:"value",children:S})]}),(0,a.jsxs)(eo,{children:[(0,a.jsx)("div",{className:"label",children:"Popular Items"}),(0,a.jsx)("div",{className:"value",children:P})]})]}),(0,a.jsxs)(ei,{children:[(0,a.jsxs)(er,{children:[(0,a.jsx)(l.A,{size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search menu items...",value:b,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)(ea,{children:[(0,a.jsx)(en,{$active:"all"===j,onClick:()=>w("all"),children:"All Items"}),y.Oz.map(e=>(0,a.jsxs)(en,{$active:j===e.id,onClick:()=>w(e.id),children:[e.icon," ",e.name]},e.id))]})]}),f?(0,a.jsxs)(ey,{children:[(0,a.jsx)(o.A,{size:24}),(0,a.jsx)("span",{children:"Loading menu items..."})]}):0===h.length?(0,a.jsxs)(eb,{children:[(0,a.jsx)(d.A,{size:48}),(0,a.jsx)("h3",{children:"No menu items found"}),(0,a.jsx)("p",{children:b||"all"!==j?"Try adjusting your filters or search query":"Get started by creating your first menu item"}),!b&&"all"===j&&(0,a.jsxs)(ee,{$variant:"primary",onClick:D,style:{marginTop:"1rem"},children:[(0,a.jsx)(s.A,{size:18}),"Create First Item"]})]}):Object.entries($).map(e=>{let[i,r]=e,n=L.find(e=>e.id===i)||{id:i,name:i,icon:"\uD83D\uDCCB"};return(0,a.jsxs)(es,{children:[(0,a.jsxs)("h3",{children:[(0,a.jsx)("span",{children:n.icon}),(0,a.jsx)("span",{children:n.name}),(0,a.jsxs)("span",{style:{fontSize:"0.875rem",fontWeight:400,color:"#78716c"},children:["(",r.length,")"]})]}),(0,a.jsx)(el,{children:r.map(e=>{var i,r,n;return(0,a.jsxs)(ed,{$unavailable:(null==(i=e.availability)?void 0:i.isAvailable)===!1,children:[(0,a.jsxs)(ec,{children:[(0,a.jsx)(ep,{children:(0,a.jsx)("h4",{children:e.name})}),(0,a.jsx)(em,{children:(0,y.$g)(e.price)})]}),(0,a.jsx)(eg,{children:e.description}),(0,a.jsxs)(eh,{children:[e.popular&&(0,a.jsx)(eu,{$color:"orange",children:"⭐ Popular"}),e.spiceLevel&&"none"!==e.spiceLevel&&(0,a.jsxs)(eu,{children:[(0,y.z_)(e.spiceLevel)," ",e.spiceLevel]}),e.preparationTime&&(0,a.jsxs)(eu,{children:[(0,a.jsx)(c.A,{size:12}),e.preparationTime,"m"]}),null==(r=e.dietary)?void 0:r.map(e=>(0,a.jsx)(eu,{children:e},e)),(null==(n=e.availability)?void 0:n.isAvailable)===!1&&(0,a.jsx)(eu,{$color:"orange",children:"Unavailable"})]}),e.allergens&&e.allergens.length>0&&(0,a.jsxs)("div",{style:{fontSize:"0.75rem",color:"#a8a29e",marginBottom:"0.75rem"},children:["Allergens: ",e.allergens.join(", ")]}),(0,a.jsxs)(ef,{children:[(0,a.jsxs)(ex,{$variant:"edit",onClick:()=>{A(e),k(!0)},children:[(0,a.jsx)(p.A,{size:16}),"Edit"]}),!e.id.startsWith("jerk-")&&!e.id.startsWith("curry-")&&(0,a.jsxs)(ex,{$variant:"delete",onClick:()=>T(e.id),children:[(0,a.jsx)(m.A,{size:16}),"Delete"]})]})]},e.id)})})]},i)}),C&&(0,a.jsx)(V,{menuItem:_,businessId:i,onSave:z,onCancel:()=>{k(!1),A(void 0)}})]})}},83361:(e,i,r)=>{r.d(i,{$Y:()=>o,$g:()=>d,IT:()=>n,J4:()=>t,N:()=>s,Oz:()=>a,s5:()=>l,z_:()=>c});let a=[{id:"mains",name:"Main Dishes",description:"Our signature jerk dishes and hearty mains",icon:"\uD83C\uDF56"},{id:"sides",name:"Sides",description:"Perfect accompaniments to your meal",icon:"\uD83C\uDF5A"},{id:"appetizers",name:"Appetizers",description:"Start your meal right",icon:"\uD83E\uDD58"},{id:"beverages",name:"Beverages",description:"Refresh yourself with our drinks",icon:"\uD83E\uDD64"},{id:"desserts",name:"Desserts",description:"Sweet endings to your meal",icon:"\uD83C\uDF70"}],n=[{id:"jerk-chicken-combo",name:"Jerk Chicken Combo",description:"Our signature jerk chicken with rice & peas, coleslaw, and plantains",price:16.99,category:"mains",popular:!0,spiceLevel:"medium",preparationTime:15,allergens:["soy"]},{id:"curry-goat",name:"Curry Goat",description:"Tender goat meat slow-cooked in aromatic curry spices, served with rice",price:19.99,category:"mains",popular:!0,spiceLevel:"mild",preparationTime:20,allergens:[]},{id:"ackee-saltfish",name:"Ackee & Saltfish",description:"Jamaica's national dish with boiled green bananas and dumplings",price:17.99,category:"mains",spiceLevel:"mild",preparationTime:12,allergens:["fish"]},{id:"jerk-pork",name:"Jerk Pork",description:"Spicy marinated pork shoulder, grilled to perfection",price:18.99,category:"mains",spiceLevel:"hot",preparationTime:18,allergens:["soy"]},{id:"brown-stew-chicken",name:"Brown Stew Chicken",description:"Chicken pieces braised in rich brown sauce with vegetables",price:15.99,category:"mains",spiceLevel:"mild",preparationTime:16,allergens:[]},{id:"escovitch-fish",name:"Escovitch Fish",description:"Fried snapper topped with spicy pickled vegetables",price:21.99,category:"mains",spiceLevel:"medium",preparationTime:14,allergens:["fish"]},{id:"oxtail-stew",name:"Oxtail Stew",description:"Fall-off-the-bone oxtail braised with butter beans",price:23.99,category:"mains",popular:!0,spiceLevel:"mild",preparationTime:25,allergens:[]},{id:"rice-peas",name:"Rice & Peas",description:"Coconut rice cooked with kidney beans and spices",price:4.99,category:"sides",popular:!0,preparationTime:5,allergens:[]},{id:"plantains",name:"Sweet Plantains",description:"Caramelized ripe plantains",price:3.99,category:"sides",preparationTime:8,allergens:[]},{id:"festival",name:"Festival",description:"Sweet fried dumplings, crispy outside and soft inside",price:2.99,category:"sides",preparationTime:6,allergens:["gluten"]},{id:"coleslaw",name:"Coleslaw",description:"Fresh cabbage and carrot salad with tangy dressing",price:3.49,category:"sides",preparationTime:2,allergens:["dairy"]},{id:"mac-cheese",name:"Mac & Cheese",description:"Creamy baked macaroni and cheese",price:5.99,category:"sides",preparationTime:4,allergens:["dairy","gluten"]},{id:"steamed-vegetables",name:"Steamed Vegetables",description:"Fresh seasonal vegetables lightly steamed",price:4.49,category:"sides",preparationTime:6,allergens:[]},{id:"jamaican-patties",name:"Jamaican Beef Patties",description:"Flaky pastry filled with spiced ground beef (2 pieces)",price:6.99,category:"appetizers",popular:!0,spiceLevel:"medium",preparationTime:8,allergens:["gluten"]},{id:"chicken-patties",name:"Jamaican Chicken Patties",description:"Flaky pastry filled with seasoned chicken (2 pieces)",price:6.99,category:"appetizers",spiceLevel:"mild",preparationTime:8,allergens:["gluten"]},{id:"saltfish-fritters",name:"Saltfish Fritters",description:"Crispy fried fritters with saltfish and scotch bonnet (6 pieces)",price:8.99,category:"appetizers",spiceLevel:"medium",preparationTime:10,allergens:["fish","gluten"]},{id:"sorrel-drink",name:"Sorrel Drink",description:"Traditional hibiscus drink with ginger and spices",price:3.99,category:"beverages",popular:!0,preparationTime:2,allergens:[]},{id:"ginger-beer",name:"Jamaican Ginger Beer",description:"Spicy homemade ginger beer",price:3.49,category:"beverages",spiceLevel:"medium",preparationTime:2,allergens:[]},{id:"coconut-water",name:"Fresh Coconut Water",description:"Pure coconut water from young coconuts",price:4.99,category:"beverages",preparationTime:3,allergens:[]},{id:"rum-punch",name:"Virgin Rum Punch",description:"Non-alcoholic tropical fruit punch",price:4.49,category:"beverages",preparationTime:3,allergens:[]},{id:"rum-cake",name:"Jamaican Rum Cake",description:"Moist cake soaked in rum syrup (alcohol-free version available)",price:6.99,category:"desserts",popular:!0,preparationTime:3,allergens:["gluten","dairy","eggs"]},{id:"coconut-drops",name:"Coconut Drops",description:"Sweet coconut candy with ginger (4 pieces)",price:4.99,category:"desserts",preparationTime:2,allergens:[]},{id:"plantain-tart",name:"Plantain Tart",description:"Sweet plantain custard tart",price:5.99,category:"desserts",preparationTime:4,allergens:["gluten","dairy","eggs"]}],t=function(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!i)return e;let r=[...e],a=new Set(e.map(e=>e.id));return n.forEach(e=>{a.has(e.id)||r.push(e)}),r},o=(e,i)=>e.filter(e=>e.category===i),s=e=>e.filter(e=>e.popular),l=(e,i)=>{let r=i.toLowerCase();return e.filter(e=>{var i;return e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||(null==(i=e.allergens)?void 0:i.some(e=>e.toLowerCase().includes(r)))})},d=e=>"$".concat(e.toFixed(2)),c=e=>{switch(e){case"mild":return"\uD83C\uDF36️";case"medium":return"\uD83C\uDF36️\uD83C\uDF36️";case"hot":return"\uD83C\uDF36️\uD83C\uDF36️\uD83C\uDF36️";case"extra-hot":return"\uD83C\uDF36️\uD83C\uDF36️\uD83C\uDF36️\uD83D\uDD25";default:return""}}}}]);