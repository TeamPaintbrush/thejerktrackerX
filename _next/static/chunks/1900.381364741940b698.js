"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1900],{17910:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},20508:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},23664:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},41900:(e,r,a)=>{a.r(r),a.d(r,{default:()=>M});var o=a(95155),s=a(12115),i=a(50625),n=a(1733),d=a(20063),t=a(20508),l=a(23664),c=a(69141),p=a(17910),m=a(70532),h=a(57828),x=a(65229),j=a(46046);let u=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-0"})(["padding:0.5rem;min-height:100vh;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);"]),w=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-1"})(["margin-top:0.5rem;margin-bottom:2rem;text-align:center;"]),y=i.Ay.h1.withConfig({componentId:"jt-app__sc-592dde58-2"})(["font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 0.5rem 0;"]),f=i.Ay.p.withConfig({componentId:"jt-app__sc-592dde58-3"})(["font-size:1rem;color:#6b7280;margin:0;"]),g=(0,i.Ay)(n.P.form).withConfig({componentId:"jt-app__sc-592dde58-4"})(["background:white;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px rgba(0,0,0,0.1);border:1px solid rgba(237,119,52,0.1);"]),b=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-5"})(["margin-bottom:1.5rem;"]),A=i.Ay.label.withConfig({componentId:"jt-app__sc-592dde58-6"})(["display:block;font-size:0.875rem;font-weight:600;color:#374151;margin-bottom:0.5rem;"]),v=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-7"})(["position:relative;"]),k=i.Ay.input.withConfig({componentId:"jt-app__sc-592dde58-8"})(["width:100%;padding:0.75rem 1rem 0.75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:0.875rem;background:white;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),C=i.Ay.select.withConfig({componentId:"jt-app__sc-592dde58-9"})(["width:100%;padding:0.75rem 1rem 0.75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:0.875rem;background:white;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),_=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-10"})(["position:absolute;left:0.75rem;top:50%;transform:translateY(-50%);color:#6b7280;"]),z=i.Ay.button.withConfig({componentId:"jt-app__sc-592dde58-11"})(["position:absolute;right:0.75rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#6b7280;cursor:pointer;padding:0.25rem;&:hover{color:#ed7734;}"]),P=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-12"})(["display:flex;gap:0.75rem;margin-top:2rem;"]),I=(0,i.Ay)(n.P.button).withConfig({componentId:"jt-app__sc-592dde58-13"})(["flex:1;padding:0.75rem 1rem;border:1px solid ",";background:",";color:",";border-radius:8px;font-size:0.875rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.5rem;"],e=>"primary"===e.variant?"#ed7734":"#d1d5db",e=>"primary"===e.variant?"#ed7734":"white",e=>"primary"===e.variant?"white":"#6b7280"),E=i.Ay.div.withConfig({componentId:"jt-app__sc-592dde58-14"})(["color:#dc2626;font-size:0.75rem;margin-top:0.25rem;"]);function M(e){let{className:r}=e,a=(0,d.useRouter)(),[i,n]=(0,s.useState)(!1),[M,F]=(0,s.useState)(!1),[S,N]=(0,s.useState)({}),[q,T]=(0,s.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"customer"}),H=e=>{let{name:r,value:a}=e.target;T(e=>({...e,[r]:a})),S[r]&&N(e=>({...e,[r]:""}))},O=async e=>{if(e.preventDefault(),(()=>{let e={};return q.name.trim()||(e.name="Name is required"),q.email.trim()?/\S+@\S+\.\S+/.test(q.email)||(e.email="Email is invalid"):e.email="Email is required",q.phone.trim()||(e.phone="Phone is required"),q.password?q.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",q.password!==q.confirmPassword&&(e.confirmPassword="Passwords do not match"),N(e),0===Object.keys(e).length})()){F(!0);try{let e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:q.name,email:q.email,phone:q.phone,password:q.password,role:q.role,platform:"mobile"})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to create user");r.success?a.push("/mobile/admin/users"):N({submit:r.error||"Failed to create user"})}catch(e){console.error("Error creating user:",e),N({submit:e instanceof Error?e.message:"Failed to create user. Please try again."})}finally{F(!1)}}};return(0,o.jsxs)(u,{className:r,children:[(0,o.jsxs)(w,{children:[(0,o.jsx)(y,{children:"Create New User"}),(0,o.jsx)(f,{children:"Add a new user to the system"})]}),(0,o.jsxs)(g,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:O,children:[(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"name",children:"Full Name *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(t.A,{size:16})}),(0,o.jsx)(k,{id:"name",name:"name",type:"text",placeholder:"Enter full name",value:q.name,onChange:H})]}),S.name&&(0,o.jsx)(E,{children:S.name})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"email",children:"Email Address *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(l.A,{size:16})}),(0,o.jsx)(k,{id:"email",name:"email",type:"email",placeholder:"Enter email address",value:q.email,onChange:H})]}),S.email&&(0,o.jsx)(E,{children:S.email})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"phone",children:"Phone Number *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(c.A,{size:16})}),(0,o.jsx)(k,{id:"phone",name:"phone",type:"tel",placeholder:"Enter phone number",value:q.phone,onChange:H})]}),S.phone&&(0,o.jsx)(E,{children:S.phone})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"role",children:"User Role *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(p.A,{size:16})}),(0,o.jsxs)(C,{id:"role",name:"role",value:q.role,onChange:H,children:[(0,o.jsx)("option",{value:"customer",children:"Customer"}),(0,o.jsx)("option",{value:"driver",children:"Driver"}),(0,o.jsx)("option",{value:"manager",children:"Manager"}),(0,o.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"password",children:"Password *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(p.A,{size:16})}),(0,o.jsx)(k,{id:"password",name:"password",type:i?"text":"password",placeholder:"Enter password",value:q.password,onChange:H}),(0,o.jsx)(z,{type:"button",onClick:()=>n(!i),children:i?(0,o.jsx)(m.A,{size:16}):(0,o.jsx)(h.A,{size:16})})]}),S.password&&(0,o.jsx)(E,{children:S.password})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(A,{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,o.jsxs)(v,{children:[(0,o.jsx)(_,{children:(0,o.jsx)(p.A,{size:16})}),(0,o.jsx)(k,{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",placeholder:"Confirm password",value:q.confirmPassword,onChange:H})]}),S.confirmPassword&&(0,o.jsx)(E,{children:S.confirmPassword})]}),S.submit&&(0,o.jsx)(E,{children:S.submit}),(0,o.jsxs)(P,{children:[(0,o.jsxs)(I,{type:"button",variant:"secondary",onClick:()=>{a.back()},whileTap:{scale:.98},children:[(0,o.jsx)(x.A,{size:16}),"Cancel"]}),(0,o.jsxs)(I,{type:"submit",variant:"primary",disabled:M,whileTap:{scale:.98},children:[(0,o.jsx)(j.A,{size:16}),M?"Creating...":"Create User"]})]})]})]})}},46046:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},57828:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},65229:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},69141:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},70532:(e,r,a)=>{a.d(r,{A:()=>o});let o=(0,a(71847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}}]);