"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2524],{15824:(e,t,r)=>{r.d(t,{I:()=>g});var i=r(39903);let n="https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod".trim().replace(/\/$/,""),a="w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS",o="pSq4vhYdRnB7OUCkfQlo9M3z6rJEaD2F",s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={"Content-Type":"application/json"};return a&&(r["x-api-key"]=a),t&&o&&(r["X-Location-Admin-Key"]=o),{...r,...(e=>{if(!e)return{};if(e instanceof Headers){let t={};return e.forEach((e,r)=>{t[r]=e}),t}return Array.isArray(e)?e.reduce((e,t)=>{let[r,i]=t;return e[r]=i,e},{}):{...e}})(e)}};async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=await fetch(e.startsWith("http")?e:n?"".concat(n).concat(e):e,{...t,headers:s(t.headers,r)});if(!i.ok)throw Error(await i.text().catch(()=>i.statusText)||"Request failed with status ".concat(i.status));if(204!==i.status)return i.json()}let c=e=>{if(e)return e instanceof Date?e:new Date(e)},l=e=>{var t;return{...e,createdAt:null!=(t=c(e.createdAt))?t:new Date,pickedUpAt:c(e.pickedUpAt),deliveredAt:c(e.deliveredAt)}},p=e=>{var t,r,i,n;return{...e,createdAt:null!=(i=c(e.createdAt))?i:new Date,updatedAt:c(e.updatedAt),billing:{...e.billing,activatedAt:c(null==(t=e.billing)?void 0:t.activatedAt),deactivatedAt:c(null==(r=e.billing)?void 0:r.deactivatedAt)},qrCodes:e.qrCodes?{...e.qrCodes,generated:null!=(n=c(e.qrCodes.generated))?n:new Date,lastUsed:c(e.qrCodes.lastUsed)}:e.qrCodes,verification:e.verification?{...e.verification,verifiedAt:c(e.verification.verifiedAt)}:e.verification}},f=e=>{var t;return{...e,createdAt:null!=(t=c(e.createdAt))?t:new Date,updatedAt:c(e.updatedAt)}};async function m(e,t){return l(await d("/api/orders/".concat(e),{method:"PATCH",body:JSON.stringify(t)}))}async function u(e,t){let r={status:t};return"picked_up"===t&&(r.pickedUpAt=new Date),"delivered"===t&&(r.deliveredAt=new Date),m(e,r)}let g={getAllOrders:async function(){return(await d("/api/orders/")).map(l)},getOrderById:async function(e){let t=await d("/api/orders/".concat(e));return t?l(t):null},createOrder:async function(e){if(n)try{let t=await d("/api/orders",{method:"POST",body:JSON.stringify(e)});return l(t)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}return console.log("\uD83D\uDCE1 Using direct DynamoDB for order creation"),await i.DynamoDBService.createOrder(e)},updateOrder:m,updateOrderStatus:u,getLocationsByBusinessId:async function(e){if(n)try{return((await d("/api/locations?businessId=".concat(encodeURIComponent(e)))).locations||[]).map(p)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}return console.log("\uD83D\uDCE1 Using direct DynamoDB for location fetching"),await i.DynamoDBService.getLocationsByBusinessId(e)},createLocation:async function(e){let t=await d("/api/locations",{method:"POST",body:JSON.stringify(e)},!0);return t.location?p(t.location):null},updateLocation:async function(e,t){return await d("/api/locations/".concat(e),{method:"PUT",body:JSON.stringify(t)},!0),!0},deleteLocation:async function(e){return await d("/api/locations/".concat(e),{method:"DELETE"},!0),!0},getMenuItems:async function(e,t,r){if(n)try{let i=new URLSearchParams({businessId:e});return t&&i.set("locationId",t),r&&i.set("search",r),((await d("/api/mobile/menu?".concat(i.toString()))).menuItems||[]).map(f)}catch(e){console.warn("Lambda API failed, falling back to direct DynamoDB:",e)}console.log("\uD83D\uDCE1 Using direct DynamoDB for menu fetching");let a=await i.DynamoDBService.getMenuItems(e);if(t&&(a=a.filter(e=>e.locationId===t)),r){let e=r.toLowerCase();a=a.filter(t=>{var r;return t.name.toLowerCase().includes(e)||(null==(r=t.description)?void 0:r.toLowerCase().includes(e))})}return a.map(f)}}},26983:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},57828:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},72524:(e,t,r)=>{r.r(t),r.d(t,{default:()=>eu});var i=r(95155),n=r(12115),a=r(50625),o=r(1733),s=r(26497),d=r(20063),c=r(86651),l=r(80003),p=r(91456),f=r(16485),m=r(26983),u=r(20508),g=r(26617),h=r(46398),b=r(57828),x=r(17787),y=r(42529);let j=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-0"})(["background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);min-height:calc(100vh - 80px);padding:1rem;"]),w=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-1"})(["margin-bottom:1rem;"]),v=a.Ay.h2.withConfig({componentId:"jt-app__sc-b6b70f49-2"})(["font-size:1.25rem;font-weight:700;color:#1c1917;margin:0 0 0.5rem 0;display:flex;align-items:center;gap:0.5rem;"]),A=a.Ay.p.withConfig({componentId:"jt-app__sc-b6b70f49-3"})(["font-size:0.875rem;color:#78716c;margin:0;"]),_=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-4"})(["display:flex;gap:1rem;overflow-x:auto;padding-bottom:1rem;&::-webkit-scrollbar{height:4px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background:#d6d3d1;border-radius:2px;}"]),k=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-5"})(["background:white;border-radius:12px;min-width:280px;flex-shrink:0;display:flex;flex-direction:column;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:2px solid ",";"],e=>{switch(e.$status){case"pending":return"#f59e0b";case"picked_up":return"#22c55e";case"delivered":return"#3b82f6";default:return"#e7e5e4"}}),C=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-6"})(["padding:1rem;border-bottom:2px solid ",";background:",";display:flex;align-items:center;justify-content:space-between;"],e=>{switch(e.$status){case"pending":return"#f59e0b";case"picked_up":return"#22c55e";case"delivered":return"#3b82f6";default:return"#e7e5e4"}},e=>{switch(e.$status){case"pending":return"#fef3c7";case"picked_up":return"#dcfce7";case"delivered":return"#dbeafe";default:return"#f5f5f4"}}),I=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-7"})(["display:flex;align-items:center;gap:0.5rem;font-weight:700;font-size:0.95rem;color:#1c1917;"]),D=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-8"})(["background:",";color:white;padding:0.25rem 0.625rem;border-radius:12px;font-size:0.75rem;font-weight:700;"],e=>{switch(e.$status){case"pending":return"#f59e0b";case"picked_up":return"#22c55e";case"delivered":return"#3b82f6";default:return"#78716c"}}),z=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-9"})(["flex:1;padding:0.75rem;display:flex;flex-direction:column;gap:0.75rem;background:",";transition:background 0.2s ease;min-height:200px;max-height:calc(100vh - 280px);overflow-y:auto;"],e=>e.$isDraggingOver?"#f5f5f4":"transparent"),S=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-10"})(["background:white;border:1px solid #e7e5e4;border-radius:12px;padding:1rem;cursor:grab;transition:all 0.2s ease;opacity:",";box-shadow:0 1px 3px rgba(0,0,0,0.1);&:active{cursor:grabbing;box-shadow:0 4px 12px rgba(237,119,52,0.3);}"],e=>e.$isDragging?.5:1),L=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-11"})(["display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;"]),N=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-12"})(["font-weight:700;font-size:1rem;color:#ed7734;"]),$=a.Ay.span.withConfig({componentId:"jt-app__sc-b6b70f49-13"})(["padding:0.25rem 0.625rem;border-radius:12px;font-size:0.75rem;font-weight:600;background:",";color:",";"],e=>{switch(e.$status){case"pending":return"#fef3c7";case"picked_up":return"#dcfce7";case"delivered":return"#dbeafe";default:return"#f5f5f4"}},e=>{switch(e.$status){case"pending":return"#f59e0b";case"picked_up":return"#22c55e";case"delivered":return"#3b82f6";default:return"#78716c"}}),O=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-14"})(["display:flex;flex-direction:column;gap:0.5rem;"]),P=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-15"})(["display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:#44403c;svg{width:14px;height:14px;color:#78716c;flex-shrink:0;}span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),B=a.Ay.div.withConfig({componentId:"jt-app__sc-b6b70f49-16"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem;color:#a8a29e;text-align:center;font-size:0.875rem;svg{width:40px;height:40px;margin-bottom:0.5rem;opacity:0.3;}"]),U=e=>{let{id:t,status:r,title:n,icon:a,orders:o,activeId:s}=e;return(0,i.jsxs)(k,{$status:r,children:[(0,i.jsxs)(C,{$status:r,children:[(0,i.jsxs)(I,{children:[a,n]}),(0,i.jsx)(D,{$status:r,children:o.length})]}),(0,i.jsx)(z,{children:0===o.length?(0,i.jsxs)(B,{children:[(0,i.jsx)(g.A,{}),(0,i.jsx)("div",{children:"No orders"})]}):o.map(e=>(0,i.jsx)(T,{order:e,isDragging:s===e.id},e.id))})]})},T=e=>{let{order:t,isDragging:r}=e,{attributes:n,listeners:a,setNodeRef:o,transform:s}=(0,x.PM)({id:t.id}),d=s?{transform:"translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0)")}:void 0;return(0,i.jsxs)(S,{ref:o,style:d,$isDragging:r,...n,...a,children:[(0,i.jsxs)(L,{children:[(0,i.jsxs)(N,{children:["#",t.orderNumber]}),(0,i.jsx)($,{$status:t.status,children:"pending"===t.status?"Pending":"picked_up"===t.status?"Picked Up":"Delivered"})]}),(0,i.jsxs)(O,{children:[t.customerName&&(0,i.jsxs)(P,{children:[(0,i.jsx)(u.A,{}),(0,i.jsx)("span",{children:t.customerName})]}),(0,i.jsxs)(P,{children:[(0,i.jsx)(f.A,{}),(0,i.jsx)("span",{children:new Date(t.createdAt).toLocaleDateString()})]})]})]})},M=e=>{let{orders:t,onOrderUpdate:r}=e,[a,o]=(0,n.useState)(null),s=(0,x.FR)((0,x.MS)(x.IG,{activationConstraint:{delay:250,tolerance:5}}),(0,x.MS)(x.cA,{activationConstraint:{distance:8}})),d=(0,n.useMemo)(()=>[{id:"pending",status:"pending",title:"Pending",icon:(0,i.jsx)(m.A,{size:18})},{id:"picked_up",status:"picked_up",title:"Picked Up",icon:(0,i.jsx)(h.A,{size:18})},{id:"delivered",status:"delivered",title:"Delivered",icon:(0,i.jsx)(y.A,{size:18})}],[]),c=(0,n.useMemo)(()=>({pending:t.filter(e=>"pending"===e.status),picked_up:t.filter(e=>"picked_up"===e.status),delivered:t.filter(e=>"delivered"===e.status)}),[t]),l=a?t.find(e=>e.id===a):null;return(0,i.jsxs)(x.Mp,{sensors:s,collisionDetection:x.y$,onDragStart:e=>{o(e.active.id)},onDragEnd:e=>{let{active:i,over:n}=e;if(!n)return void o(null);let a=i.id,s=n.id;if(d.some(e=>e.id===s)){let e=t.find(e=>e.id===a);e&&e.status!==s&&(null==r||r(a,s))}o(null)},children:[(0,i.jsxs)(j,{children:[(0,i.jsxs)(w,{children:[(0,i.jsxs)(v,{children:[(0,i.jsx)(g.A,{size:20}),"Orders Board"]}),(0,i.jsx)(A,{children:"Drag orders to update their status"})]}),(0,i.jsx)(_,{children:d.map(e=>(0,i.jsx)(U,{id:e.id,status:e.status,title:e.title,icon:e.icon,orders:c[e.status],activeId:a},e.id))})]}),(0,i.jsx)(x.Hd,{children:l?(0,i.jsxs)(S,{style:{cursor:"grabbing",transform:"rotate(2deg)",boxShadow:"0 8px 16px rgba(0,0,0,0.2)"},children:[(0,i.jsxs)(L,{children:[(0,i.jsxs)(N,{children:["#",l.orderNumber]}),(0,i.jsx)($,{$status:l.status,children:"pending"===l.status?"Pending":"picked_up"===l.status?"Picked Up":"Delivered"})]}),(0,i.jsx)(O,{children:l.customerName&&(0,i.jsxs)(P,{children:[(0,i.jsx)(u.A,{}),(0,i.jsx)("span",{children:l.customerName})]})})]}):null})]})};var E=r(15824);let q=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-0"})(["padding:0.5rem;min-height:100vh;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);"]),R=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-1"})(["margin-top:0.5rem;margin-bottom:2rem;text-align:center;"]),H=a.Ay.h1.withConfig({componentId:"jt-app__sc-91dff06b-2"})(["font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 0.5rem 0;"]),J=a.Ay.p.withConfig({componentId:"jt-app__sc-91dff06b-3"})(["font-size:1rem;color:#6b7280;margin:0;"]),Y=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-4"})(["display:grid;grid-template-columns:repeat(4,1fr);gap:0.5rem;margin-bottom:1.5rem;"]),F=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-5"})(["background:white;border-radius:8px;padding:0.75rem 0.5rem;text-align:center;border:1px solid rgba(237,119,52,0.1);box-shadow:0 1px 3px rgba(0,0,0,0.05);"]),K=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-6"})(["font-size:1.125rem;font-weight:700;color:#1f2937;"]),Q=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-7"})(["font-size:0.625rem;color:#6b7280;margin-top:0.25rem;"]),X=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-8"})(["margin-bottom:1.5rem;"]),G=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-9"})(["position:relative;margin-bottom:1rem;"]),V=a.Ay.input.withConfig({componentId:"jt-app__sc-91dff06b-10"})(["width:100%;padding:0.75rem 1rem 0.75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:0.875rem;background:white;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}"]),W=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-11"})(["position:absolute;left:0.75rem;top:50%;transform:translateY(-50%);color:#6b7280;"]),Z=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-12"})(["display:flex;gap:0.5rem;overflow-x:auto;padding-bottom:0.5rem;margin-bottom:0.5rem;&::-webkit-scrollbar{display:none;}"]),ee=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-13"})(["display:flex;gap:0.5rem;background:#f5f5f4;padding:0.25rem;border-radius:8px;margin-bottom:1rem;"]),et=a.Ay.button.withConfig({componentId:"jt-app__sc-91dff06b-14"})(["background:",";border:none;border-radius:6px;padding:0.5rem 0.75rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.375rem;font-size:0.875rem;font-weight:600;color:",";box-shadow:",";transition:all 0.2s ease;flex:1;svg{width:16px;height:16px;}&:active{transform:scale(0.95);}"],e=>e.$active?"white":"transparent",e=>e.$active?"#ed7734":"#78716c",e=>e.$active?"0 1px 3px rgba(0,0,0,0.1)":"none"),er=a.Ay.button.withConfig({componentId:"jt-app__sc-91dff06b-15"})(["padding:0.5rem 0.75rem;border:1px solid ",";background:",";color:",";border-radius:6px;font-size:0.75rem;font-weight:500;cursor:pointer;white-space:nowrap;&:active{transform:scale(0.98);}"],e=>e.active?"#ed7734":"#d1d5db",e=>e.active?"#ed7734":"white",e=>e.active?"white":"#6b7280"),ei=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-16"})(["display:flex;flex-direction:column;gap:0.75rem;"]),en=(0,a.Ay)(o.P.div).withConfig({componentId:"jt-app__sc-91dff06b-17"})(["background:white;border-radius:12px;padding:1rem;box-shadow:0 1px 3px rgba(0,0,0,0.1);border:1px solid rgba(237,119,52,0.1);"]),ea=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-18"})(["display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;"]),eo=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-19"})(["flex:1;"]),es=a.Ay.h3.withConfig({componentId:"jt-app__sc-91dff06b-20"})(["font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 0.25rem 0;"]),ed=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-21"})(["font-size:0.75rem;color:#6b7280;display:flex;align-items:center;gap:0.25rem;"]),ec=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-22"})(["font-size:0.75rem;font-weight:500;padding:0.25rem 0.5rem;border-radius:4px;text-transform:capitalize;background:",";color:",";"],e=>{switch(e.status){case"pending":return"rgba(251, 191, 36, 0.1)";case"confirmed":return"rgba(59, 130, 246, 0.1)";case"preparing":return"rgba(168, 85, 247, 0.1)";case"ready":return"rgba(16, 185, 129, 0.1)";case"completed":return"rgba(34, 197, 94, 0.1)";case"cancelled":return"rgba(239, 68, 68, 0.1)";default:return"rgba(107, 114, 128, 0.1)"}},e=>{switch(e.status){case"pending":return"#d97706";case"confirmed":return"#2563eb";case"preparing":return"#7c3aed";case"ready":return"#059669";case"completed":return"#16a34a";case"cancelled":return"#dc2626";default:return"#4b5563"}}),el=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-23"})(["display:flex;flex-direction:column;gap:0.5rem;margin-bottom:0.75rem;"]),ep=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-24"})(["display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:#6b7280;"]),ef=a.Ay.div.withConfig({componentId:"jt-app__sc-91dff06b-25"})(["display:flex;justify-content:space-between;align-items:center;padding-top:0.75rem;border-top:1px solid #f3f4f6;"]);a.Ay.span.withConfig({componentId:"jt-app__sc-91dff06b-26"})(["font-size:1rem;font-weight:600;color:#ed7734;"]);let em=a.Ay.button.withConfig({componentId:"jt-app__sc-91dff06b-27"})(["padding:0.5rem 0.75rem;background:transparent;border:1px solid #ed7734;color:#ed7734;border-radius:6px;font-size:0.75rem;font-weight:500;cursor:pointer;&:active{transform:scale(0.98);background:rgba(237,119,52,0.05);}"]);function eu(e){let{className:t}=e,r=(0,d.useRouter)(),[a,o]=(0,n.useState)([]),[x,y]=(0,n.useState)(!0),[j,w]=(0,n.useState)(""),[v,A]=(0,n.useState)("all"),[_,k]=(0,n.useState)("list");(0,n.useEffect)(()=>{let e=!0;return(async()=>{y(!0);try{let t=await E.I.getAllOrders();e&&o(t)}catch(e){console.error("Failed to load admin orders:",e)}finally{e&&y(!1)}})(),()=>{e=!1}},[]);let C=a.filter(e=>{let t=e.id.toLowerCase().includes(j.toLowerCase())||e.customerName.toLowerCase().includes(j.toLowerCase())||e.orderDetails.toLowerCase().includes(j.toLowerCase()),r="all"===v||e.status===v;return t&&r}),I={total:a.length,active:a.filter(e=>["pending","picked_up"].includes(e.status)).length,completed:a.filter(e=>"delivered"===e.status).length,cancelled:0},D=async(e,t)=>{try{await E.I.updateOrderStatus(e,t),o(r=>r.map(r=>r.id===e?{...r,status:t}:r))}catch(e){console.error("Error updating order status:",e)}};return x?(0,i.jsx)(q,{className:t,children:(0,i.jsx)(R,{children:(0,i.jsx)(H,{children:"Loading Orders..."})})}):(0,i.jsxs)(q,{className:t,children:[(0,i.jsxs)(R,{children:[(0,i.jsx)(H,{children:"All Orders"}),(0,i.jsx)(J,{children:"Complete order management"})]}),(0,i.jsxs)(Y,{children:[(0,i.jsxs)(F,{children:[(0,i.jsx)(K,{children:I.total}),(0,i.jsx)(Q,{children:"Total"})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(K,{children:I.active}),(0,i.jsx)(Q,{children:"Active"})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(K,{children:I.completed}),(0,i.jsx)(Q,{children:"Done"})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(K,{children:I.cancelled}),(0,i.jsx)(Q,{children:"Cancelled"})]})]}),(0,i.jsxs)(X,{children:[(0,i.jsxs)(G,{children:[(0,i.jsx)(W,{children:(0,i.jsx)(c.A,{size:16})}),(0,i.jsx)(V,{type:"text",placeholder:"Search orders, customers, items...",value:j,onChange:e=>w(e.target.value)})]}),(0,i.jsx)(Z,{children:[{key:"all",label:"All"},{key:"pending",label:"Pending"},{key:"confirmed",label:"Confirmed"},{key:"preparing",label:"Preparing"},{key:"ready",label:"Ready"},{key:"completed",label:"Completed"},{key:"cancelled",label:"Cancelled"}].map(e=>(0,i.jsx)(er,{active:v===e.key,onClick:()=>A(e.key),children:e.label},e.key))}),(0,i.jsxs)(ee,{children:[(0,i.jsxs)(et,{$active:"list"===_,onClick:()=>k("list"),children:[(0,i.jsx)(l.A,{}),(0,i.jsx)("span",{children:"List"})]}),(0,i.jsxs)(et,{$active:"board"===_,onClick:()=>k("board"),children:[(0,i.jsx)(p.A,{}),(0,i.jsx)("span",{children:"Board"})]}),(0,i.jsxs)(et,{$active:"timeline"===_,onClick:()=>k("timeline"),children:[(0,i.jsx)(f.A,{}),(0,i.jsx)("span",{children:"Timeline"})]})]})]}),"list"===_&&(0,i.jsx)(ei,{children:(0,i.jsx)(s.N,{children:C.map((e,t)=>(0,i.jsxs)(en,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},children:[(0,i.jsxs)(ea,{children:[(0,i.jsxs)(eo,{children:[(0,i.jsx)(es,{children:e.id}),(0,i.jsxs)(ed,{children:[(0,i.jsx)(m.A,{size:12}),(e=>{let t=e instanceof Date?e:new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/6e4);if(r<60)return"".concat(r,"m ago");{let e=Math.floor(r/60);return"".concat(e,"h ago")}})(e.createdAt)]})]}),(0,i.jsx)(ec,{status:e.status,children:e.status})]}),(0,i.jsxs)(el,{children:[(0,i.jsxs)(ep,{children:[(0,i.jsx)(u.A,{size:14}),e.customerName]}),(0,i.jsxs)(ep,{children:[(0,i.jsx)(g.A,{size:14}),e.orderDetails]}),e.driverName&&(0,i.jsxs)(ep,{children:[(0,i.jsx)(h.A,{size:14}),"Driver: ",e.driverName]}),(0,i.jsxs)(ep,{children:[(0,i.jsx)(m.A,{size:14}),new Date(e.createdAt).toLocaleString()]})]}),(0,i.jsxs)(ef,{children:[(0,i.jsx)("span",{style:{fontSize:"0.875rem",color:"#78716c"},children:e.orderNumber}),(0,i.jsxs)(em,{onClick:()=>r.push("/mobile/orders/".concat(e.id)),children:[(0,i.jsx)(b.A,{size:12,style:{marginRight:"0.25rem"}}),"View Details"]})]})]},e.id))})}),"board"===_&&(0,i.jsx)(M,{orders:C,onOrderUpdate:D}),"timeline"===_&&(0,i.jsxs)("div",{style:{textAlign:"center",marginTop:"3rem",color:"#78716c"},children:[(0,i.jsx)(f.A,{size:48,style:{margin:"0 auto 1rem",opacity:.3}}),(0,i.jsx)("p",{children:"Timeline view coming soon"})]}),0===C.length&&(0,i.jsx)("div",{style:{textAlign:"center",marginTop:"2rem",color:"#6b7280"},children:"No orders found matching your criteria."})]})}},86651:(e,t,r)=>{r.d(t,{A:()=>i});let i=(0,r(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}}]);