(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1151],{6132:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19825:()=>{},21554:(e,t,o)=>{"use strict";o.d(t,{$n:()=>s,DZ:()=>l,EY:()=>c,Zp:()=>n,kH:()=>i,mc:()=>a,so:()=>d,xA:()=>m});var r=o(50625);let i=(0,r.DU)(['*{box-sizing:border-box;margin:0;padding:0;}html{font-family:\'Inter\',-apple-system,BlinkMacSystemFont,\'Segoe UI\',Roboto,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;}html,body{width:100%;max-width:100vw;overflow-x:hidden;height:100%;min-height:100vh;min-height:-webkit-fill-available;}body{background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);color:#1c1917;line-height:1.5;font-size:1rem;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;touch-action:manipulation;}a{color:inherit;text-decoration:none;transition:all 200ms ease;&:hover{opacity:0.8;}}button{font-family:inherit;cursor:pointer;border:none;background:none;transition:all 200ms ease;&:hover:not(:disabled){transform:translateY(-1px);}&:active:not(:disabled){transform:translateY(0);}&:disabled{cursor:not-allowed;opacity:0.5;}}input,textarea,select{font-family:inherit;transition:all 200ms ease;}*:focus-visible{outline:2px solid #ed7734;outline-offset:3px;border-radius:4px;}::-webkit-scrollbar{width:10px;}::-webkit-scrollbar-track{background:linear-gradient(180deg,#fef7ee 0%,#f5f5f4 100%);}::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#ed7734 0%,#f19558 100%);border-radius:9999px;border:2px solid #fef7ee;&:hover{background:linear-gradient(180deg,#de5d20 0%,#ed7734 100%);}}@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}@keyframes slideInBottom{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}@keyframes shimmer{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}@keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.7;}}@keyframes glow{0%,100%{box-shadow:0 0 20px rgba(237,119,52,0.3);}50%{box-shadow:0 0 30px rgba(237,119,52,0.5);}}@media (max-width:768px){html{height:-webkit-fill-available;}body{min-height:-webkit-fill-available;font-size:0.9rem;}*{max-width:100vw;}div,section,main,article,aside,header,footer,nav{max-width:100%;overflow-x:hidden;}.container,[class*="container"]{padding-left:1rem !important;padding-right:1rem !important;max-width:100% !important;}img,video,canvas,svg{max-width:100%;height:auto;}table{width:100%;display:block;overflow-x:auto;white-space:nowrap;}input,textarea,select,button{max-width:100%;font-size:1rem;}button,a,[role="button"],input[type="submit"],input[type="button"]{min-height:44px;min-width:44px;padding:0.75rem 1rem;}.flex,[class*="flex"]{flex-direction:column !important;align-items:stretch !important;}.grid,[class*="grid"]{grid-template-columns:1fr !important;gap:1rem !important;}}@media (orientation:portrait) and (max-width:768px){.main-content,main,[role="main"]{padding:1rem;max-width:100vw;min-height:calc(100vh - 120px);}nav,.navigation{flex-direction:column;width:100%;}.card,[class*="card"]{margin:0.5rem 0;border-radius:0.5rem;box-shadow:0 2px 4px rgba(0,0,0,0.1);}}@supports (padding:max(0px)){body{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);}}']),a=r.Ay.div.withConfig({componentId:"jt-app__sc-3eec28f9-0"})(["max-width:",";margin:0 auto;padding:0 ",";@media (max-width:768px){max-width:100%;padding:0 1rem;box-sizing:border-box;}@media (min-width:","){padding:0 ",";}@media (min-width:","){padding:0 ",";}"],e=>e.$maxWidth||"1280px",e=>e.theme.spacing.md,e=>e.theme.breakpoints.sm,e=>e.theme.spacing.lg,e=>e.theme.breakpoints.lg,e=>e.theme.spacing.xl),n=r.Ay.div.withConfig({componentId:"jt-app__sc-3eec28f9-1"})(["background:",";border-radius:",";box-shadow:",";padding:",";border:1px solid ",";transition:",";&:hover{box-shadow:",";}"],e=>e.theme.colors.surface,e=>e.theme.borderRadius[e.$borderRadius||"xl"],e=>e.theme.shadows[e.$shadow||"soft"],e=>e.$padding||e.theme.spacing.lg,e=>e.theme.colors.border.light,e=>e.theme.transitions.normal,e=>e.theme.shadows.medium),s=r.Ay.button.withConfig({componentId:"jt-app__sc-3eec28f9-2"})(["display:inline-flex;align-items:center;justify-content:center;font-weight:",";border-radius:",";transition:",";cursor:pointer;text-decoration:none;border:none;width:",";"," "," &:disabled{opacity:0.5;cursor:not-allowed;pointer-events:none;}"],e=>e.theme.typography.fontWeight.medium,e=>e.theme.borderRadius.lg,e=>e.theme.transitions.normal,e=>e.$fullWidth?"100%":"auto",e=>{switch(e.$size){case"sm":return"\n          padding: ".concat(e.theme.spacing.sm," ").concat(e.theme.spacing.md,";\n          font-size: ").concat(e.theme.typography.fontSize.sm,";\n        ");case"lg":return"\n          padding: ".concat(e.theme.spacing.lg," ").concat(e.theme.spacing.xl,";\n          font-size: ").concat(e.theme.typography.fontSize.lg,";\n        ");default:return"\n          padding: ".concat(e.theme.spacing.md," ").concat(e.theme.spacing.lg,";\n          font-size: ").concat(e.theme.typography.fontSize.base,";\n        ")}},e=>{switch(e.$variant){case"primary":return"\n          background: ".concat(e.theme.colors.primary[500],";\n          color: ").concat(e.theme.colors.text.inverse,";\n          box-shadow: ").concat(e.theme.shadows.soft,";\n\n          &:hover {\n            background: ").concat(e.theme.colors.primary[600],";\n            box-shadow: ").concat(e.theme.shadows.medium,";\n          }\n\n          &:active {\n            background: ").concat(e.theme.colors.primary[700],";\n          }\n        ");case"secondary":return"\n          background: ".concat(e.theme.colors.secondary[100],";\n          color: ").concat(e.theme.colors.text.primary,";\n\n          &:hover {\n            background: ").concat(e.theme.colors.secondary[200],";\n          }\n\n          &:active {\n            background: ").concat(e.theme.colors.secondary[300],";\n          }\n        ");case"outline":return"\n          background: transparent;\n          color: ".concat(e.theme.colors.primary[600],";\n          border: 1px solid ").concat(e.theme.colors.primary[300],";\n\n          &:hover {\n            background: ").concat(e.theme.colors.primary[50],";\n            border-color: ").concat(e.theme.colors.primary[400],";\n          }\n        ");case"ghost":return"\n          background: transparent;\n          color: ".concat(e.theme.colors.text.primary,";\n\n          &:hover {\n            background: ").concat(e.theme.colors.secondary[100],";\n          }\n        ");default:return"\n          background: ".concat(e.theme.colors.primary[500],";\n          color: ").concat(e.theme.colors.text.inverse,";\n          box-shadow: ").concat(e.theme.shadows.soft,";\n\n          &:hover {\n            background: ").concat(e.theme.colors.primary[600],";\n            box-shadow: ").concat(e.theme.shadows.medium,";\n          }\n        ")}});r.Ay.input.withConfig({componentId:"jt-app__sc-3eec28f9-3"})(["width:100%;padding:",";border:1px solid ",";border-radius:",";font-size:",";background:",";transition:",";&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ",";}&::placeholder{color:",";}"],e=>e.theme.spacing.md,e=>e.$hasError?e.theme.colors.error:e.theme.colors.border.medium,e=>e.theme.borderRadius.md,e=>e.theme.typography.fontSize.base,e=>e.theme.colors.surface,e=>e.theme.transitions.normal,e=>e.theme.colors.primary[500],e=>e.theme.colors.primary[100],e=>e.theme.colors.text.muted),r.Ay.label.withConfig({componentId:"jt-app__sc-3eec28f9-4"})(["display:block;font-weight:",";color:",";margin-bottom:",";font-size:",";"],e=>e.theme.typography.fontWeight.medium,e=>e.theme.colors.text.primary,e=>e.theme.spacing.sm,e=>e.theme.typography.fontSize.sm);let l=r.Ay.h1.withConfig({componentId:"jt-app__sc-3eec28f9-5"})(["font-size:",";font-weight:",";color:",";margin-bottom:",";line-height:",";"],e=>e.theme.typography.fontSize[e.$size||"2xl"],e=>e.theme.typography.fontWeight[e.$weight||"bold"],e=>e.$color||e.theme.colors.text.primary,e=>e.$mb||e.theme.spacing.md,e=>e.theme.typography.lineHeight.tight),c=r.Ay.p.withConfig({componentId:"jt-app__sc-3eec28f9-6"})(["font-size:",";font-weight:",";color:",";margin-bottom:",";line-height:",";"],e=>e.theme.typography.fontSize[e.$size||"base"],e=>e.theme.typography.fontWeight[e.$weight||"normal"],e=>e.$color||e.theme.colors.text.secondary,e=>e.$mb||"0",e=>e.theme.typography.lineHeight.normal),d=r.Ay.div.withConfig({componentId:"jt-app__sc-3eec28f9-7"})(["display:flex;flex-direction:",";align-items:",";justify-content:",";gap:",";flex-wrap:",";@media (max-width:768px){flex-direction:column;align-items:stretch;gap:1rem;}"],e=>e.$direction||"row",e=>e.$align||"stretch",e=>e.$justify||"flex-start",e=>e.$gap||"0",e=>e.$wrap?"wrap":"nowrap"),m=r.Ay.div.withConfig({componentId:"jt-app__sc-3eec28f9-8"})(["display:grid;grid-template-columns:",";gap:",";@media (max-width:768px){grid-template-columns:1fr;gap:1rem;}"],e=>e.$minWidth?"repeat(auto-fit, minmax(".concat(e.$minWidth,", 1fr))"):"repeat(".concat(e.$columns||1,", 1fr)"),e=>e.$gap||e.theme.spacing.md)},23664:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},35626:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},47416:(e,t,o)=>{"use strict";function r(){return window.Capacitor?"mobile":"web"}o.d(t,{li:()=>r})},57828:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},69471:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>M});var r=o(95155),i=o(12115),a=o(52619),n=o.n(a),s=o(20063),l=o(50625),c=o(1733),d=o(35626),m=o(6132),h=o(23664),p=o(99708),u=o(70532),g=o(57828),f=o(21554),y=o(97971),b=o(47416),w=o(80408),x=o(58347);function v(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!!window.Capacitor)},[]),e}let k=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-0"})(["min-height:100vh;background:linear-gradient(135deg,#fef7ee 0%,#fafaf9 100%);display:flex;align-items:center;justify-content:center;padding:2rem 1rem;"]),_=(0,l.Ay)(f.Zp).withConfig({componentId:"jt-app__sc-5516f16c-1"})(["max-width:400px;width:100%;padding:2.5rem;text-align:center;"]),A=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-2"})(["width:64px;height:64px;background:linear-gradient(135deg,#ed7734 0%,#de5d20 100%);border-radius:1rem;display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:1.5rem;margin:0 auto 1.5rem;"]),j=l.Ay.form.withConfig({componentId:"jt-app__sc-5516f16c-3"})(["display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem;"]),S=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-4"})(["position:relative;"]),C=l.Ay.input.withConfig({componentId:"jt-app__sc-5516f16c-5"})(["width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #e7e5e4;border-radius:0.75rem;font-size:1rem;transition:all 0.2s;box-sizing:border-box;&:focus{outline:none;border-color:#ed7734;box-shadow:0 0 0 3px rgba(237,119,52,0.1);}&::placeholder{color:#9ca3af;}"]),I=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-6"})(["position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;z-index:1;"]),z=l.Ay.button.withConfig({componentId:"jt-app__sc-5516f16c-7"})(["position:absolute;right:1rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#6b7280;cursor:pointer;padding:0;&:hover{color:#374151;}"]),$=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-8"})(["background:#fef2f2;color:#dc2626;padding:0.75rem;border-radius:0.5rem;border:1px solid #fecaca;display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;"]);l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-9"})(["background:#10b981;color:white;padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.875rem;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;"]),l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-10"})(["margin-top:2rem;padding:1rem;background:#f3f4f6;border-radius:0.5rem;font-size:0.875rem;text-align:left;"]);let L=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-11"})(["margin-top:1.5rem;"]),E=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-12"})(["display:flex;align-items:center;margin:1.5rem 0;"]),R=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-13"})(["flex:1;height:1px;background:#e5e7eb;"]),U=l.Ay.span.withConfig({componentId:"jt-app__sc-5516f16c-14"})(["padding:0 1rem;color:#6b7280;font-size:0.875rem;"]),D=l.Ay.div.withConfig({componentId:"jt-app__sc-5516f16c-15"})(["display:flex;flex-direction:column;gap:0.75rem;"]),B=l.Ay.button.withConfig({componentId:"jt-app__sc-5516f16c-16"})(["display:flex;align-items:center;justify-content:center;gap:0.75rem;width:100%;padding:0.75rem 1rem;border:1px solid #e5e7eb;border-radius:0.5rem;background:",";color:",";font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;&:hover{background:",";transform:translateY(-1px);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1);}&:active{transform:translateY(0);}"],e=>"google"===e.$provider?"#ffffff":"facebook"===e.$provider?"#1877f2":"twitter"===e.$provider?"#000000":"#ffffff",e=>"google"===e.$provider?"#374151":"facebook"===e.$provider||"twitter"===e.$provider?"#ffffff":"#374151",e=>"google"===e.$provider?"#f9fafb":"facebook"===e.$provider?"#166fe5":"twitter"===e.$provider?"#1a1a1a":"#f9fafb"),Y=(0,l.Ay)(n()).withConfig({componentId:"jt-app__sc-5516f16c-17"})(["display:inline-flex;align-items:center;gap:0.5rem;color:#6b7280;text-decoration:none;font-size:0.875rem;margin-bottom:1.5rem;&:hover{color:#374151;}"]);function M(){let[e,t]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,M]=(0,i.useState)(!1),[P,F]=(0,i.useState)(!1),[H,N]=(0,i.useState)("");(0,s.useRouter)();let O=v(),{user:T,signIn:W}=function(){let[e,t]=(0,i.useState)(null),o=v();return(0,i.useEffect)(()=>{t(y.F.getCurrentUser())},[]),{user:e,signIn:async(e,r)=>{if(console.log("\uD83D\uDE80 EnhancedSignIn.signIn called with:",e),o){let o=(0,b.li)();console.log("\uD83D\uDCF1 Mobile platform detected:",o);let i=await y.F.signIn(e,r);if(console.log("\uD83D\uDCF1 MobileAuth.signIn result:",i),i.success){let e=y.F.getCurrentUser();if(e){let r={...e,lastLoginPlatform:o,updatedAt:new Date().toISOString()};localStorage.setItem("user_".concat(e.email),JSON.stringify(r)),localStorage.setItem("currentUser",JSON.stringify(r)),t(r)}else t(e);return!0}return!1}{let t=await (0,x.Jv)("credentials",{email:e,password:r,redirect:!1});return(null==t?void 0:t.ok)===!0}}}}(),q=e=>"mobile"===(0,b.li)()?y.F.getDefaultRoute(e||"customer"):(0,w.Xb)(e||"customer"),J=async t=>{console.log("\uD83D\uDCCB Form submitted!",{email:e,password:"***"}),t.preventDefault(),F(!0),N("");try{let t="/customer";if(O)if(await W(e,o)){let e=y.F.getCurrentUser();t=q(null==e?void 0:e.role),console.log("✅ Mobile sign in successful - redirecting to:",t),window.location.href=t}else N("Invalid email or password");else{let r="https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod".trim().replace(/\/$/,""),i=await fetch(r?"".concat(r,"/auth/login"):"/api/mobile-auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:o,platform:"web"})}),a=await i.json();a.success&&a.user?(t=q(a.user.role||"customer"),console.log("✅ User role detected:",a.user.role,"- will redirect to:",t),await W(e,o)?(console.log("✅ NextAuth sign in successful - redirecting to:",t),window.location.href=t):N("Invalid email or password")):N("Invalid email or password")}}catch(e){console.error("Sign in error:",e),N("An error occurred. Please try again.")}finally{F(!1)}};return(0,r.jsx)(k,{children:(0,r.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsxs)(_,{children:[(0,r.jsxs)(Y,{href:"/",children:[(0,r.jsx)(d.A,{size:16}),"Back to Home"]}),(0,r.jsx)(A,{children:"JT"}),(0,r.jsx)(f.DZ,{as:"h1",$size:"2xl",$mb:"0.5rem",$color:"#1c1917",children:"Welcome Back"}),(0,r.jsx)(f.EY,{$color:"#6b7280",$mb:"1rem",children:"Sign in to access your restaurant dashboard"}),(0,r.jsxs)("div",{style:{background:"linear-gradient(135deg, #fef7ee 0%, #fed7aa 100%)",color:"#78716c",padding:"0.75rem 1rem",borderRadius:"0.75rem",marginBottom:"1.5rem",textAlign:"center",fontSize:"0.875rem",fontWeight:"500",border:"1px solid #fbbf24"},children:["\uD83C\uDF89 New here? ",(0,r.jsx)(n(),{href:"/auth/signup",style:{color:"#ed7734",textDecoration:"none",fontWeight:"bold"},children:"Create a free account"})," - takes 30 seconds!"]}),H&&(0,r.jsxs)($,{children:[(0,r.jsx)(m.A,{size:16}),H]}),(0,r.jsxs)(j,{onSubmit:J,children:[(0,r.jsxs)(S,{children:[(0,r.jsx)(I,{children:(0,r.jsx)(h.A,{size:20})}),(0,r.jsx)(C,{type:"email",placeholder:"Email address",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,r.jsxs)(S,{children:[(0,r.jsx)(I,{children:(0,r.jsx)(p.A,{size:20})}),(0,r.jsx)(C,{type:l?"text":"password",placeholder:"Password",value:o,onChange:e=>a(e.target.value),required:!0}),(0,r.jsx)(z,{type:"button",onClick:()=>M(!l),children:l?(0,r.jsx)(u.A,{size:20}):(0,r.jsx)(g.A,{size:20})})]}),(0,r.jsx)("button",{type:"submit",disabled:P,onClick:e=>{console.log("\uD83D\uDD18 Simple button clicked!",e)},style:{width:"100%",padding:"1rem 1.5rem",backgroundColor:"#ed7734",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1.125rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",pointerEvents:"auto",zIndex:10},children:P?"Signing In...":"Sign In"})]}),(0,r.jsxs)(L,{children:[(0,r.jsxs)(E,{children:[(0,r.jsx)(R,{}),(0,r.jsx)(U,{children:"or continue with"}),(0,r.jsx)(R,{})]}),(0,r.jsxs)(D,{children:[(0,r.jsxs)(B,{onClick:()=>N("Social sign-in coming soon!"),$provider:"google",children:[(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.64 9.20454C17.64 8.56636 17.5827 7.95273 17.4764 7.36364H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20454Z",fill:"#4285F4"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C11.43 18 13.4673 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1013 10.2109 14.4204 9 14.4204C6.65591 14.4204 4.67182 12.8372 3.96409 10.71H0.957275V13.0418C2.43818 15.9831 5.48182 18 9 18Z",fill:"#34A853"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957273C0.347727 6.17318 0 7.54772 0 9C0 10.4523 0.347727 11.8268 0.957273 13.0418L3.96409 10.71Z",fill:"#FBBC04"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65591 3.57955 9 3.57955Z",fill:"#EA4335"})]}),"Continue with Google"]}),(0,r.jsxs)(B,{onClick:()=>N("Social sign-in coming soon!"),$provider:"facebook",children:[(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:(0,r.jsx)("path",{d:"M18 9C18 4.02943 13.9706 0 9 0C4.02943 0 0 4.02943 0 9C0 13.4816 3.29107 17.1312 7.59375 17.8794V11.6016H5.30859V9H7.59375V7.01719C7.59375 4.76156 8.93707 3.51563 10.9932 3.51563C11.9779 3.51563 13.0078 3.69141 13.0078 3.69141V5.90625H11.873C10.7549 5.90625 10.4062 6.60007 10.4062 7.3125V9H12.9023L12.5033 11.6016H10.4062V17.8794C14.7089 17.1312 18 13.4816 18 9Z",fill:"#1877F2"})}),"Continue with Facebook"]}),(0,r.jsxs)(B,{onClick:()=>N("Social sign-in coming soon!"),$provider:"twitter",children:[(0,r.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:(0,r.jsx)("path",{d:"M14.258 0h2.78L11.124 7.63L18 16.615h-5.594L8.061 10.82L2.538 16.615H-.243L6.44 8.31L0 0h5.734L9.928 5.04L14.258 0zM13.273 14.945h1.541L4.86 1.566H3.198l10.075 13.379z",fill:"#000000"})}),"Continue with X"]})]})]}),(0,r.jsx)("div",{style:{marginTop:"2rem"},children:(0,r.jsxs)(f.EY,{$color:"#6b7280",$size:"sm",children:["Don't have an account?"," ",(0,r.jsx)(n(),{href:"/auth/signup",style:{color:"#ed7734",fontWeight:"medium"},children:"Sign up"})]})})]})})})}},70532:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},80408:(e,t,o)=>{"use strict";o.d(t,{Xb:()=>i});let r={admin:{role:"admin",displayName:"Administrator",description:"Full system access with all permissions",permissions:["orders:create","orders:read","orders:update","orders:delete","orders:assign_driver","users:create","users:read","users:update","users:delete","admin:dashboard","admin:settings","admin:reports","manager:staff","manager:analytics","locations:create","locations:read","locations:update","locations:delete","locations:manage","locations:billing","locations:analytics"],routes:["/admin","/orders","/users","/analytics","/settings","/settings/locations"],defaultRoute:"/admin"},manager:{role:"manager",displayName:"Manager",description:"Operational management with staff and analytics access",permissions:["orders:create","orders:read","orders:update","orders:assign_driver","users:read","users:update","manager:staff","manager:analytics","driver:pickup","driver:delivery","locations:create","locations:read","locations:update","locations:manage","locations:analytics"],routes:["/manager","/orders","/analytics","/staff","/settings/locations"],defaultRoute:"/manager"},driver:{role:"driver",displayName:"Driver",description:"Delivery and pickup operations",permissions:["orders:read","orders:update","driver:pickup","driver:delivery","driver:status_update"],routes:["/driver","/orders","/pickup"],defaultRoute:"/driver"},customer:{role:"customer",displayName:"Customer",description:"Order placement and tracking",permissions:["orders:create","orders:read","customer:order_history","customer:profile"],routes:["/customer","/order","/profile","/order-history"],defaultRoute:"/customer"},user:{role:"user",displayName:"User",description:"Basic user access (legacy role)",permissions:["orders:read","customer:profile"],routes:["/profile"],defaultRoute:"/"}};function i(e){return r[e].defaultRoute}},97971:(e,t,o)=>{"use strict";o.d(t,{F:()=>n});var r=o(39903),i=o(47620);class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}async signIn(e,t){console.log("\uD83D\uDD10 MobileAuth.signIn called with:",e);let o={API_BASE_URL:"https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod",API_KEY:"w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS",LOCATION_ADMIN_KEY:"pSq4vhYdRnB7OUCkfQlo9M3z6rJEaD2F"};if(!o.API_BASE_URL){console.log("\uD83D\uDCC4 Loading config from public file...");try{let e=await fetch("/config.json");e.ok&&(o=await e.json(),console.log("✅ Config loaded from file:",o))}catch(e){console.log("❌ Failed to load config file:",e)}}console.log("\uD83D\uDD0D Environment check:",o),this.setLoading(!0),this.setError(null);try{let a=(o.API_BASE_URL||"").trim().replace(/\/$/,"");if(console.log("\uD83D\uDCE1 API_BASE_URL resolved to:",a),a){let r="".concat(a,"/auth/login");console.log("\uD83D\uDE80 Login URL:",r);let i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":o.API_KEY||""},body:JSON.stringify({email:e,password:t})});console.log("\uD83D\uDCE1 Response status:",i.status,i.statusText);let n=await i.json();if(console.log("\uD83D\uDCC4 Response data:",n),i.ok&&n.success)return await this.setAuthenticated(n.user),{success:!0};return this.setError(n.error||"Invalid email or password"),{success:!1,error:n.error||"Invalid email or password"}}{console.log("\uD83D\uDCE1 Using direct DynamoDB authentication (Lambda API not configured)");let o=await r.DynamoDBService.getUserByEmail(e);if(!o||!o.password)return this.setError("User not found"),{success:!1,error:"User not found"};if(!await i.Ay.compare(t,o.password))return this.setError("Invalid email or password"),{success:!1,error:"Invalid email or password"};{let e={id:o.id,email:o.email,name:o.name,role:o.role,businessId:o.businessId};return await this.setAuthenticated(e),{success:!0}}}}catch(t){let e=t instanceof Error?t.message:"Authentication failed";return console.log("❌ MobileAuth.signIn error:",e),this.setError(e),{success:!1,error:e}}finally{this.setLoading(!1)}}getTestAccount(e,t){let o=[{id:"test_admin",email:"admin@jerktrackerx.com",password:"admin123",name:"Admin User",role:"admin"},{id:"test_manager",email:"manager@jerktrackerx.com",password:"manager123",name:"Manager User",role:"manager"},{id:"test_driver",email:"driver@jerktrackerx.com",password:"driver123",name:"Driver User",role:"driver"},{id:"test_customer",email:"customer@jerktrackerx.com",password:"customer123",name:"Customer User",role:"customer"}].find(o=>o.email===e&&o.password===t);return o?{id:o.id,email:o.email,name:o.name,role:o.role,businessId:"test_business",phone:"+1234567890",createdAt:new Date,updatedAt:new Date}:null}async signUp(e,t,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"customer";console.log("\uD83D\uDCDD MobileAuth.signUp called with:",e,o,a);let n={API_BASE_URL:"https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod",API_KEY:"w15QRuSday4YHbK0FH3zc77mzY3nikKX6qEY2xZS"};if(!n.API_BASE_URL){console.log("\uD83D\uDCC4 Loading config from public file...");try{let e=await fetch("/config.json");e.ok&&(n=await e.json(),console.log("✅ Config loaded from file:",n))}catch(e){console.log("❌ Failed to load config file:",e)}}this.setLoading(!0),this.setError(null);try{let s=(n.API_BASE_URL||"").trim().replace(/\/$/,"");if(s){let r="".concat(s,"/auth/signup");console.log("\uD83D\uDE80 Signup URL:",r);let i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":n.API_KEY||""},body:JSON.stringify({email:e,password:t,name:o,role:a})});console.log("\uD83D\uDCE1 Response status:",i.status,i.statusText);let l=await i.json();if(console.log("\uD83D\uDCC4 Response data:",l),i.ok&&l.success)return await this.setAuthenticated(l.user),{success:!0};return this.setError(l.error||"Sign up failed"),{success:!1,error:l.error||"Sign up failed"}}{console.log("\uD83D\uDCE1 Using direct DynamoDB signup (Lambda API not configured)");let n=await i.Ay.hash(t,12),s=await r.DynamoDBService.createUser({email:e,password:n,name:o,role:a}),l={id:s.id,email:s.email,name:s.name,role:s.role,businessId:s.businessId};return await this.setAuthenticated(l),{success:!0}}}catch(t){console.error("❌ Signup error:",t);let e=t instanceof Error?t.message:"Sign up failed";return this.setError(e),{success:!1,error:e}}finally{this.setLoading(!1)}}async signOut(){this.authState={isAuthenticated:!1,user:null,loading:!1,error:null},localStorage.removeItem("mobile_auth_user"),localStorage.removeItem("mobile_auth_token"),this.notifyListeners()}getAuthState(){return{...this.authState}}isAuthenticated(){return this.authState.isAuthenticated}getCurrentUser(){return this.authState.user}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}loadAuthState(){try{let e=localStorage.getItem("mobile_auth_user"),t=localStorage.getItem("mobile_auth_token");if(e&&t){let t=JSON.parse(e);this.authState={isAuthenticated:!0,user:t,loading:!1,error:null},this.syncUserData(t.email)}}catch(e){console.error("Failed to load auth state:",e)}}async syncUserData(e){try{let t="https://rqbyr7htb1.execute-api.us-east-1.amazonaws.com/prod".trim().replace(/\/$/,"");if(!t)return void console.warn("Lambda API not configured, skipping sync");let o=await fetch("".concat(t,"/auth/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(o.ok){let e=await o.json();if(e.success&&e.user){let t=e.user;localStorage.setItem("mobile_auth_user",JSON.stringify(t)),this.authState={...this.authState,user:t},this.notifyListeners(),console.log("✅ User data synced from DynamoDB")}}}catch(e){console.warn("Failed to sync user data:",e)}}async setAuthenticated(e){let t="mock_token_"+Date.now();this.authState={isAuthenticated:!0,user:e,loading:!1,error:null},localStorage.setItem("mobile_auth_user",JSON.stringify(e)),localStorage.setItem("mobile_auth_token",t),this.notifyListeners()}async refreshUserData(){let e=this.getCurrentUser();(null==e?void 0:e.email)&&await this.syncUserData(e.email)}setLoading(e){this.authState={...this.authState,loading:e},this.notifyListeners()}setError(e){this.authState={...this.authState,error:e},this.notifyListeners()}notifyListeners(){this.listeners.forEach(e=>e({...this.authState}))}getDefaultRoute(e){switch(e){case"admin":case"customer":return"/mobile/dashboard";case"manager":case"driver":return"/mobile/orders";default:return"/mobile"}}constructor(){this.authState={isAuthenticated:!1,user:null,loading:!1,error:null},this.listeners=[],this.loadAuthState()}}let n=a.getInstance()},99708:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(71847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}}]);