"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{4283:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},18632:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},55715:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},63516:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},71088:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},75041:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},76114:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},90893:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},93691:(e,r,t)=>{t.d(r,{default:()=>el});var n=t(69497),o=t(38401),i=t(92493),d=t.n(i),a=t(12115),c=t(80095),s=t.n(c),l=t(90893),m=t(98365),u=t(18632),p=t(4283),h=t(95530),f=t(38231),g=t(76114),y=t(71088),x=t(99768),b=t(95155),v=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineContainer",componentId:"sc-1kbn5a0-0"})(["background:white;border-radius:",";box-shadow:",";border:1px solid ",";"],function(e){return e.theme.borderRadius.lg},function(e){return e.theme.shadows.medium},function(e){return e.theme.colors.border.light}),j=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineHeader",componentId:"sc-1kbn5a0-1"})(["padding:1.5rem;border-bottom:1px solid ",";"],function(e){return e.theme.colors.border.light}),k=x.Ay.h3.withConfig({displayName:"OrderTimeline__TimelineTitle",componentId:"sc-1kbn5a0-2"})(["font-size:",";font-weight:600;color:",";margin:0 0 0.5rem 0;"],function(e){return e.theme.typography.fontSize.lg},function(e){return e.theme.colors.text.primary}),w=x.Ay.p.withConfig({displayName:"OrderTimeline__OrderInfo",componentId:"sc-1kbn5a0-3"})(["color:",";margin:0;"],function(e){return e.theme.colors.text.secondary}),A=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineList",componentId:"sc-1kbn5a0-4"})(["padding:1.5rem;"]),_=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineItem",componentId:"sc-1kbn5a0-5"})(["position:relative;padding-bottom:",";",""],function(e){return e.$isLast?"0":"2rem"},function(e){return!e.$isLast&&"\n    &::after {\n      content: '';\n      position: absolute;\n      left: 1rem;\n      top: 3rem;\n      bottom: 0;\n      width: 2px;\n      background: #e5e7eb;\n    }\n  "}),O=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineContent",componentId:"sc-1kbn5a0-6"})(["display:flex;align-items:flex-start;gap:1rem;"]),C=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineIcon",componentId:"sc-1kbn5a0-7"})(["display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border-radius:",";flex-shrink:0;z-index:1;position:relative;",""],function(e){return e.theme.borderRadius.full},function(e){var r=e.$completed,t=e.theme;return r?"\n        background: ".concat(t.colors.accent[600],";\n        color: white;\n      "):"\n        background: ".concat(t.colors.secondary[200],";\n        color: ").concat(t.colors.secondary[500],";\n      ")}),N=x.Ay.div.withConfig({displayName:"OrderTimeline__TimelineDetails",componentId:"sc-1kbn5a0-8"})(["flex:1;min-width:0;"]),I=x.Ay.h4.withConfig({displayName:"OrderTimeline__StepTitle",componentId:"sc-1kbn5a0-9"})(["font-size:",";font-weight:500;margin:0 0 0.25rem 0;",""],function(e){return e.theme.typography.fontSize.base},function(e){var r=e.$completed,t=e.theme;return r?"color: ".concat(t.colors.text.primary,";"):"color: ".concat(t.colors.text.secondary,";")}),P=x.Ay.p.withConfig({displayName:"OrderTimeline__StepDescription",componentId:"sc-1kbn5a0-10"})(["font-size:",";color:",";margin:0 0 0.5rem 0;"],function(e){return e.theme.typography.fontSize.sm},function(e){return e.theme.colors.text.secondary}),z=x.Ay.div.withConfig({displayName:"OrderTimeline__StepTimestamp",componentId:"sc-1kbn5a0-11"})(["font-size:",";color:",";margin-bottom:0.25rem;"],function(e){return e.theme.typography.fontSize.xs},function(e){return e.theme.colors.text.muted}),S=x.Ay.div.withConfig({displayName:"OrderTimeline__StepDetails",componentId:"sc-1kbn5a0-12"})(["font-size:",";color:",";font-style:italic;"],function(e){return e.theme.typography.fontSize.xs},function(e){return e.theme.colors.text.muted});let D=function(e){var r=e.order,t=[{id:1,title:"Order Created",description:"Order placed and QR code generated",icon:l.A,completed:!0,timestamp:r.createdAt,details:r.customerName?"Customer: ".concat(r.customerName):void 0},{id:2,title:"Awaiting Pickup",description:"Order ready for driver collection",icon:p.A,completed:!0,timestamp:r.createdAt,details:"QR code available for scanning"},{id:3,title:"Driver Arrived",description:"Driver scanned QR code and checked in",icon:u.A,completed:"picked_up"===r.status,timestamp:r.pickedUpAt,details:r.driverName?"Driver: ".concat(r.driverName," (").concat(r.driverCompany,")"):void 0},{id:4,title:"Order Picked Up",description:"Order collected by delivery driver",icon:g.A,completed:"picked_up"===r.status||"delivered"===r.status,timestamp:r.pickedUpAt,details:"picked_up"===r.status||"delivered"===r.status?"Pickup confirmed":"Pending pickup"},{id:5,title:"Order Delivered",description:"auto-timeout"===r.deliveryConfirmationMethod?"Auto-completed after 2 hours (Less accurate, no actual delivery confirmation)":"Order delivered to customer",icon:"auto-timeout"===r.deliveryConfirmationMethod?y.A:m.A,completed:"delivered"===r.status,timestamp:r.deliveredAt,details:"delivered"===r.status?"auto-timeout"===r.deliveryConfirmationMethod?"Auto-completed delivery":"Delivery confirmed":"Pending delivery",isAutoCompleted:"auto-timeout"===r.deliveryConfirmationMethod}];return(0,b.jsxs)(v,{children:[(0,b.jsxs)(j,{children:[(0,b.jsx)(k,{children:"Order Timeline"}),(0,b.jsxs)(w,{children:["Order #",r.orderNumber]})]}),(0,b.jsx)(A,{children:t.map(function(e,n){var o,i=e.icon,d=n===t.length-1;return(0,b.jsx)(_,{$isLast:d,children:(0,b.jsxs)(O,{children:[(0,b.jsx)(C,{$completed:e.completed,children:e.completed?4===e.id&&"auto-timeout"===r.deliveryConfirmationMethod?(0,b.jsx)(p.A,{size:20}):(0,b.jsx)(m.A,{size:20}):(0,b.jsx)(i,{size:20})}),(0,b.jsxs)(N,{children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,b.jsx)(I,{$completed:e.completed,children:e.title}),e.timestamp&&(0,b.jsx)(z,{children:(o=e.timestamp)?new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"}).format(o):""})]}),(0,b.jsx)(P,{children:e.description}),e.details&&(0,b.jsx)(S,{children:e.details})]})]})},e.id)})})]})};var T=t(32502),R=t(12811);function M(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?M(Object(t),!0).forEach(function(r){(0,n.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var F=x.Ay.div.withConfig({displayName:"OrderPage__PageContainer",componentId:"sc-thjg8f-0"})(["min-height:100vh;background:",";padding:2rem 1rem;"],function(e){return e.theme.colors.secondary[50]}),U=x.Ay.div.withConfig({displayName:"OrderPage__ContentWrapper",componentId:"sc-thjg8f-1"})(["max-width:1200px;margin:0 auto;"]),B=x.Ay.div.withConfig({displayName:"OrderPage__LoadingContainer",componentId:"sc-thjg8f-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;text-align:center;"]),q=x.Ay.p.withConfig({displayName:"OrderPage__LoadingText",componentId:"sc-thjg8f-3"})(["margin-top:1rem;color:",";"],function(e){return e.theme.colors.text.secondary}),E=x.Ay.div.withConfig({displayName:"OrderPage__OrderNotFound",componentId:"sc-thjg8f-4"})(["text-align:center;padding:3rem;background:white;border-radius:",";box-shadow:",";"],function(e){return e.theme.borderRadius.lg},function(e){return e.theme.shadows.medium}),H=x.Ay.h1.withConfig({displayName:"OrderPage__NotFoundTitle",componentId:"sc-thjg8f-5"})(["font-size:",";font-weight:bold;color:",";margin-bottom:1rem;"],function(e){return e.theme.typography.fontSize["2xl"]},function(e){return e.theme.colors.text.primary}),$=(0,x.Ay)(s()).withConfig({displayName:"OrderPage__BackLink",componentId:"sc-thjg8f-6"})(["display:inline-flex;align-items:center;padding:0.75rem 1.5rem;background:",";color:white;text-decoration:none;border-radius:",";font-weight:500;transition:all 0.2s ease;&:hover{background:",";transform:translateY(-2px);}"],function(e){return e.theme.colors.primary[600]},function(e){return e.theme.borderRadius.md},function(e){return e.theme.colors.primary[700]}),G=x.Ay.div.withConfig({displayName:"OrderPage__OrderHeader",componentId:"sc-thjg8f-7"})(["background:white;border-radius:",";box-shadow:",";padding:2rem;margin-bottom:2rem;border:1px solid ",";"],function(e){return e.theme.borderRadius.lg},function(e){return e.theme.shadows.medium},function(e){return e.theme.colors.border.light}),V=x.Ay.h1.withConfig({displayName:"OrderPage__OrderTitle",componentId:"sc-thjg8f-8"})(["font-size:",";font-weight:bold;color:",";margin-bottom:0.5rem;"],function(e){return e.theme.typography.fontSize["3xl"]},function(e){return e.theme.colors.text.primary}),Q=x.Ay.div.withConfig({displayName:"OrderPage__OrderMeta",componentId:"sc-thjg8f-9"})(["display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;"]),W=x.Ay.div.withConfig({displayName:"OrderPage__MetaItem",componentId:"sc-thjg8f-10"})(["display:flex;align-items:center;gap:0.5rem;color:",";font-size:",";"],function(e){return e.theme.colors.text.secondary},function(e){return e.theme.typography.fontSize.sm}),Y=x.Ay.span.withConfig({displayName:"OrderPage__StatusBadge",componentId:"sc-thjg8f-11"})(["display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:",";font-weight:500;font-size:",";",""],function(e){return e.theme.borderRadius.full},function(e){return e.theme.typography.fontSize.sm},function(e){var r=e.$status,t=e.theme;switch(r){case"delivered":return"\n          background: #d1fae5;\n          color: #065f46;\n        ";case"picked_up":return"\n          background: ".concat(t.colors.accent[100],";\n          color: ").concat(t.colors.accent[800],";\n        ");default:return"\n          background: #fef3c7;\n          color: #92400e;\n        "}}),J=x.Ay.div.withConfig({displayName:"OrderPage__OrderDetails",componentId:"sc-thjg8f-12"})(["background:",";padding:1rem;border-radius:",";border-left:4px solid ",";"],function(e){return e.theme.colors.secondary[50]},function(e){return e.theme.borderRadius.md},function(e){return e.theme.colors.primary[500]}),K=x.Ay.h3.withConfig({displayName:"OrderPage__OrderDetailsTitle",componentId:"sc-thjg8f-13"})(["font-weight:500;color:",";margin-bottom:0.5rem;"],function(e){return e.theme.colors.text.primary}),X=x.Ay.p.withConfig({displayName:"OrderPage__OrderDetailsText",componentId:"sc-thjg8f-14"})(["color:",";margin:0;white-space:pre-wrap;"],function(e){return e.theme.colors.text.secondary}),Z=x.Ay.div.withConfig({displayName:"OrderPage__GridLayout",componentId:"sc-thjg8f-15"})(["display:grid;grid-template-columns:1fr;gap:2rem;@media (min-width:1024px){grid-template-columns:1fr 400px;}"]),ee=x.Ay.div.withConfig({displayName:"OrderPage__CheckInCard",componentId:"sc-thjg8f-16"})(["background:white;border-radius:",";box-shadow:",";padding:2rem;border:1px solid ",";"],function(e){return e.theme.borderRadius.lg},function(e){return e.theme.shadows.medium},function(e){return e.theme.colors.border.light}),er=x.Ay.h2.withConfig({displayName:"OrderPage__CheckInTitle",componentId:"sc-thjg8f-17"})(["font-size:",";font-weight:600;color:",";margin-bottom:1rem;"],function(e){return e.theme.typography.fontSize.xl},function(e){return e.theme.colors.text.primary}),et=x.Ay.form.withConfig({displayName:"OrderPage__CheckInForm",componentId:"sc-thjg8f-18"})(["display:flex;flex-direction:column;gap:1rem;"]),en=x.Ay.div.withConfig({displayName:"OrderPage__FormGroup",componentId:"sc-thjg8f-19"})(["display:flex;flex-direction:column;gap:0.5rem;"]),eo=x.Ay.label.withConfig({displayName:"OrderPage__Label",componentId:"sc-thjg8f-20"})(["font-weight:500;color:",";font-size:",";"],function(e){return e.theme.colors.text.primary},function(e){return e.theme.typography.fontSize.sm}),ei=x.Ay.input.withConfig({displayName:"OrderPage__Input",componentId:"sc-thjg8f-21"})(["padding:0.75rem;border:1px solid ",";border-radius:",";font-size:",";transition:border-color 0.2s ease;&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ","20;}"],function(e){return e.theme.colors.border.light},function(e){return e.theme.borderRadius.md},function(e){return e.theme.typography.fontSize.sm},function(e){return e.theme.colors.primary[500]},function(e){return e.theme.colors.primary[500]}),ed=(0,x.Ay)(h.lV).withConfig({displayName:"OrderPage__SubmitButton",componentId:"sc-thjg8f-22"})(["padding:0.75rem 1.5rem;background:",";color:white;border:none;border-radius:",";font-weight:500;cursor:pointer;transition:all 0.2s ease;&:hover:not(:disabled){background:",";transform:translateY(-2px);}&:disabled{opacity:0.6;cursor:not-allowed;}"],function(e){return e.theme.colors.primary[600]},function(e){return e.theme.borderRadius.md},function(e){return e.theme.colors.primary[700]}),ea=x.Ay.div.withConfig({displayName:"OrderPage__SuccessMessage",componentId:"sc-thjg8f-23"})(["background:",";border:1px solid ",";border-radius:",";padding:1rem;text-align:center;"],function(e){return e.theme.colors.accent[50]},function(e){return e.theme.colors.accent[200]},function(e){return e.theme.borderRadius.md}),ec=x.Ay.h3.withConfig({displayName:"OrderPage__SuccessTitle",componentId:"sc-thjg8f-24"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;color:",";font-weight:600;margin-bottom:0.5rem;"],function(e){return e.theme.colors.accent[800]}),es=x.Ay.p.withConfig({displayName:"OrderPage__SuccessText",componentId:"sc-thjg8f-25"})(["color:",";margin:0;"],function(e){return e.theme.colors.accent[700]});x.Ay.div.withConfig({displayName:"OrderPage__DeliveryCard",componentId:"sc-thjg8f-26"})(["background:white;border:1px solid ",";border-radius:",";padding:1.5rem;margin:1.5rem 0;box-shadow:",";"],function(e){return e.theme.colors.border.light},function(e){return e.theme.borderRadius.lg},function(e){return e.theme.shadows.soft}),x.Ay.h3.withConfig({displayName:"OrderPage__DeliveryTitle",componentId:"sc-thjg8f-27"})(["font-size:",";font-weight:600;color:",";margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;"],function(e){return e.theme.typography.fontSize.lg},function(e){return e.theme.colors.text.primary}),x.Ay.div.withConfig({displayName:"OrderPage__InfoGrid",componentId:"sc-thjg8f-28"})(["display:grid;grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem;@media (min-width:768px){grid-template-columns:1fr 1fr;}"]),x.Ay.div.withConfig({displayName:"OrderPage__InfoItem",componentId:"sc-thjg8f-29"})(["background:",";padding:1rem;border-radius:",";border-left:3px solid ",";h4{font-size:",";font-weight:600;color:",";margin-bottom:0.5rem;text-transform:uppercase;letter-spacing:0.025em;}p{font-size:",";color:",";margin:0;word-break:break-word;}"],function(e){return e.theme.colors.secondary[50]},function(e){return e.theme.borderRadius.md},function(e){return e.theme.colors.primary[500]},function(e){return e.theme.typography.fontSize.sm},function(e){return e.theme.colors.text.secondary},function(e){return e.theme.typography.fontSize.base},function(e){return e.theme.colors.text.primary}),x.Ay.div.withConfig({displayName:"OrderPage__ActionButtons",componentId:"sc-thjg8f-30"})(["display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1.5rem;@media (min-width:768px){grid-template-columns:1fr 1fr;}"]),x.Ay.button.withConfig({displayName:"OrderPage__ActionButton",componentId:"sc-thjg8f-31"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.75rem 1.5rem;border:1px solid;border-radius:",";font-weight:500;cursor:pointer;transition:all 0.2s ease;text-decoration:none;",""],function(e){return e.theme.borderRadius.md},function(e){var r=e.variant,t=e.theme;switch(void 0===r?"primary":r){case"success":return"\n          background: ".concat(t.colors.accent[600],";\n          border-color: ").concat(t.colors.accent[600],";\n          color: white;\n          &:hover { background: ").concat(t.colors.accent[700],"; border-color: ").concat(t.colors.accent[700],"; }\n        ");case"danger":return"\n          background: ".concat(t.colors.error,";\n          border-color: ").concat(t.colors.error,";\n          color: white;\n          &:hover { background: #dc2626; border-color: #dc2626; }\n        ");case"secondary":return"\n          background: white;\n          border-color: ".concat(t.colors.border.light,";\n          color: ").concat(t.colors.text.primary,";\n          &:hover { background: ").concat(t.colors.secondary[50],"; }\n        ");default:return"\n          background: ".concat(t.colors.primary[600],";\n          border-color: ").concat(t.colors.primary[600],";\n          color: white;\n          &:hover { background: ").concat(t.colors.primary[700],"; border-color: ").concat(t.colors.primary[700],"; }\n        ")}}),x.Ay.a.withConfig({displayName:"OrderPage__ContactButton",componentId:"sc-thjg8f-32"})(["display:flex;align-items:center;justify-content:center;gap:0.5rem;padding:0.5rem 1rem;background:",";color:white;text-decoration:none;border-radius:",";font-weight:500;font-size:",";transition:all 0.2s ease;&:hover{background:#2563eb;text-decoration:none;color:white;}"],function(e){return e.theme.colors.info},function(e){return e.theme.borderRadius.md},function(e){return e.theme.typography.fontSize.sm});let el=function(e){var r,t,n,i,c=e.orderId,g=(0,a.useState)(null),y=g[0],x=g[1],v=(0,a.useState)(!0),j=v[0],k=v[1],w=(0,a.useState)(""),A=w[0],_=w[1],O=(0,a.useState)(""),C=O[0],N=O[1],I=(0,a.useState)(!1),P=I[0],z=I[1],S=(0,a.useState)(!1),M=S[0],el=S[1],em=(0,a.useState)(!1),eu=em[0];em[1];var ep=(0,a.useState)(!1),eh=ep[0],ef=ep[1],eg=(0,f.dj)().addToast;(0,a.useEffect)(function(){ef(!0)},[]),(0,a.useEffect)(function(){if(eh&&c){var e;(e=(0,o.A)(d().mark(function e(){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,new Promise(function(e){return setTimeout(e,800)});case 4:return e.next=6,R.U.getOrderById(c);case 6:(r=e.sent)&&x(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to load order:",e.t0),x(null);case 14:k(!1);case 15:case"end":return e.stop()}},e,null,[[1,10]])})),function(){return e.apply(this,arguments)})()}},[c,eh]);var ey=(r=(0,o.A)(d().mark(function e(r){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),y){e.next=3;break}return e.abrupt("return");case 3:if(A.trim()){e.next=6;break}return eg({type:"error",title:"Driver Name Required",message:"Please enter your name to confirm pickup."}),e.abrupt("return");case 6:if(C){e.next=9;break}return eg({type:"error",title:"Delivery Company Required",message:"Please select your delivery company."}),e.abrupt("return");case 9:return z(!0),e.prev=10,e.next=13,new Promise(function(e){return setTimeout(e,1500)});case 13:return t=L(L({},y),{},{status:"picked_up",driverName:A.trim(),driverCompany:C,pickedUpAt:new Date}),e.prev=14,e.next=17,R.U.updateOrder(c,{status:"picked_up",driverName:A.trim(),driverCompany:C,pickedUpAt:new Date});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.error("Failed to update order in DynamoDB:",e.t0);case 22:x(t),el(!0),eg({type:"success",title:"Pickup Confirmed!",message:"Order #".concat(y.orderNumber," has been marked as picked up.")}),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(10),eg({type:"error",title:"Pickup Failed",message:"Please try again or contact support."});case 30:return e.prev=30,z(!1),e.finish(30);case 33:case"end":return e.stop()}},e,null,[[10,27,30,33],[14,19]])})),function(e){return r.apply(this,arguments)});return j?(0,b.jsx)(F,{children:(0,b.jsx)(U,{children:(0,b.jsxs)(B,{children:[(0,b.jsx)(h.kt,{size:"lg"}),(0,b.jsx)(q,{children:"Loading order details..."})]})})}):y?M&&!eu?(0,b.jsx)(F,{children:(0,b.jsx)(U,{children:(0,b.jsxs)(ea,{children:[(0,b.jsx)(m.A,{size:80,color:"#10b981"}),(0,b.jsx)(ec,{children:"Pickup Confirmed!"}),(0,b.jsx)(es,{children:"Thank you for confirming the pickup."}),(0,b.jsx)("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:(0,b.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:[(0,b.jsx)("strong",{children:"Order:"})," #",y.orderNumber,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Driver:"})," ",y.driverName,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Company:"})," ",y.driverCompany,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Time:"})," ",null==(n=y.pickedUpAt)?void 0:n.toLocaleString()]})}),(0,b.jsxs)("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem",flexDirection:"column"},children:[(0,b.jsx)(s(),{href:"/admin",style:{textDecoration:"none"},children:(0,b.jsx)("button",{style:{background:"#10b981",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",width:"100%"},children:"Back to Orders"})}),(0,b.jsx)("button",{onClick:function(){eg({type:"info",title:"Issue Reported",message:"Issue has been reported. Restaurant will be notified."})},style:{background:"#f59e0b",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Report Issue"})]})]})})}):eu?(0,b.jsx)(F,{children:(0,b.jsx)(U,{children:(0,b.jsxs)(ea,{children:[(0,b.jsx)(m.A,{size:80,color:"#3b82f6"}),(0,b.jsx)(ec,{children:"Delivery Complete!"}),(0,b.jsx)(es,{children:"Order has been successfully delivered."}),(0,b.jsx)("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:(0,b.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:[(0,b.jsx)("strong",{children:"Order:"})," #",null==y?void 0:y.orderNumber,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Driver:"})," ",null==y?void 0:y.driverName,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Company:"})," ",null==y?void 0:y.driverCompany,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Delivered:"})," ",null==y||null==(i=y.deliveredAt)?void 0:i.toLocaleString()]})})]})})}):(0,b.jsx)(F,{children:(0,b.jsxs)(U,{children:[(0,b.jsxs)(G,{children:[(0,b.jsxs)(V,{children:["Order #",y.orderNumber]}),(0,b.jsxs)(Q,{children:[(0,b.jsxs)(W,{children:[(0,b.jsx)(u.A,{size:16}),(0,b.jsx)("span",{children:y.customerName})]}),(0,b.jsxs)(W,{children:[(0,b.jsx)(p.A,{size:16}),(0,b.jsx)("span",{children:y.createdAt.toLocaleString()})]}),(0,b.jsx)(Y,{$status:y.status,children:"picked_up"===y.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.A,{size:16}),"Picked Up"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.A,{size:16}),"Awaiting Pickup"]})})]}),y.orderDetails&&(0,b.jsxs)(J,{children:[(0,b.jsx)(K,{children:"Order Details"}),(0,b.jsx)(X,{children:y.orderDetails})]}),(0,b.jsx)("div",{style:{marginTop:"1.5rem"},children:(0,b.jsx)(T.A,{orderId:y.id,orderNumber:y.orderNumber,compact:!0,size:120,showPrintButton:!1})})]}),(0,b.jsxs)(Z,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(D,{order:y})}),(0,b.jsxs)(ee,{children:[(0,b.jsx)(er,{children:"Driver Check-in"}),"pending"===y.status?(0,b.jsxs)(et,{onSubmit:ey,children:[(0,b.jsxs)(en,{children:[(0,b.jsx)(eo,{htmlFor:"driverName",children:"Driver Name *"}),(0,b.jsx)(ei,{type:"text",id:"driverName",value:A,onChange:function(e){return _(e.target.value)},placeholder:"Enter your full name",required:!0,disabled:P})]}),(0,b.jsxs)(en,{children:[(0,b.jsx)(eo,{htmlFor:"driverCompany",children:"Delivery Company *"}),(0,b.jsxs)("select",{id:"driverCompany",value:C,onChange:function(e){return N(e.target.value)},required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},disabled:P,children:[(0,b.jsx)("option",{value:"",children:"Select Company"}),(0,b.jsx)("option",{value:"UberEats",children:"UberEats"}),(0,b.jsx)("option",{value:"DoorDash",children:"DoorDash"}),(0,b.jsx)("option",{value:"Grubhub",children:"Grubhub"}),(0,b.jsx)("option",{value:"Postmates",children:"Postmates"}),(0,b.jsx)("option",{value:"DeliveryHero",children:"Delivery Hero"}),(0,b.jsx)("option",{value:"Independent",children:"Independent Driver"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsx)(ed,{type:"submit",isLoading:P,disabled:!A.trim()||!C,children:P?"Confirming Pickup...":"âœ… Confirm Pickup"})]}):(0,b.jsxs)(ea,{children:[(0,b.jsxs)(ec,{children:[(0,b.jsx)(m.A,{size:20}),"Order Already Picked Up"]}),(0,b.jsxs)(es,{children:[(0,b.jsx)("strong",{children:"Driver:"})," ",y.driverName,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Company:"})," ",y.driverCompany,(0,b.jsx)("br",{}),(0,b.jsx)("strong",{children:"Pickup Time:"})," ",null==(t=y.pickedUpAt)?void 0:t.toLocaleString()]})]})]})]})]})}):(0,b.jsx)(F,{children:(0,b.jsx)(U,{children:(0,b.jsxs)(E,{children:[(0,b.jsx)(l.A,{size:64,color:"#9CA3AF"}),(0,b.jsx)(H,{children:"Order Not Found"}),(0,b.jsx)("p",{children:"The order you're looking for doesn't exist."}),(0,b.jsx)($,{href:"/",children:"Return Home"})]})})})}},98365:(e,r,t)=>{t.d(r,{A:()=>n});var n=(0,t(25379).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}}]);